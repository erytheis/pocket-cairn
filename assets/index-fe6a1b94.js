var hl=Object.defineProperty;var gl=(l,e,t)=>e in l?hl(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var pt=(l,e,t)=>(gl(l,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();function G(){}const dt=l=>l;function ml(l,e){for(const t in e)l[t]=e[t];return l}function el(l){return l()}function Ft(){return Object.create(null)}function ye(l){l.forEach(el)}function Ie(l){return typeof l=="function"}function J(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let lt;function kt(l,e){return l===e?!0:(lt||(lt=document.createElement("a")),lt.href=e,l===lt.href)}function pl(l){return Object.keys(l).length===0}function yl(l,...e){if(l==null){for(const n of e)n(void 0);return G}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function oe(l,e,t){l.$$.on_destroy.push(yl(e,t))}function Tt(l,e,t,n){if(l){const a=tl(l,e,t,n);return l[0](a)}}function tl(l,e,t,n){return l[1]&&n?ml(t.ctx.slice(),l[1](n(e))):t.ctx}function Ct(l,e,t,n){if(l[2]&&n){const a=l[2](n(t));if(e.dirty===void 0)return a;if(typeof a=="object"){const i=[],s=Math.max(e.dirty.length,a.length);for(let o=0;o<s;o+=1)i[o]=e.dirty[o]|a[o];return i}return e.dirty|a}return e.dirty}function Mt(l,e,t,n,a,i){if(a){const s=tl(e,t,n,i);l.p(s,a)}}function At(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ee(l){return l??""}function vt(l){return l&&Ie(l.destroy)?l.destroy:G}const nl=typeof window<"u";let Pt=nl?()=>window.performance.now():()=>Date.now(),Rt=nl?l=>requestAnimationFrame(l):G;const qe=new Set;function ll(l){qe.forEach(e=>{e.c(l)||(qe.delete(e),e.f())}),qe.size!==0&&Rt(ll)}function Wt(l){let e;return qe.size===0&&Rt(ll),{promise:new Promise(t=>{qe.add(e={c:l,f:t})}),abort(){qe.delete(e)}}}function g(l,e){l.appendChild(e)}function al(l){if(!l)return document;const e=l.getRootNode?l.getRootNode():l.ownerDocument;return e&&e.host?e:l.ownerDocument}function bl(l){const e=w("style");return e.textContent="/* empty */",_l(al(l),e),e.sheet}function _l(l,e){return g(l.head||l,e),e.sheet}function H(l,e,t){l.insertBefore(e,t||null)}function $(l){l.parentNode&&l.parentNode.removeChild(l)}function ge(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function w(l){return document.createElement(l)}function Y(l){return document.createTextNode(l)}function S(){return Y(" ")}function ht(){return Y("")}function re(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function m(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function wl(l){return Array.from(l.childNodes)}function U(l,e){e=""+e,l.data!==e&&(l.data=e)}function st(l,e){l.value=e??""}function at(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function il(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}const ot=new Map;let rt=0;function kl(l){let e=5381,t=l.length;for(;t--;)e=(e<<5)-e^l.charCodeAt(t);return e>>>0}function vl(l,e){const t={stylesheet:bl(e),rules:{}};return ot.set(l,t),t}function ut(l,e,t,n,a,i,s,o=0){const u=16.666/n;let r=`{
`;for(let y=0;y<=1;y+=u){const b=e+(t-e)*i(y);r+=y*100+`%{${s(b,1-b)}}
`}const f=r+`100% {${s(t,1-t)}}
}`,c=`__svelte_${kl(f)}_${o}`,d=al(l),{stylesheet:p,rules:h}=ot.get(d)||vl(d,l);h[c]||(h[c]=!0,p.insertRule(`@keyframes ${c} ${f}`,p.cssRules.length));const k=l.style.animation||"";return l.style.animation=`${k?`${k}, `:""}${c} ${n}ms linear ${a}ms 1 both`,rt+=1,c}function ft(l,e){const t=(l.style.animation||"").split(", "),n=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),a=t.length-n.length;a&&(l.style.animation=n.join(", "),rt-=a,rt||$l())}function $l(){Rt(()=>{rt||(ot.forEach(l=>{const{ownerNode:e}=l.stylesheet;e&&$(e)}),ot.clear())})}let nt;function tt(l){nt=l}function sl(){if(!nt)throw new Error("Function called outside component initialization");return nt}function Hl(l){sl().$$.on_mount.push(l)}function me(){const l=sl();return(e,t,{cancelable:n=!1}={})=>{const a=l.$$.callbacks[e];if(a){const i=il(e,t,{cancelable:n});return a.slice().forEach(s=>{s.call(l,i)}),!i.defaultPrevented}return!0}}const Ve=[],Ot=[];let xe=[];const jt=[],Sl=Promise.resolve();let $t=!1;function Tl(){$t||($t=!0,Sl.then(ol))}function he(l){xe.push(l)}const yt=new Set;let je=0;function ol(){if(je!==0)return;const l=nt;do{try{for(;je<Ve.length;){const e=Ve[je];je++,tt(e),Cl(e.$$)}}catch(e){throw Ve.length=0,je=0,e}for(tt(null),Ve.length=0,je=0;Ot.length;)Ot.pop()();for(let e=0;e<xe.length;e+=1){const t=xe[e];yt.has(t)||(yt.add(t),t())}xe.length=0}while(Ve.length);for(;jt.length;)jt.pop()();$t=!1,yt.clear(),tt(l)}function Cl(l){if(l.fragment!==null){l.update(),ye(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(he)}}function Ml(l){const e=[],t=[];xe.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),xe=e}let Ze;function Bt(){return Ze||(Ze=Promise.resolve(),Ze.then(()=>{Ze=null})),Ze}function Le(l,e,t){l.dispatchEvent(il(`${e?"intro":"outro"}${t}`))}const it=new Set;let Te;function te(){Te={r:0,c:[],p:Te}}function ne(){Te.r||ye(Te.c),Te=Te.p}function _(l,e){l&&l.i&&(it.delete(l),l.i(e))}function v(l,e,t,n){if(l&&l.o){if(it.has(l))return;it.add(l),Te.c.push(()=>{it.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}const It={duration:0};function gt(l,e,t){const n={direction:"in"};let a=e(l,t,n),i=!1,s,o,u=0;function r(){s&&ft(l,s)}function f(){const{delay:d=0,duration:p=300,easing:h=dt,tick:k=G,css:y}=a||It;y&&(s=ut(l,0,1,p,d,h,y,u++)),k(0,1);const b=Pt()+d,T=b+p;o&&o.abort(),i=!0,he(()=>Le(l,!0,"start")),o=Wt(z=>{if(i){if(z>=T)return k(1,0),Le(l,!0,"end"),r(),i=!1;if(z>=b){const L=h((z-b)/p);k(L,1-L)}}return i})}let c=!1;return{start(){c||(c=!0,ft(l),Ie(a)?(a=a(n),Bt().then(f)):f())},invalidate(){c=!1},end(){i&&(r(),i=!1)}}}function mt(l,e,t){const n={direction:"out"};let a=e(l,t,n),i=!0,s;const o=Te;o.r+=1;let u;function r(){const{delay:f=0,duration:c=300,easing:d=dt,tick:p=G,css:h}=a||It;h&&(s=ut(l,1,0,c,f,d,h));const k=Pt()+f,y=k+c;he(()=>Le(l,!1,"start")),"inert"in l&&(u=l.inert,l.inert=!0),Wt(b=>{if(i){if(b>=y)return p(0,1),Le(l,!1,"end"),--o.r||ye(o.c),!1;if(b>=k){const T=d((b-k)/c);p(1-T,T)}}return i})}return Ie(a)?Bt().then(()=>{a=a(n),r()}):r(),{end(f){f&&"inert"in l&&(l.inert=u),f&&a.tick&&a.tick(1,0),i&&(s&&ft(l,s),i=!1)}}}function Je(l,e,t,n){let i=e(l,t,{direction:"both"}),s=n?0:1,o=null,u=null,r=null,f;function c(){r&&ft(l,r)}function d(h,k){const y=h.b-s;return k*=Math.abs(y),{a:s,b:h.b,d:y,duration:k,start:h.start,end:h.start+k,group:h.group}}function p(h){const{delay:k=0,duration:y=300,easing:b=dt,tick:T=G,css:z}=i||It,L={start:Pt()+k,b:h};h||(L.group=Te,Te.r+=1),"inert"in l&&(h?f!==void 0&&(l.inert=f):(f=l.inert,l.inert=!0)),o||u?u=L:(z&&(c(),r=ut(l,s,h,y,k,b,z)),h&&T(0,1),o=d(L,y),he(()=>Le(l,h,"start")),Wt(D=>{if(u&&D>u.start&&(o=d(u,y),u=null,Le(l,o.b,"start"),z&&(c(),r=ut(l,s,o.b,o.duration,0,b,i.css))),o){if(D>=o.end)T(s=o.b,1-s),Le(l,o.b,"end"),u||(o.b?c():--o.group.r||ye(o.group.c)),o=null;else if(D>=o.start){const K=D-o.start;s=o.a+o.d*b(K/o.duration),T(s,1-s)}}return!!(o||u)}))}return{run(h){Ie(i)?Bt().then(()=>{i=i({direction:h?"in":"out"}),p(h)}):p(h)},end(){c(),o=u=null}}}function Q(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function P(l){l&&l.c()}function M(l,e,t){const{fragment:n,after_update:a}=l.$$;n&&n.m(e,t),he(()=>{const i=l.$$.on_mount.map(el).filter(Ie);l.$$.on_destroy?l.$$.on_destroy.push(...i):ye(i),l.$$.on_mount=[]}),a.forEach(he)}function A(l,e){const t=l.$$;t.fragment!==null&&(Ml(t.after_update),ye(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Al(l,e){l.$$.dirty[0]===-1&&(Ve.push(l),Tl(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function X(l,e,t,n,a,i,s,o=[-1]){const u=nt;tt(l);const r=l.$$={fragment:null,ctx:[],props:i,update:G,not_equal:a,bound:Ft(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ft(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};s&&s(r.root);let f=!1;if(r.ctx=t?t(l,e.props||{},(c,d,...p)=>{const h=p.length?p[0]:d;return r.ctx&&a(r.ctx[c],r.ctx[c]=h)&&(!r.skip_bound&&r.bound[c]&&r.bound[c](h),f&&Al(l,c)),d}):[],r.update(),f=!0,ye(r.before_update),r.fragment=n?n(r.ctx):!1,e.target){if(e.hydrate){const c=wl(e.target);r.fragment&&r.fragment.l(c),c.forEach($)}else r.fragment&&r.fragment.c();e.intro&&_(l.$$.fragment),M(l,e.target,e.anchor),ol()}tt(u)}class Z{constructor(){pt(this,"$$");pt(this,"$$set")}$destroy(){A(this,1),this.$destroy=G}$on(e,t){if(!Ie(t))return G;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const a=n.indexOf(t);a!==-1&&n.splice(a,1)}}$set(e){this.$$set&&!pl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Pl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pl);const Ee=[];function ve(l,e=G){let t;const n=new Set;function a(o){if(J(l,o)&&(l=o,t)){const u=!Ee.length;for(const r of n)r[1](),Ee.push(r,l);if(u){for(let r=0;r<Ee.length;r+=2)Ee[r][0](Ee[r+1]);Ee.length=0}}}function i(o){a(o(l))}function s(o,u=G){const r=[o,u];return n.add(r),n.size===1&&(t=e(a,i)||G),o(l),()=>{n.delete(r),n.size===0&&t&&(t(),t=null)}}return{set:a,update:i,subscribe:s}}const I=(l=1,e=6)=>{const t=[];for(let n=0;n<l;n++){const a=Math.floor(Math.random()*e)+1;t.push(a)}return t.reduce((n,a)=>n+a,0)},Rl=()=>{const{subscribe:l,set:e,update:t}=ve([{key:"4",value:4,count:0},{key:"6",value:6,count:0},{key:"8",value:8,count:0},{key:"10",value:10,count:0},{key:"12",value:12,count:0},{key:"20",value:20,count:0}]);return{subscribe:l,set:e,roll:n=>t(a=>(a.find(i=>i.key===n).count+=1,a.find(i=>i.key===n).value=I(1,+n),[...a]))}},bt=Rl();function rl(l){const e=l-1;return e*e*e+1}function Wl(l){return l*l*l*l*l}function Ke(l){return--l*l*l*l*l+1}function ze(l,{delay:e=0,duration:t=400,easing:n=dt}={}){const a=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*a}`}}function Ue(l,{delay:e=0,duration:t=400,easing:n=rl,axis:a="y"}={}){const i=getComputedStyle(l),s=+i.opacity,o=a==="y"?"height":"width",u=parseFloat(i[o]),r=a==="y"?["top","bottom"]:["left","right"],f=r.map(b=>`${b[0].toUpperCase()}${b.slice(1)}`),c=parseFloat(i[`padding${f[0]}`]),d=parseFloat(i[`padding${f[1]}`]),p=parseFloat(i[`margin${f[0]}`]),h=parseFloat(i[`margin${f[1]}`]),k=parseFloat(i[`border${f[0]}Width`]),y=parseFloat(i[`border${f[1]}Width`]);return{delay:e,duration:t,easing:n,css:b=>`overflow: hidden;opacity: ${Math.min(b*20,1)*s};${o}: ${b*u}px;padding-${r[0]}: ${b*c}px;padding-${r[1]}: ${b*d}px;margin-${r[0]}: ${b*p}px;margin-${r[1]}: ${b*h}px;border-${r[0]}-width: ${b*k}px;border-${r[1]}-width: ${b*y}px;`}}function Bl(l,{delay:e=0,duration:t=400,easing:n=rl,start:a=0,opacity:i=0}={}){const s=getComputedStyle(l),o=+s.opacity,u=s.transform==="none"?"":s.transform,r=1-a,f=o*(1-i);return{delay:e,duration:t,easing:n,css:(c,d)=>`
			transform: ${u} scale(${1-r*d});
			opacity: ${o-f*d}
		`}}function Et(l,e,t){const n=l.slice();return n[5]=e[t],n[7]=t,n}function Gt(l){let e,t=l[5].value+"",n,a;return{c(){e=w("span"),n=Y(t),m(e,"class","svelte-1sm778n")},m(i,s){H(i,e,s),g(e,n)},p(i,s){s&1&&t!==(t=i[5].value+"")&&U(n,t)},i(i){i&&(a||he(()=>{a=gt(e,Bl,{delay:150,duration:200,easing:Wl}),a.start()}))},o:G,d(i){i&&$(e)}}}function Nt(l){let e,t=l[5].count,n,a,i,s,o=Gt(l);function u(){return l[3](l[5],l[7])}return{c(){e=w("button"),o.c(),n=S(),m(e,"ontouchstart",""),m(e,"class",a=ee(`dice d${l[5].key}${l[1]===l[7]?" green":""}`)+" svelte-1sm778n")},m(r,f){H(r,e,f),o.m(e,null),g(e,n),i||(s=re(e,"click",u),i=!0)},p(r,f){l=r,f&1&&J(t,t=l[5].count)?(te(),v(o,1,1,G),ne(),o=Gt(l),o.c(),_(o,1),o.m(e,n)):o.p(l,f),f&3&&a!==(a=ee(`dice d${l[5].key}${l[1]===l[7]?" green":""}`)+" svelte-1sm778n")&&m(e,"class",a)},d(r){r&&$(e),o.d(r),i=!1,s()}}}function Il(l){let e,t=Q(l[0]),n=[];for(let a=0;a<t.length;a+=1)n[a]=Nt(Et(l,t,a));return{c(){e=w("div");for(let a=0;a<n.length;a+=1)n[a].c();m(e,"class","dice-list svelte-1sm778n")},m(a,i){H(a,e,i);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(a,[i]){if(i&7){t=Q(a[0]);let s;for(s=0;s<t.length;s+=1){const o=Et(a,t,s);n[s]?n[s].p(o,i):(n[s]=Nt(o),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},i:G,o:G,d(a){a&&$(e),ge(n,a)}}}function Yl(l,e,t){let n;oe(l,bt,u=>t(4,n=u));let a=n;bt.subscribe(u=>t(0,a=u));let i;const s=(u,r)=>{bt.roll(u),t(1,i=r)};return[a,i,s,(u,r)=>s(u.key,r)]}class Ll extends Z{constructor(e){super(),X(this,e,Yl,Il,J,{})}}const zl=()=>{const{subscribe:l,set:e}=ve({background:"",description:"",firstPerk:{title:"",content:""},secondPerk:{title:"",subtitle:"",content:""},bonds:[""]});return{subscribe:l,set:e}},Xe=zl(),Dl=()=>{const{subscribe:l,set:e,update:t}=ve("first");return{subscribe:l,set:e,change:()=>t(n=>(n=n==="second"?"first":"second",n))}},He=Dl(),Fl=()=>{const{subscribe:l,set:e,update:t}=ve("");return{subscribe:l,set:e,change:n=>t(a=>(a=n,ie(),a))}},Me=Fl(),Ol=l=>{let e;be.subscribe(n=>e=n[`${l}Max`]);const t=I(1,20);return t===1||t<=e},_t=(l,e=1)=>{let t;fe.subscribe(a=>t=a.hpMax);const n=I(e,6);l!=="add"?n>t?(fe.setMaxHp(n),pe.addHistory(`HP has been set to ${n}.`)):pe.addHistory("HP roll result was too low, no upgrade."):(fe.setMaxHp(t+n),pe.addHistory(`${n} has been added to HP.`))},wt=(l,e)=>{const t=e||["","str","dex","wil"][I(1,3)];let n;be.subscribe(i=>n=i[`${t}Max`]);const a=I(3,6);if(l!=="add")n<a?(be.setMaxAbility(t,a),pe.addHistory(`${t.toUpperCase()} has been set to ${a}.`)):pe.addHistory(`${t.toUpperCase()} roll result was too low, no upgrade.`);else if(Ol(t)){const i=I(1,4);be.setMaxAbility(t,n+i),pe.addHistory(`${i} has been added to ${t.toUpperCase()}.`)}else pe.addHistory(`${t.toUpperCase()} save was failed, no upgrade.`)},jl=()=>{const l=[],{subscribe:e,set:t,update:n}=ve([...l]);return{subscribe:e,set:t,add:a=>n(i=>{switch(a){case 1:i=[...i,{content:`Lasting Scar on ${["","Neck","Hands","Eye","Chest","Legs","Ear"][I(1,6)]}.`}],_t("change",1);break;case 2:i=[...i,{content:"Rattling Blow. You’re disoriented and shaken. Describe how you refocus."}],_t("change",1);break;case 3:i=[...i,{content:"Walloped: You’re sent flying and land flat on your face, winded. You are deprived until you rest for a few hours, when resolve.",resolve:{action:"increaseHP",type:"add",num:1}}];break;case 4:i=[...i,{content:`Broken Limb: ${["","Leg","Leg","Arm","Arm","Rib","Skull"][I(1,6)]}. Once mended, resolve.`,resolve:{action:"increaseHP",type:"change",num:2}}];break;case 5:i=[...i,{content:"Diseased: You’re afflicted with a gross, uncomfortable infection. When you get over it, resolve.",resolve:{action:"increaseHP",type:"change",num:2}}];break;case 6:i=[...i,{content:"Reorienting Head Wound."}],wt("change");break;case 7:i=[...i,{content:"Hamstrung: You can barely move until you get serious help and rest. After recovery, resolve.",resolve:{action:"increaseAbility",type:"change",key:"dex"}}];break;case 8:i=[...i,{content:"Deafened: You cannot hear anything until you find extraordinary aid. Regardless, resolve.",resolve:{action:"increaseAbility",type:"add",key:"wil"}}];break;case 9:i=[...i,{content:"Re-brained: Some hidden part of your psyche is knocked loose."}],wt("change","wil");break;case 10:i=[...i,{content:"Sundered: An appendage is torn off, crippled or useless. The Warden will tell you which. Then resolve.",resolve:{action:"increaseAbility",type:"add",key:"wil"}}];break;case 11:i=[...i,{content:"Mortal Wound: You are deprived and out of action. You die in one hour unless healed. Upon recovery, resolve.",resolve:{action:"increaseHP",type:"change",num:2}}];break;case 12:i=[...i,{content:"Doomed: Death seemed ever so close, but somehow you survived. If your next save against critical damage is a fail, you die horribly. If you pass, resolve",resolve:{action:"increaseHP",type:"change",num:3}}];break}return setTimeout(()=>ie(),0),[...i]}),addHistory:a=>setTimeout(()=>n(i=>(i=[...i,{content:a}],setTimeout(()=>ie(),0),[...i])),0),resolve:a=>n(i=>{const s=i[a].resolve;switch(s.action){case"increaseHP":_t(s.type,s.num);break;case"increaseAbility":wt(s.type,s.key);break}return i[a].resolve=null,ie(),[...i]}),reset:()=>{t([...l]),ie()}}},pe=jl(),El=()=>{const{subscribe:l,set:e,update:t}=ve([]);return{subscribe:l,set:e,increase:(n,a)=>t(i=>{const s=i.find(o=>o.id===a);return s.stats[n]+=s.stats[n]<(s.stats[`${n}Max`]||9)?1:0,ie(),[...i]}),decrease:(n,a)=>t(i=>{const s=i.find(o=>o.id===a);return s.stats[n]-=s.stats[n]>0?1:0,ie(),[...i]}),changeItems:(n,a)=>t(i=>{const s=i.find(o=>o.id===a);return s.inventory=n,ie(),[...i]}),addCompanion:n=>t(a=>(n.id=Date.now(),[...a,n])),removeCompanion:n=>t(a=>(a=a.filter(i=>i.id!==n),[...a]))}},we=El(),Yt=()=>{let l;He.subscribe(c=>l=c);let e;Ae.subscribe(c=>e=c);let t;be.subscribe(c=>t=c);let n;fe.subscribe(c=>n=c);let a;Ce.subscribe(c=>a=c);let i;ke.subscribe(c=>i=c);let s;Pe.subscribe(c=>s=c);let o;pe.subscribe(c=>o=c);let u;Xe.subscribe(c=>u=c);let r;we.subscribe(c=>r=c);let f;if(Me.subscribe(c=>f=c),l==="first")return{edition:l,name:e,abilities:{str:t.str,dex:t.dex,wil:t.wil,strMax:t.strMax,dexMax:t.dexMax,wilMax:t.wilMax},stats:{hp:n.hp,hpMax:n.hpMax,armor:n.armor,deprived:n.deprived},coins:{gp:a.gp,sp:a.sp,cp:a.cp},inventory:i,scars:o,notes:f};if(l==="second")return{edition:l,name:e,abilities:{str:t.str,dex:t.dex,wil:t.wil,strMax:t.strMax,dexMax:t.dexMax,wilMax:t.wilMax},stats:{hp:n.hp,hpMax:n.hpMax,armor:n.armor,deprived:n.deprived},coins:{gp:a.gp},inventory:i,petty:s,scars:o,biography:u,notes:f,companions:r}},ie=()=>{const l=Yt();localStorage.setItem("pc__character",JSON.stringify(l))},Gl=()=>{const{subscribe:l,set:e,update:t}=ve({str:0,dex:0,wil:0,strMax:0,dexMax:0,wilMax:0});return{subscribe:l,set:e,increase:n=>t(a=>(a[n]+=a[n]<a[`${n}Max`]?1:0,ie(),{...a})),decrease:n=>t(a=>(a[n]-=a[n]>0?1:0,ie(),{...a})),setMaxAbility:(n,a)=>t(i=>(i[`${n}Max`]=a,i[n]>i[`${n}Max`]&&(i[n]=a),ie(),{...i}))}},Nl=()=>{const{subscribe:l,set:e,update:t}=ve({hp:0,hpMax:10,armor:0,deprived:!1});return{subscribe:l,set:e,increaseHp:()=>t(n=>(n.hp+=n.hp<n.hpMax?1:0,ie(),{...n})),decreaseHp:()=>t(n=>(n.hp-=n.hp>0?1:0,ie(),{...n})),setMaxHp:n=>t(a=>(a.hpMax=n,a.hp>a.hpMax&&(a.hp=n),ie(),{...a})),increaceArmor:()=>t(n=>(n.armor+=n.armor<3?1:0,ie(),{...n})),decreaseArmor:()=>t(n=>(n.armor-=n.armor>0?1:0,ie(),{...n})),changeDeprived:()=>t(n=>(n.deprived=!n.deprived,ie(),{...n}))}},Vl=()=>{const{subscribe:l,set:e,update:t}=ve({gp:"0",sp:"0",cp:"0"});return{subscribe:l,set:e,change:(n,a)=>t(i=>(i[n]=a,ie(),{...i}))}},ql=()=>{const{subscribe:l,set:e,update:t}=ve([{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]);return{subscribe:l,set:e,change:n=>t(a=>(a=n,ie(),[...a]))}},xl=()=>{const{subscribe:l,set:e,update:t}=ve([{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]);return{subscribe:l,set:e,change:n=>t(a=>(a=n,ie(),[...a]))}},Ae=ve(""),be=Gl(),fe=Nl(),Ce=Vl(),ke=ql(),Pe=xl();function Jl(l){let e,t;const n=l[11].default,a=Tt(n,l,l[10],null);return{c(){e=w("p"),a&&a.c(),m(e,"class","svelte-fxtc5y")},m(i,s){H(i,e,s),a&&a.m(e,null),t=!0},p(i,s){a&&a.p&&(!t||s&1024)&&Mt(a,n,i,i[10],t?Ct(n,i[10],s,null):At(i[10]),null)},i(i){t||(_(a,i),t=!0)},o(i){v(a,i),t=!1},d(i){i&&$(e),a&&a.d(i)}}}function Kl(l){let e,t;return{c(){e=w("img"),m(e,"class","image svelte-fxtc5y"),kt(e.src,t=l[5])||m(e,"src",t),m(e,"alt",l[6])},m(n,a){H(n,e,a)},p(n,a){a&32&&!kt(e.src,t=n[5])&&m(e,"src",t),a&64&&m(e,"alt",n[6])},i:G,o:G,d(n){n&&$(e)}}}function Ul(l){let e,t,n,a,i,s,o,u;he(l[12]);const r=[Kl,Jl],f=[];function c(d,p){return d[5]?0:1}return t=c(l),n=f[t]=r[t](l),{c(){e=w("button"),n.c(),m(e,"ontouchstart",""),m(e,"class",a=ee(`button${l[4]?" borderless":""}`)+" svelte-fxtc5y"),e.disabled=l[3],m(e,"style",i=`
    min-width: ${l[8]}px;
    min-height: ${l[1]}px;
    height: ${l[1]}px;
    border-radius: ${l[8]/2}px;
    padding: ${l[0]}px;
    font-size: ${l[2]};
    line-height: ${l[2]};
  `)},m(d,p){H(d,e,p),f[t].m(e,null),s=!0,o||(u=[re(window,"resize",l[12]),re(e,"click",l[13])],o=!0)},p(d,[p]){let h=t;t=c(d),t===h?f[t].p(d,p):(te(),v(f[h],1,1,()=>{f[h]=null}),ne(),n=f[t],n?n.p(d,p):(n=f[t]=r[t](d),n.c()),_(n,1),n.m(e,null)),(!s||p&16&&a!==(a=ee(`button${d[4]?" borderless":""}`)+" svelte-fxtc5y"))&&m(e,"class",a),(!s||p&8)&&(e.disabled=d[3]),(!s||p&263&&i!==(i=`
    min-width: ${d[8]}px;
    min-height: ${d[1]}px;
    height: ${d[1]}px;
    border-radius: ${d[8]/2}px;
    padding: ${d[0]}px;
    font-size: ${d[2]};
    line-height: ${d[2]};
  `))&&m(e,"style",i)},i(d){s||(_(n),s=!0)},o(d){v(n),s=!1},d(d){d&&$(e),f[t].d(),o=!1,ye(u)}}}function Ql(l,e,t){let n,{$$slots:a={},$$scope:i}=e,{height:s=40}=e,{padding:o=0}=e,{fontSize:u="1.6rem"}=e,{disabled:r=!1}=e,{borderless:f=!1}=e,{image:c=void 0}=e,{alt:d=void 0}=e;const p=me();let h;function k(){t(7,h=window.innerWidth)}const y=()=>p("click");return l.$$set=b=>{"height"in b&&t(1,s=b.height),"padding"in b&&t(0,o=b.padding),"fontSize"in b&&t(2,u=b.fontSize),"disabled"in b&&t(3,r=b.disabled),"borderless"in b&&t(4,f=b.borderless),"image"in b&&t(5,c=b.image),"alt"in b&&t(6,d=b.alt),"$$scope"in b&&t(10,i=b.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&t(0,o||(o=0)),l.$$.dirty&130&&t(8,n=h>374?s:s*.75)},[o,s,u,r,f,c,d,h,n,p,i,a,k,y]}class se extends Z{constructor(e){super(),X(this,e,Ql,Ul,J,{height:1,padding:0,fontSize:2,disabled:3,borderless:4,image:5,alt:6})}}const Xl=(l="character")=>{const e=Yt(),t=`${e.name}.json`,n=JSON.stringify(e),a=document.createElement("a");a.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(n)),a.setAttribute("download",t),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)},ul=l=>{const e=t=>{l&&!l.contains(t.target)&&!t.defaultPrevented&&l.dispatchEvent(new CustomEvent("click_outside",l))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}};function Zl(l,e){return e?(document.getElementById(e).appendChild(l),{destroy(){l.remove()}}):void 0}function Vt(l){let e,t,n,a,i,s,o,u,r,f,c,d,p,h=l[1]&&qt(l);const k=l[6].default,y=Tt(k,l,l[10],null);s=new se({props:{$$slots:{default:[ea]},$$scope:{ctx:l}}}),s.$on("click",l[7]);let b=!l[2]&&xt(l);return{c(){e=w("div"),h&&h.c(),t=S(),n=w("span"),y&&y.c(),a=S(),i=w("div"),P(s.$$.fragment),o=S(),b&&b.c(),m(n,"class","content svelte-o0uayc"),m(i,"class",u=ee(`controls${l[2]?" submission":""}`)+" svelte-o0uayc"),m(e,"class","modal svelte-o0uayc")},m(T,z){H(T,e,z),h&&h.m(e,null),g(e,t),g(e,n),y&&y.m(n,null),g(e,a),g(e,i),M(s,i,null),g(i,o),b&&b.m(i,null),c=!0,d||(p=[vt(r=Zl.call(null,e,l[4])),vt(ul.call(null,e)),re(e,"click_outside",l[9])],d=!0)},p(T,z){T[1]?h?h.p(T,z):(h=qt(T),h.c(),h.m(e,t)):h&&(h.d(1),h=null),y&&y.p&&(!c||z&1024)&&Mt(y,k,T,T[10],c?Ct(k,T[10],z,null):At(T[10]),null);const L={};z&1024&&(L.$$scope={dirty:z,ctx:T}),s.$set(L),T[2]?b&&(te(),v(b,1,1,()=>{b=null}),ne()):b?(b.p(T,z),z&4&&_(b,1)):(b=xt(T),b.c(),_(b,1),b.m(i,null)),(!c||z&4&&u!==(u=ee(`controls${T[2]?" submission":""}`)+" svelte-o0uayc"))&&m(i,"class",u),r&&Ie(r.update)&&z&16&&r.update.call(null,T[4])},i(T){c||(_(y,T),_(s.$$.fragment,T),_(b),T&&he(()=>{c&&(f||(f=Je(e,Ue,{delay:100,duration:200,easing:Ke,axis:"y"},!0)),f.run(1))}),c=!0)},o(T){v(y,T),v(s.$$.fragment,T),v(b),T&&(f||(f=Je(e,Ue,{delay:100,duration:200,easing:Ke,axis:"y"},!1)),f.run(0)),c=!1},d(T){T&&$(e),h&&h.d(),y&&y.d(T),A(s),b&&b.d(),T&&f&&f.end(),d=!1,ye(p)}}}function qt(l){let e,t;return{c(){e=w("h2"),t=Y(l[1]),m(e,"class","title svelte-o0uayc")},m(n,a){H(n,e,a),g(e,t)},p(n,a){a&2&&U(t,n[1])},d(n){n&&$(e)}}}function ea(l){let e;return{c(){e=Y("Cancel")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function xt(l){let e,t;return e=new se({props:{disabled:l[3],$$slots:{default:[ta]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&8&&(i.disabled=n[3]),a&1024&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ta(l){let e;return{c(){e=Y("OK")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function na(l){let e,t,n=l[0]&&Vt(l);return{c(){n&&n.c(),e=ht()},m(a,i){n&&n.m(a,i),H(a,e,i),t=!0},p(a,[i]){a[0]?n?(n.p(a,i),i&1&&_(n,1)):(n=Vt(a),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(te(),v(n,1,1,()=>{n=null}),ne())},i(a){t||(_(n),t=!0)},o(a){v(n),t=!1},d(a){a&&$(e),n&&n.d(a)}}}function la(l,e,t){let{$$slots:n={},$$scope:a}=e,{isShown:i}=e,{title:s=void 0}=e,{submission:o=!1}=e,{disableOk:u=!1}=e,{teleportId:r=null}=e;const f=me(),c=()=>f("cancel"),d=()=>f("ok"),p=()=>f("cancel");return l.$$set=h=>{"isShown"in h&&t(0,i=h.isShown),"title"in h&&t(1,s=h.title),"submission"in h&&t(2,o=h.submission),"disableOk"in h&&t(3,u=h.disableOk),"teleportId"in h&&t(4,r=h.teleportId),"$$scope"in h&&t(10,a=h.$$scope)},[i,s,o,u,r,f,n,c,d,p,a]}class Se extends Z{constructor(e){super(),X(this,e,la,na,J,{isShown:0,title:1,submission:2,disableOk:3,teleportId:4})}}function Jt(l){let e,t,n;return{c(){e=w("span"),t=Y(l[0]),m(e,"class",n=ee(`title ${l[5]}`)+" svelte-62qlw9")},m(a,i){H(a,e,i),g(e,t)},p(a,i){i&1&&U(t,a[0]),i&32&&n!==(n=ee(`title ${a[5]}`)+" svelte-62qlw9")&&m(e,"class",n)},d(a){a&&$(e)}}}function aa(l){let e;return{c(){e=Y("−")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Kt(l){let e,t;return{c(){e=Y("/ "),t=Y(l[2])},m(n,a){H(n,e,a),H(n,t,a)},p(n,a){a&4&&U(t,n[2])},d(n){n&&($(e),$(t))}}}function ia(l){let e;return{c(){e=Y("+")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function sa(l){let e,t,n,a,i,s,o,u,r,f,c,d,p,h=l[0]&&Jt(l);a=new se({props:{disabled:l[1]===l[3],height:l[5]==="big"?40:30,$$slots:{default:[aa]},$$scope:{ctx:l}}}),a.$on("click",l[7]);let k=!l[4]&&Kt(l);return c=new se({props:{disabled:l[1]>=l[2],height:l[5]==="big"?40:30,$$slots:{default:[ia]},$$scope:{ctx:l}}}),c.$on("click",l[8]),{c(){e=w("div"),h&&h.c(),t=S(),n=w("div"),P(a.$$.fragment),i=S(),s=w("div"),o=Y(l[1]),u=S(),k&&k.c(),f=S(),P(c.$$.fragment),m(s,"class",r=ee(`current ${l[5]}`)+" svelte-62qlw9"),m(n,"class","controls svelte-62qlw9"),m(n,"style",d=`max-width: ${l[5]==="big"?"300":"180"}px;`),m(e,"class","ability svelte-62qlw9")},m(y,b){H(y,e,b),h&&h.m(e,null),g(e,t),g(e,n),M(a,n,null),g(n,i),g(n,s),g(s,o),g(s,u),k&&k.m(s,null),g(n,f),M(c,n,null),p=!0},p(y,[b]){y[0]?h?h.p(y,b):(h=Jt(y),h.c(),h.m(e,t)):h&&(h.d(1),h=null);const T={};b&10&&(T.disabled=y[1]===y[3]),b&32&&(T.height=y[5]==="big"?40:30),b&512&&(T.$$scope={dirty:b,ctx:y}),a.$set(T),(!p||b&2)&&U(o,y[1]),y[4]?k&&(k.d(1),k=null):k?k.p(y,b):(k=Kt(y),k.c(),k.m(s,null)),(!p||b&32&&r!==(r=ee(`current ${y[5]}`)+" svelte-62qlw9"))&&m(s,"class",r);const z={};b&6&&(z.disabled=y[1]>=y[2]),b&32&&(z.height=y[5]==="big"?40:30),b&512&&(z.$$scope={dirty:b,ctx:y}),c.$set(z),(!p||b&32&&d!==(d=`max-width: ${y[5]==="big"?"300":"180"}px;`))&&m(n,"style",d)},i(y){p||(_(a.$$.fragment,y),_(c.$$.fragment,y),p=!0)},o(y){v(a.$$.fragment,y),v(c.$$.fragment,y),p=!1},d(y){y&&$(e),h&&h.d(),A(a),k&&k.d(),A(c)}}}function oa(l,e,t){let{title:n=""}=e,{value:a=0}=e,{maxValue:i=0}=e,{minValue:s=0}=e,{hideMaxValue:o=!1}=e,{size:u="big"}=e;const r=me(),f=()=>r("decrease"),c=()=>r("increase");return l.$$set=d=>{"title"in d&&t(0,n=d.title),"value"in d&&t(1,a=d.value),"maxValue"in d&&t(2,i=d.maxValue),"minValue"in d&&t(3,s=d.minValue),"hideMaxValue"in d&&t(4,o=d.hideMaxValue),"size"in d&&t(5,u=d.size)},[n,a,i,s,o,u,r,f,c]}class Re extends Z{constructor(e){super(),X(this,e,oa,sa,J,{title:0,value:1,maxValue:2,minValue:3,hideMaxValue:4,size:5})}}function Ut(l,e,t){const n=l.slice();return n[8]=e[t],n}function Qt(l){let e,t=l[8]+"",n,a,i,s,o;function u(){return l[4](l[8])}return{c(){e=w("button"),n=Y(t),a=S(),m(e,"ontouchstart",""),m(e,"class",i=ee(`item${l[0]===l[8]?" selected":""}`)+" svelte-r3zxjg")},m(r,f){H(r,e,f),g(e,n),g(e,a),s||(o=re(e,"click",u),s=!0)},p(r,f){l=r,f&1&&i!==(i=ee(`item${l[0]===l[8]?" selected":""}`)+" svelte-r3zxjg")&&m(e,"class",i)},d(r){r&&$(e),s=!1,o()}}}function ra(l){let e,t,n,a,i,s,o,u,r,f=Q(l[2]),c=[];for(let d=0;d<f.length;d+=1)c[d]=Qt(Ut(l,f,d));return u=new Re({props:{value:l[1],maxValue:8,minValue:-8,hideMaxValue:!0}}),u.$on("decrease",l[5]),u.$on("increase",l[6]),{c(){e=w("div"),t=w("span"),t.textContent="Choose stat:",n=S(),a=w("div");for(let d=0;d<c.length;d+=1)c[d].c();i=S(),s=w("span"),s.textContent="Change maximum value for:",o=S(),P(u.$$.fragment),m(a,"class","stats svelte-r3zxjg"),m(e,"class","change svelte-r3zxjg")},m(d,p){H(d,e,p),g(e,t),g(e,n),g(e,a);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(a,null);g(e,i),g(e,s),g(e,o),M(u,e,null),r=!0},p(d,[p]){if(p&13){f=Q(d[2]);let k;for(k=0;k<f.length;k+=1){const y=Ut(d,f,k);c[k]?c[k].p(y,p):(c[k]=Qt(y),c[k].c(),c[k].m(a,null))}for(;k<c.length;k+=1)c[k].d(1);c.length=f.length}const h={};p&2&&(h.value=d[1]),u.$set(h)},i(d){r||(_(u.$$.fragment,d),r=!0)},o(d){v(u.$$.fragment,d),r=!1},d(d){d&&$(e),ge(c,d),A(u)}}}function ua(l,e,t){const n=me();let{stat:a="str"}=e,{value:i=0}=e;const s=["str","dex","wil","hp"],o=c=>t(0,a=c),u=c=>o(c),r=()=>i>-8?t(1,i-=1):t(1,i),f=()=>i<8?t(1,i+=1):t(1,i);return l.$$set=c=>{"stat"in c&&t(0,a=c.stat),"value"in c&&t(1,i=c.value)},l.$$.update=()=>{l.$$.dirty&3&&n("change",{stat:a,value:i})},[a,i,s,o,u,r,f]}class fa extends Z{constructor(e){super(),X(this,e,ua,ra,J,{stat:0,value:1})}}function Xt(l,e,t){const n=l.slice();return n[31]=e[t],n[33]=t,n}function Zt(l){let e;return{c(){e=w("div"),e.innerHTML='<span class="svelte-10tgczs">You have no scars</span> <span class="svelte-10tgczs">You can add a new scar when damage reduces your HP to exactly 0.</span>',m(e,"class","item svelte-10tgczs")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function ca(l){let e,t;return e=new se({props:{height:30,fontSize:"1rem",disabled:!0,$$slots:{default:[ha]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function da(l){let e,t;function n(){return l[13](l[33])}return e=new se({props:{height:30,fontSize:"1rem",$$slots:{default:[ga]},$$scope:{ctx:l}}}),e.$on("click",n),{c(){P(e.$$.fragment)},m(a,i){M(e,a,i),t=!0},p(a,i){l=a;const s={};i[1]&8&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){A(e,a)}}}function ha(l){let e;return{c(){e=Y("Resolved")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function ga(l){let e;return{c(){e=Y("Resolve")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function en(l){let e,t=l[31].content+"",n,a,i,s,o,u;const r=[da,ca],f=[];function c(d,p){return d[31].resolve?0:1}return i=c(l),s=f[i]=r[i](l),{c(){e=w("div"),n=Y(t),a=S(),s.c(),o=S(),m(e,"class","item resolvable svelte-10tgczs")},m(d,p){H(d,e,p),g(e,n),g(e,a),f[i].m(e,null),g(e,o),u=!0},p(d,p){(!u||p[0]&128)&&t!==(t=d[31].content+"")&&U(n,t);let h=i;i=c(d),i!==h&&(te(),v(f[h],1,1,()=>{f[h]=null}),ne(),s=f[i],s||(s=f[i]=r[i](d),s.c()),_(s,1),s.m(e,o))},i(d){u||(_(s),u=!0)},o(d){v(s),u=!1},d(d){d&&$(e),f[i].d()}}}function ma(l){let e;return{c(){e=Y("Add scar")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function pa(l){let e;return{c(){e=Y("Edit stat")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function ya(l){let e;return{c(){e=Y("Download character")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function ba(l){let e;return{c(){e=Y("Delete character")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function _a(l){let e;return{c(){e=Y(`Adding a scar is an irreversible action that enables you to advance your
    character. Have you consulted with the Warden to confirm that you can
    acquire a scar?`)},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function wa(l){let e;return{c(){e=Y(`Manually changing stat is a specific action. Have you consulted with the
    Warden to confirm that you can change stat?`)},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function ka(l){let e,t,n;return t=new Re({props:{value:l[5],maxValue:12,hideMaxValue:!0}}),t.$on("decrease",l[22]),t.$on("increase",l[23]),{c(){e=Y(`How many damage points was taken?
    `),P(t.$$.fragment)},m(a,i){H(a,e,i),M(t,a,i),n=!0},p(a,i){const s={};i[0]&32&&(s.value=a[5]),t.$set(s)},i(a){n||(_(t.$$.fragment,a),n=!0)},o(a){v(t.$$.fragment,a),n=!1},d(a){a&&$(e),A(t,a)}}}function va(l){let e,t;return e=new fa({}),e.$on("change",l[26]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:G,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function $a(l){let e;return{c(){e=Y("Do you really want to delete this character?")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Ha(l){let e,t,n,a,i,s,o,u,r,f,c,d,p,h,k,y,b,T,z,L,D,K,O,x,R,E,j=l[7].length===0&&Zt(),V=Q(l[7]),F=[];for(let B=0;B<V.length;B+=1)F[B]=en(Xt(l,V,B));const le=B=>v(F[B],1,1,()=>{F[B]=null});return r=new se({props:{padding:4,disabled:l[6].hp>0,$$slots:{default:[ma]},$$scope:{ctx:l}}}),r.$on("click",l[14]),c=new se({props:{padding:4,$$slots:{default:[pa]},$$scope:{ctx:l}}}),c.$on("click",l[15]),p=new se({props:{padding:4,$$slots:{default:[ya]},$$scope:{ctx:l}}}),p.$on("click",l[16]),k=new se({props:{padding:4,$$slots:{default:[ba]},$$scope:{ctx:l}}}),k.$on("click",l[17]),b=new Se({props:{isShown:l[1],$$slots:{default:[_a]},$$scope:{ctx:l}}}),b.$on("cancel",l[18]),b.$on("ok",l[19]),z=new Se({props:{isShown:l[3],$$slots:{default:[wa]},$$scope:{ctx:l}}}),z.$on("cancel",l[20]),z.$on("ok",l[21]),D=new Se({props:{isShown:l[2],disableOk:l[5]===0,$$slots:{default:[ka]},$$scope:{ctx:l}}}),D.$on("cancel",l[24]),D.$on("ok",l[25]),O=new Se({props:{isShown:l[4],$$slots:{default:[va]},$$scope:{ctx:l}}}),O.$on("cancel",l[10]),O.$on("ok",l[11]),R=new Se({props:{isShown:l[0],$$slots:{default:[$a]},$$scope:{ctx:l}}}),R.$on("cancel",l[27]),R.$on("ok",l[28]),{c(){e=w("div"),t=w("span"),t.textContent="Scars history:",n=S(),a=w("div"),i=w("div"),j&&j.c(),s=S();for(let B=0;B<F.length;B+=1)F[B].c();o=S(),u=w("div"),P(r.$$.fragment),f=S(),P(c.$$.fragment),d=S(),P(p.$$.fragment),h=S(),P(k.$$.fragment),y=S(),P(b.$$.fragment),T=S(),P(z.$$.fragment),L=S(),P(D.$$.fragment),K=S(),P(O.$$.fragment),x=S(),P(R.$$.fragment),m(t,"class","title svelte-10tgczs"),m(i,"class","wrap svelte-10tgczs"),m(a,"class","scars svelte-10tgczs"),m(u,"class","change svelte-10tgczs"),m(e,"class","menu svelte-10tgczs")},m(B,W){H(B,e,W),g(e,t),g(e,n),g(e,a),g(a,i),j&&j.m(i,null),g(i,s);for(let q=0;q<F.length;q+=1)F[q]&&F[q].m(i,null);g(e,o),g(e,u),M(r,u,null),g(u,f),M(c,u,null),g(e,d),M(p,e,null),g(e,h),M(k,e,null),g(e,y),M(b,e,null),g(e,T),M(z,e,null),g(e,L),M(D,e,null),g(e,K),M(O,e,null),g(e,x),M(R,e,null),E=!0},p(B,W){if(B[7].length===0?j||(j=Zt(),j.c(),j.m(i,s)):j&&(j.d(1),j=null),W[0]&128){V=Q(B[7]);let ue;for(ue=0;ue<V.length;ue+=1){const Dt=Xt(B,V,ue);F[ue]?(F[ue].p(Dt,W),_(F[ue],1)):(F[ue]=en(Dt),F[ue].c(),_(F[ue],1),F[ue].m(i,null))}for(te(),ue=V.length;ue<F.length;ue+=1)le(ue);ne()}const q={};W[0]&64&&(q.disabled=B[6].hp>0),W[1]&8&&(q.$$scope={dirty:W,ctx:B}),r.$set(q);const C={};W[1]&8&&(C.$$scope={dirty:W,ctx:B}),c.$set(C);const ae={};W[1]&8&&(ae.$$scope={dirty:W,ctx:B}),p.$set(ae);const _e={};W[1]&8&&(_e.$$scope={dirty:W,ctx:B}),k.$set(_e);const Ye={};W[0]&2&&(Ye.isShown=B[1]),W[1]&8&&(Ye.$$scope={dirty:W,ctx:B}),b.$set(Ye);const Fe={};W[0]&8&&(Fe.isShown=B[3]),W[1]&8&&(Fe.$$scope={dirty:W,ctx:B}),z.$set(Fe);const We={};W[0]&4&&(We.isShown=B[2]),W[0]&32&&(We.disableOk=B[5]===0),W[0]&32|W[1]&8&&(We.$$scope={dirty:W,ctx:B}),D.$set(We);const Oe={};W[0]&16&&(Oe.isShown=B[4]),W[1]&8&&(Oe.$$scope={dirty:W,ctx:B}),O.$set(Oe);const ce={};W[0]&1&&(ce.isShown=B[0]),W[1]&8&&(ce.$$scope={dirty:W,ctx:B}),R.$set(ce)},i(B){if(!E){for(let W=0;W<V.length;W+=1)_(F[W]);_(r.$$.fragment,B),_(c.$$.fragment,B),_(p.$$.fragment,B),_(k.$$.fragment,B),_(b.$$.fragment,B),_(z.$$.fragment,B),_(D.$$.fragment,B),_(O.$$.fragment,B),_(R.$$.fragment,B),E=!0}},o(B){F=F.filter(Boolean);for(let W=0;W<F.length;W+=1)v(F[W]);v(r.$$.fragment,B),v(c.$$.fragment,B),v(p.$$.fragment,B),v(k.$$.fragment,B),v(b.$$.fragment,B),v(z.$$.fragment,B),v(D.$$.fragment,B),v(O.$$.fragment,B),v(R.$$.fragment,B),E=!1},d(B){B&&$(e),j&&j.d(),ge(F,B),A(r),A(c),A(p),A(k),A(b),A(z),A(D),A(O),A(R)}}}function Sa(l,e,t){let n,a,i;oe(l,be,C=>t(30,n=C)),oe(l,fe,C=>t(6,a=C)),oe(l,pe,C=>t(7,i=C));let s=!1,o=!1,u=!1,r=!1,f=!1,c=0,d={stat:"str",value:0};const p=()=>{pe.add(c),t(2,u=!1),t(5,c=0)},h=C=>{d=C},k=()=>{d={stat:"str",value:0},t(4,f=!1)},y=()=>{if(d.stat==="hp"){const C=a.hpMax+d.value;fe.setMaxHp(C)}else{const C=n[`${d.stat}Max`]+d.value;be.setMaxAbility(d.stat,C)}d={stat:"str",value:0},t(4,f=!1)},b=()=>{Ae.set(""),pe.reset(),localStorage.removeItem("pc__character")};return[s,o,u,r,f,c,a,i,p,h,k,y,b,C=>pe.resolve(C),()=>t(1,o=!0),()=>t(3,r=!0),()=>Xl(),()=>t(0,s=!0),()=>t(1,o=!1),()=>{t(2,u=!0),t(1,o=!1)},()=>t(3,r=!1),()=>{t(4,f=!0),t(3,r=!1)},()=>c>0?t(5,c-=1):t(5,c),()=>c<12?t(5,c+=1):t(5,c),()=>{t(2,u=!1),t(5,c=0)},()=>p(),C=>h(C.detail),()=>t(0,s=!1),()=>b()]}class Ta extends Z{constructor(e){super(),X(this,e,Sa,Ha,J,{},null,[-1,-1])}}function tn(l,e,t){const n=l.slice();return n[4]=e[t],n}function nn(l){let e,t;function n(){return l[2](l[4])}function a(){return l[3](l[4])}return e=new Re({props:{title:l[4],value:l[0][l[4]],maxValue:l[0][`${l[4]}Max`]}}),e.$on("decrease",n),e.$on("increase",a),{c(){P(e.$$.fragment)},m(i,s){M(e,i,s),t=!0},p(i,s){l=i;const o={};s&1&&(o.value=l[0][l[4]]),s&1&&(o.maxValue=l[0][`${l[4]}Max`]),e.$set(o)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){v(e.$$.fragment,i),t=!1},d(i){A(e,i)}}}function Ca(l){let e,t,n=Q(l[1]),a=[];for(let s=0;s<n.length;s+=1)a[s]=nn(tn(l,n,s));const i=s=>v(a[s],1,1,()=>{a[s]=null});return{c(){e=w("div");for(let s=0;s<a.length;s+=1)a[s].c();m(e,"class","abilities svelte-pcinmc")},m(s,o){H(s,e,o);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);t=!0},p(s,[o]){if(o&3){n=Q(s[1]);let u;for(u=0;u<n.length;u+=1){const r=tn(s,n,u);a[u]?(a[u].p(r,o),_(a[u],1)):(a[u]=nn(r),a[u].c(),_(a[u],1),a[u].m(e,null))}for(te(),u=n.length;u<a.length;u+=1)i(u);ne()}},i(s){if(!t){for(let o=0;o<n.length;o+=1)_(a[o]);t=!0}},o(s){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)v(a[o]);t=!1},d(s){s&&$(e),ge(a,s)}}}function Ma(l,e,t){let n;return oe(l,be,o=>t(0,n=o)),[n,["str","dex","wil"],o=>be.decrease(o),o=>be.increase(o)]}class Aa extends Z{constructor(e){super(),X(this,e,Ma,Ca,J,{})}}function ln(l){let e,t;return{c(){e=w("span"),t=Y(l[0]),m(e,"class","label svelte-1prugxz")},m(n,a){H(n,e,a),g(e,t)},p(n,a){a&1&&U(t,n[0])},d(n){n&&$(e)}}}function Pa(l){let e,t,n,a,i,s,o,u;he(l[7]);let r=l[0]&&ln(l);return{c(){e=w("label"),t=w("input"),n=S(),a=w("span"),s=S(),r&&r.c(),m(t,"type","checkbox"),t.checked=l[1],t.disabled=l[2],m(t,"class","svelte-1prugxz"),m(a,"class","checkmark svelte-1prugxz"),m(a,"style",i=`width: ${l[4]}px;height: ${l[4]}px`),m(e,"ontouchstart",""),m(e,"class","checkbox svelte-1prugxz")},m(f,c){H(f,e,c),g(e,t),g(e,n),g(e,a),g(e,s),r&&r.m(e,null),o||(u=[re(window,"resize",l[7]),re(t,"change",l[5])],o=!0)},p(f,[c]){c&2&&(t.checked=f[1]),c&4&&(t.disabled=f[2]),c&16&&i!==(i=`width: ${f[4]}px;height: ${f[4]}px`)&&m(a,"style",i),f[0]?r?r.p(f,c):(r=ln(f),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:G,o:G,d(f){f&&$(e),r&&r.d(),o=!1,ye(u)}}}function Ra(l,e,t){let n,{label:a=null}=e,{size:i=0}=e,{checked:s=!1}=e,{disabled:o=!1}=e;const u=me();let r;const f=()=>u("change");function c(){t(3,r=window.innerWidth)}return l.$$set=d=>{"label"in d&&t(0,a=d.label),"size"in d&&t(6,i=d.size),"checked"in d&&t(1,s=d.checked),"disabled"in d&&t(2,o=d.disabled)},l.$$.update=()=>{l.$$.dirty&72&&t(4,n=r>374?i:i*.75)},[a,s,o,r,n,f,i,c]}class Qe extends Z{constructor(e){super(),X(this,e,Ra,Pa,J,{label:0,size:6,checked:1,disabled:2})}}function Wa(l){let e,t,n,a,i;return{c(){e=w("input"),m(e,"class","input svelte-teqffi"),m(e,"placeholder",l[1]),m(e,"inputmode",t=l[3]?"decimal":"text"),m(e,"style",n=`
    border-bottom: ${l[2]?"1px solid var(--main)":"none"};
    ${l[4]&&"padding-right: "+l[4]}
  `)},m(s,o){H(s,e,o),st(e,l[0]),a||(i=[re(e,"input",l[6]),re(e,"input",l[7])],a=!0)},p(s,[o]){o&2&&m(e,"placeholder",s[1]),o&8&&t!==(t=s[3]?"decimal":"text")&&m(e,"inputmode",t),o&20&&n!==(n=`
    border-bottom: ${s[2]?"1px solid var(--main)":"none"};
    ${s[4]&&"padding-right: "+s[4]}
  `)&&m(e,"style",n),o&1&&e.value!==s[0]&&st(e,s[0])},i:G,o:G,d(s){s&&$(e),a=!1,ye(i)}}}function Ba(l,e,t){let{value:n="0"}=e,{placeholder:a=""}=e,{border:i=!0}=e,{numbers:s=!1}=e,{paddingRight:o=""}=e;const u=me();function r(){n=this.value,t(0,n),t(3,s)}const f=()=>u("input",n);return l.$$set=c=>{"value"in c&&t(0,n=c.value),"placeholder"in c&&t(1,a=c.placeholder),"border"in c&&t(2,i=c.border),"numbers"in c&&t(3,s=c.numbers),"paddingRight"in c&&t(4,o=c.paddingRight)},l.$$.update=()=>{l.$$.dirty&9&&t(0,n=s?n.replace(/[^0-9]/g,""):n)},[n,a,i,s,o,u,r,f]}class De extends Z{constructor(e){super(),X(this,e,Ba,Wa,J,{value:0,placeholder:1,border:2,numbers:3,paddingRight:4})}}function an(l,e,t){const n=l.slice();return n[5]=e[t],n[6]=e,n[7]=t,n}function sn(l){let e,t,n,a,i,s,o,u;function r(){return l[1](l[5],l[6],l[7])}t=new Qe({props:{size:20,checked:l[5].inHand}}),t.$on("change",r);function f(...d){return l[2](l[5],l[6],l[7],...d)}a=new De({props:{placeholder:"Item",value:l[5].title,border:!1}}),a.$on("input",f);function c(){return l[3](l[5],l[6],l[7])}return s=new Qe({props:{size:20,checked:l[5].fatigue}}),s.$on("change",c),{c(){e=w("div"),P(t.$$.fragment),n=S(),P(a.$$.fragment),i=S(),P(s.$$.fragment),o=S(),m(e,"class","item svelte-1volka6")},m(d,p){H(d,e,p),M(t,e,null),g(e,n),M(a,e,null),g(e,i),M(s,e,null),g(e,o),u=!0},p(d,p){l=d;const h={};p&1&&(h.checked=l[5].inHand),t.$set(h);const k={};p&1&&(k.value=l[5].title),a.$set(k);const y={};p&1&&(y.checked=l[5].fatigue),s.$set(y)},i(d){u||(_(t.$$.fragment,d),_(a.$$.fragment,d),_(s.$$.fragment,d),u=!0)},o(d){v(t.$$.fragment,d),v(a.$$.fragment,d),v(s.$$.fragment,d),u=!1},d(d){d&&$(e),A(t),A(a),A(s)}}}function Ia(l){let e,t,n,a,i,s=Q(l[0]),o=[];for(let r=0;r<s.length;r+=1)o[r]=sn(an(l,s,r));const u=r=>v(o[r],1,1,()=>{o[r]=null});return{c(){e=w("div"),t=w("div"),t.innerHTML='<span class="info svelte-1volka6">Hand</span> <span class="info svelte-1volka6">Fatigue</span>',n=S(),a=w("div");for(let r=0;r<o.length;r+=1)o[r].c();m(t,"class","heading svelte-1volka6"),m(a,"class","list svelte-1volka6"),m(e,"class","inventory svelte-1volka6")},m(r,f){H(r,e,f),g(e,t),g(e,n),g(e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(a,null);i=!0},p(r,[f]){if(f&1){s=Q(r[0]);let c;for(c=0;c<s.length;c+=1){const d=an(r,s,c);o[c]?(o[c].p(d,f),_(o[c],1)):(o[c]=sn(d),o[c].c(),_(o[c],1),o[c].m(a,null))}for(te(),c=s.length;c<o.length;c+=1)u(c);ne()}},i(r){if(!i){for(let f=0;f<s.length;f+=1)_(o[f]);i=!0}},o(r){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)v(o[f]);i=!1},d(r){r&&$(e),ge(o,r)}}}function Ya(l,e,t){let n;oe(l,ke,u=>t(4,n=u));const a=n;return[a,(u,r,f)=>{t(0,r[f].inHand=!u.inHand,a),ke.change(a)},(u,r,f,c)=>{t(0,r[f].title=c.detail,a),ke.change(a)},(u,r,f)=>{t(0,r[f].fatigue=!u.fatigue,a),ke.change(a)}]}class La extends Z{constructor(e){super(),X(this,e,Ya,Ia,J,{})}}function on(l,e,t){const n=l.slice();return n[4]=e[t],n}function rn(l){let e,t,n=l[4]+"",a,i,s,o,u,r,f;function c(...d){return l[3](l[4],...d)}return u=new De({props:{value:l[1][l[4]],numbers:!0}}),u.$on("input",c),{c(){e=w("div"),t=w("span"),a=Y(n),i=Y(":"),o=S(),P(u.$$.fragment),r=S(),m(t,"class",s=ee(`currency${l[0]?"":" golden"}`)+" svelte-1wcssej"),m(e,"class","item svelte-1wcssej")},m(d,p){H(d,e,p),g(e,t),g(t,a),g(t,i),g(e,o),M(u,e,null),g(e,r),f=!0},p(d,p){l=d,(!f||p&1&&s!==(s=ee(`currency${l[0]?"":" golden"}`)+" svelte-1wcssej"))&&m(t,"class",s);const h={};p&2&&(h.value=l[1][l[4]]),u.$set(h)},i(d){f||(_(u.$$.fragment,d),f=!0)},o(d){v(u.$$.fragment,d),f=!1},d(d){d&&$(e),A(u)}}}function za(l){let e,t,n=Q(l[2]),a=[];for(let s=0;s<n.length;s+=1)a[s]=rn(on(l,n,s));const i=s=>v(a[s],1,1,()=>{a[s]=null});return{c(){e=w("div");for(let s=0;s<a.length;s+=1)a[s].c();m(e,"class","coins svelte-1wcssej")},m(s,o){H(s,e,o);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);t=!0},p(s,[o]){if(o&7){n=Q(s[2]);let u;for(u=0;u<n.length;u+=1){const r=on(s,n,u);a[u]?(a[u].p(r,o),_(a[u],1)):(a[u]=rn(r),a[u].c(),_(a[u],1),a[u].m(e,null))}for(te(),u=n.length;u<a.length;u+=1)i(u);ne()}},i(s){if(!t){for(let o=0;o<n.length;o+=1)_(a[o]);t=!0}},o(s){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)v(a[o]);t=!1},d(s){s&&$(e),ge(a,s)}}}function Da(l,e,t){let n;oe(l,Ce,o=>t(1,n=o));let{allCoins:a=!1}=e;const i=a?["gp","sp","cp"]:["gp"],s=(o,u)=>{Ce[o]=u.detail,Ce.change(o,u.detail)};return l.$$set=o=>{"allCoins"in o&&t(0,a=o.allCoins)},[a,n,i,s]}class fl extends Z{constructor(e){super(),X(this,e,Da,za,J,{allCoins:0})}}function Fa(l){let e,t,n,a,i;return a=new Qe({props:{size:40,checked:l[0].deprived}}),a.$on("change",fe.changeDeprived),{c(){e=w("div"),t=w("span"),t.textContent="Deprived",n=S(),P(a.$$.fragment),m(t,"class","title svelte-wx5v11"),m(e,"class","deprived svelte-wx5v11")},m(s,o){H(s,e,o),g(e,t),g(e,n),M(a,e,null),i=!0},p(s,o){const u={};o&1&&(u.checked=s[0].deprived),a.$set(u)},i(s){i||(_(a.$$.fragment,s),i=!0)},o(s){v(a.$$.fragment,s),i=!1},d(s){s&&$(e),A(a)}}}function Oa(l){let e,t,n,a,i,s,o,u;return n=new fl({}),o=new Qe({props:{size:40,checked:l[0].deprived}}),o.$on("change",fe.changeDeprived),{c(){e=w("div"),t=w("div"),P(n.$$.fragment),a=S(),i=w("span"),i.textContent="Deprived",s=S(),P(o.$$.fragment),m(t,"class","wrap svelte-wx5v11"),m(i,"class","title second svelte-wx5v11"),m(e,"class","deprived svelte-wx5v11")},m(r,f){H(r,e,f),g(e,t),M(n,t,null),g(e,a),g(e,i),g(e,s),M(o,e,null),u=!0},p(r,f){const c={};f&1&&(c.checked=r[0].deprived),o.$set(c)},i(r){u||(_(n.$$.fragment,r),_(o.$$.fragment,r),u=!0)},o(r){v(n.$$.fragment,r),v(o.$$.fragment,r),u=!1},d(r){r&&$(e),A(n),A(o)}}}function ja(l){let e,t,n,a,i,s,o,u;t=new Re({props:{title:"HP",value:l[0].hp,maxValue:l[0].hpMax}}),t.$on("decrease",fe.decreaseHp),t.$on("increase",fe.increaseHp),a=new Re({props:{title:"Armor",value:l[0].armor,maxValue:3,hideMaxValue:!0}}),a.$on("decrease",fe.decreaseArmor),a.$on("increase",fe.increaceArmor);const r=[Oa,Fa],f=[];function c(d,p){return d[1]==="second"?0:1}return s=c(l),o=f[s]=r[s](l),{c(){e=w("div"),P(t.$$.fragment),n=S(),P(a.$$.fragment),i=S(),o.c(),m(e,"class","stats svelte-wx5v11")},m(d,p){H(d,e,p),M(t,e,null),g(e,n),M(a,e,null),g(e,i),f[s].m(e,null),u=!0},p(d,[p]){const h={};p&1&&(h.value=d[0].hp),p&1&&(h.maxValue=d[0].hpMax),t.$set(h);const k={};p&1&&(k.value=d[0].armor),a.$set(k);let y=s;s=c(d),s===y?f[s].p(d,p):(te(),v(f[y],1,1,()=>{f[y]=null}),ne(),o=f[s],o?o.p(d,p):(o=f[s]=r[s](d),o.c()),_(o,1),o.m(e,null))},i(d){u||(_(t.$$.fragment,d),_(a.$$.fragment,d),_(o),u=!0)},o(d){v(t.$$.fragment,d),v(a.$$.fragment,d),v(o),u=!1},d(d){d&&$(e),A(t),A(a),f[s].d()}}}function Ea(l,e,t){let n,a;return oe(l,fe,i=>t(0,n=i)),oe(l,He,i=>t(1,a=i)),[n,a]}class Ga extends Z{constructor(e){super(),X(this,e,Ea,ja,J,{})}}function Na(l){let e,t,n;const a=l[2].default,i=Tt(a,l,l[1],null);return{c(){e=w("section"),i&&i.c(),m(e,"class",t=ee(`section ${l[0]}`)+" svelte-1wj47wp")},m(s,o){H(s,e,o),i&&i.m(e,null),n=!0},p(s,[o]){i&&i.p&&(!n||o&2)&&Mt(i,a,s,s[1],n?Ct(a,s[1],o,null):At(s[1]),null),(!n||o&1&&t!==(t=ee(`section ${s[0]}`)+" svelte-1wj47wp"))&&m(e,"class",t)},i(s){n||(_(i,s),n=!0)},o(s){v(i,s),n=!1},d(s){s&&$(e),i&&i.d(s)}}}function Va(l,e,t){let{$$slots:n={},$$scope:a}=e,{position:i=""}=e;return l.$$set=s=>{"position"in s&&t(0,i=s.position),"$$scope"in s&&t(1,a=s.$$scope)},[i,a,n]}class $e extends Z{constructor(e){super(),X(this,e,Va,Na,J,{position:0})}}function un(l,e,t){const n=l.slice();return n[3]=e[t],n[4]=e,n[5]=t,n}function fn(l){let e,t,n,a;function i(...s){return l[1](l[3],l[4],l[5],...s)}return t=new De({props:{placeholder:"Item",value:l[3].title,border:!1}}),t.$on("input",i),{c(){e=w("div"),P(t.$$.fragment),n=S(),m(e,"class","item svelte-j7k2te")},m(s,o){H(s,e,o),M(t,e,null),g(e,n),a=!0},p(s,o){l=s;const u={};o&1&&(u.value=l[3].title),t.$set(u)},i(s){a||(_(t.$$.fragment,s),a=!0)},o(s){v(t.$$.fragment,s),a=!1},d(s){s&&$(e),A(t)}}}function qa(l){let e,t,n,a,i,s=Q(l[0]),o=[];for(let r=0;r<s.length;r+=1)o[r]=fn(un(l,s,r));const u=r=>v(o[r],1,1,()=>{o[r]=null});return{c(){e=w("div"),t=w("div"),t.innerHTML='<span class="info svelte-j7k2te">Petty items</span>',n=S(),a=w("div");for(let r=0;r<o.length;r+=1)o[r].c();m(t,"class","heading svelte-j7k2te"),m(a,"class","list svelte-j7k2te"),m(e,"class","petty svelte-j7k2te")},m(r,f){H(r,e,f),g(e,t),g(e,n),g(e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(a,null);i=!0},p(r,[f]){if(f&1){s=Q(r[0]);let c;for(c=0;c<s.length;c+=1){const d=un(r,s,c);o[c]?(o[c].p(d,f),_(o[c],1)):(o[c]=fn(d),o[c].c(),_(o[c],1),o[c].m(a,null))}for(te(),c=s.length;c<o.length;c+=1)u(c);ne()}},i(r){if(!i){for(let f=0;f<s.length;f+=1)_(o[f]);i=!0}},o(r){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)v(o[f]);i=!1},d(r){r&&$(e),ge(o,r)}}}function xa(l,e,t){let n;oe(l,Pe,s=>t(2,n=s));const a=n;return[a,(s,o,u,r)=>{t(0,o[u].title=r.detail,a),Pe.change(a)}]}class Ja extends Z{constructor(e){super(),X(this,e,xa,qa,J,{})}}function Ka(l){let e,t;return e=new Aa({}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Ua(l){let e,t;return e=new Ga({}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function cn(l){let e,t;return e=new $e({props:{$$slots:{default:[Qa]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Qa(l){let e,t;return e=new fl({props:{allCoins:!0}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:G,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Xa(l){let e,t;return e=new La({}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function dn(l){let e,t;return e=new $e({props:{position:"last",$$slots:{default:[Za]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Za(l){let e,t;return e=new Ja({}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ei(l){let e,t,n,a,i,s,o,u,r;t=new $e({props:{position:"first",$$slots:{default:[Ka]},$$scope:{ctx:l}}}),a=new $e({props:{$$slots:{default:[Ua]},$$scope:{ctx:l}}});let f=l[0]!=="second"&&cn(l);o=new $e({props:{position:l[0]!=="second"?"last":"",$$slots:{default:[Xa]},$$scope:{ctx:l}}});let c=l[0]==="second"&&dn(l);return{c(){e=w("div"),P(t.$$.fragment),n=S(),P(a.$$.fragment),i=S(),f&&f.c(),s=S(),P(o.$$.fragment),u=S(),c&&c.c(),m(e,"class","sheet svelte-m6gaop")},m(d,p){H(d,e,p),M(t,e,null),g(e,n),M(a,e,null),g(e,i),f&&f.m(e,null),g(e,s),M(o,e,null),g(e,u),c&&c.m(e,null),r=!0},p(d,[p]){const h={};p&2&&(h.$$scope={dirty:p,ctx:d}),t.$set(h);const k={};p&2&&(k.$$scope={dirty:p,ctx:d}),a.$set(k),d[0]!=="second"?f?p&1&&_(f,1):(f=cn(d),f.c(),_(f,1),f.m(e,s)):f&&(te(),v(f,1,1,()=>{f=null}),ne());const y={};p&1&&(y.position=d[0]!=="second"?"last":""),p&2&&(y.$$scope={dirty:p,ctx:d}),o.$set(y),d[0]==="second"?c?p&1&&_(c,1):(c=dn(d),c.c(),_(c,1),c.m(e,null)):c&&(te(),v(c,1,1,()=>{c=null}),ne())},i(d){r||(_(t.$$.fragment,d),_(a.$$.fragment,d),_(f),_(o.$$.fragment,d),_(c),r=!0)},o(d){v(t.$$.fragment,d),v(a.$$.fragment,d),v(f),v(o.$$.fragment,d),v(c),r=!1},d(d){d&&$(e),A(t),A(a),f&&f.d(),A(o),c&&c.d()}}}function ti(l,e,t){let n;return oe(l,He,a=>t(0,n=a)),[n]}class ni extends Z{constructor(e){super(),X(this,e,ti,ei,J,{})}}const hn="/pocket-cairn/assets/settings-8bd1b2da.svg",gn="/pocket-cairn/assets/notes-058e4448.svg",et="/pocket-cairn/assets/cross-5d728ea7.svg";function li(l){let e,t,n=l[0]+`
`,a,i,s,o,u,r;return{c(){e=w("div"),t=w("pre"),a=Y(n),i=Y(`
  `),s=S(),o=w("textarea"),m(t,"class","pre svelte-19rvjtd"),m(t,"aria-hidden","true"),at(t,"min-height",l[2]),at(t,"max-height",l[1]),m(o,"class","textarea svelte-19rvjtd"),m(e,"class","container svelte-19rvjtd")},m(f,c){H(f,e,c),g(e,t),g(t,a),g(t,i),g(e,s),g(e,o),st(o,l[0]),u||(r=[re(o,"input",l[6]),re(o,"input",l[7])],u=!0)},p(f,[c]){c&1&&n!==(n=f[0]+`
`)&&U(a,n),c&4&&at(t,"min-height",f[2]),c&2&&at(t,"max-height",f[1]),c&1&&st(o,f[0])},i:G,o:G,d(f){f&&$(e),u=!1,ye(r)}}}function ai(l,e,t){let n,a,{value:i=""}=e,{minRows:s=14}=e,{maxRows:o=36}=e;const u=me();function r(){i=this.value,t(0,i)}const f=()=>u("input",i);return l.$$set=c=>{"value"in c&&t(0,i=c.value),"minRows"in c&&t(4,s=c.minRows),"maxRows"in c&&t(5,o=c.maxRows)},l.$$.update=()=>{l.$$.dirty&16&&t(2,n=`${1+s*1.2}em`),l.$$.dirty&32&&t(1,a=o?`${1+o*1.2}em`:"auto")},[i,a,n,u,s,o,r,f]}class cl extends Z{constructor(e){super(),X(this,e,ai,li,J,{value:0,minRows:4,maxRows:5})}}function mn(l,e,t){const n=l.slice();return n[9]=e[t],n[10]=e,n[11]=t,n}function pn(l,e,t){const n=l.slice();return n[12]=e[t],n}function ii(l){let e,t,n,a,i=l[0].name+"",s,o,u,r,f=l[0].type+"",c,d,p,h;return p=new se({props:{borderless:!0,image:et,alt:"remove"}}),p.$on("click",l[5]),{c(){e=w("div"),t=w("div"),n=w("span"),a=Y("Name: "),s=Y(i),o=S(),u=w("span"),r=Y("Type: "),c=Y(f),d=S(),P(p.$$.fragment),m(n,"class","title svelte-3hbggv"),m(u,"class","title svelte-3hbggv"),m(t,"class","content svelte-3hbggv"),m(e,"class","header svelte-3hbggv")},m(k,y){H(k,e,y),g(e,t),g(t,n),g(n,a),g(n,s),g(t,o),g(t,u),g(u,r),g(u,c),g(e,d),M(p,e,null),h=!0},p(k,y){(!h||y&1)&&i!==(i=k[0].name+"")&&U(s,i),(!h||y&1)&&f!==(f=k[0].type+"")&&U(c,f)},i(k){h||(_(p.$$.fragment,k),h=!0)},o(k){v(p.$$.fragment,k),h=!1},d(k){k&&$(e),A(p)}}}function yn(l){let e,t;return e=new $e({props:{position:!l[0].inventory.length&&"last",$$slots:{default:[si]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&1&&(i.position=!n[0].inventory.length&&"last"),a&32769&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function bn(l){let e,t;return e=new Re({props:{title:l[12],value:l[0].stats[l[12]],maxValue:l[0].stats[`${l[12]}Max`],size:"small"}}),e.$on("decrease",l[4](l[12])),e.$on("increase",l[3](l[12])),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&1&&(i.value=n[0].stats[n[12]]),a&1&&(i.maxValue=n[0].stats[`${n[12]}Max`]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function si(l){let e,t,n,a,i=Q(l[2]),s=[];for(let u=0;u<i.length;u+=1)s[u]=bn(pn(l,i,u));const o=u=>v(s[u],1,1,()=>{s[u]=null});return n=new Re({props:{title:"Armor",value:l[0].stats.armor,maxValue:9,hideMaxValue:!0,size:"small"}}),n.$on("decrease",l[4]("armor")),n.$on("increase",l[3]("armor")),{c(){e=w("div");for(let u=0;u<s.length;u+=1)s[u].c();t=S(),P(n.$$.fragment),m(e,"class","stat-list svelte-3hbggv")},m(u,r){H(u,e,r);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);g(e,t),M(n,e,null),a=!0},p(u,r){if(r&29){i=Q(u[2]);let c;for(c=0;c<i.length;c+=1){const d=pn(u,i,c);s[c]?(s[c].p(d,r),_(s[c],1)):(s[c]=bn(d),s[c].c(),_(s[c],1),s[c].m(e,t))}for(te(),c=i.length;c<s.length;c+=1)o(c);ne()}const f={};r&1&&(f.value=u[0].stats.armor),n.$set(f)},i(u){if(!a){for(let r=0;r<i.length;r+=1)_(s[r]);_(n.$$.fragment,u),a=!0}},o(u){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)v(s[r]);v(n.$$.fragment,u),a=!1},d(u){u&&$(e),ge(s,u),A(n)}}}function _n(l){let e,t;return e=new $e({props:{position:"last",$$slots:{default:[oi]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&32769&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function wn(l){let e,t,n,a;function i(...s){return l[8](l[9],l[10],l[11],...s)}return t=new De({props:{placeholder:"Item",value:l[9].title,border:!1}}),t.$on("input",i),{c(){e=w("div"),P(t.$$.fragment),n=S(),m(e,"class","item svelte-3hbggv")},m(s,o){H(s,e,o),M(t,e,null),g(e,n),a=!0},p(s,o){l=s;const u={};o&1&&(u.value=l[9].title),t.$set(u)},i(s){a||(_(t.$$.fragment,s),a=!0)},o(s){v(t.$$.fragment,s),a=!1},d(s){s&&$(e),A(t)}}}function oi(l){let e,t,n,a,i,s=Q(l[0].inventory),o=[];for(let r=0;r<s.length;r+=1)o[r]=wn(mn(l,s,r));const u=r=>v(o[r],1,1,()=>{o[r]=null});return{c(){e=w("div"),t=w("div"),t.innerHTML='<span class="info svelte-3hbggv">Inventory</span>',n=S(),a=w("div");for(let r=0;r<o.length;r+=1)o[r].c();m(t,"class","heading svelte-3hbggv"),m(a,"class","list svelte-3hbggv"),m(e,"class","inventory svelte-3hbggv")},m(r,f){H(r,e,f),g(e,t),g(e,n),g(e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(a,null);i=!0},p(r,f){if(f&1){s=Q(r[0].inventory);let c;for(c=0;c<s.length;c+=1){const d=mn(r,s,c);o[c]?(o[c].p(d,f),_(o[c],1)):(o[c]=wn(d),o[c].c(),_(o[c],1),o[c].m(a,null))}for(te(),c=s.length;c<o.length;c+=1)u(c);ne()}},i(r){if(!i){for(let f=0;f<s.length;f+=1)_(o[f]);i=!0}},o(r){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)v(o[f]);i=!1},d(r){r&&$(e),ge(o,r)}}}function ri(l){let e,t=l[0].name+"",n,a;return{c(){e=Y("Are you really want to remove a "),n=Y(t),a=Y("?")},m(i,s){H(i,e,s),H(i,n,s),H(i,a,s)},p(i,s){s&1&&t!==(t=i[0].name+"")&&U(n,t)},d(i){i&&($(e),$(n),$(a))}}}function ui(l){let e,t,n,a=l[0].type.toLowerCase()!=="transport",i,s,o,u;t=new $e({props:{position:"first",$$slots:{default:[ii]},$$scope:{ctx:l}}});let r=a&&yn(l),f=l[0].inventory.length&&_n(l);return o=new Se({props:{isShown:l[1],teleportId:"notes",$$slots:{default:[ri]},$$scope:{ctx:l}}}),o.$on("cancel",l[6]),o.$on("ok",l[7]),{c(){e=w("div"),P(t.$$.fragment),n=S(),r&&r.c(),i=S(),f&&f.c(),s=S(),P(o.$$.fragment),m(e,"class","companion svelte-3hbggv")},m(c,d){H(c,e,d),M(t,e,null),g(e,n),r&&r.m(e,null),g(e,i),f&&f.m(e,null),H(c,s,d),M(o,c,d),u=!0},p(c,[d]){const p={};d&32769&&(p.$$scope={dirty:d,ctx:c}),t.$set(p),d&1&&(a=c[0].type.toLowerCase()!=="transport"),a?r?(r.p(c,d),d&1&&_(r,1)):(r=yn(c),r.c(),_(r,1),r.m(e,i)):r&&(te(),v(r,1,1,()=>{r=null}),ne()),c[0].inventory.length?f?(f.p(c,d),d&1&&_(f,1)):(f=_n(c),f.c(),_(f,1),f.m(e,null)):f&&(te(),v(f,1,1,()=>{f=null}),ne());const h={};d&2&&(h.isShown=c[1]),d&32769&&(h.$$scope={dirty:d,ctx:c}),o.$set(h)},i(c){u||(_(t.$$.fragment,c),_(r),_(f),_(o.$$.fragment,c),u=!0)},o(c){v(t.$$.fragment,c),v(r),v(f),v(o.$$.fragment,c),u=!1},d(c){c&&($(e),$(s)),A(t),r&&r.d(),f&&f.d(),A(o,c)}}}function fi(l,e,t){let{companion:n}=e,a=!1;const i=["str","dex","wil","hp"],s=d=>()=>{we.increase(d,n.id)},o=d=>()=>{we.decrease(d,n.id)},u=()=>t(1,a=!0),r=()=>t(1,a=!1),f=()=>{we.removeCompanion(n.id),ie(),t(1,a=!1)},c=(d,p,h,k)=>{t(0,p[h].title=k.detail,n),we.changeItems(n.inventory,n.id)};return l.$$set=d=>{"companion"in d&&t(0,n=d.companion)},[n,a,i,s,o,u,r,f,c]}class ci extends Z{constructor(e){super(),X(this,e,fi,ui,J,{companion:0})}}function kn(l,e,t){const n=l.slice();return n[15]=e[t],n}function di(l){let e,t,n,a,i,s,o,u,r,f;return e=new De({props:{placeholder:"Name",value:l[0]}}),e.$on("input",l[7]),a=new De({props:{placeholder:"Type",value:l[1]}}),a.$on("input",l[8]),r=new Qe({props:{size:30,checked:l[1].toLowerCase()==="transport"}}),r.$on("change",l[4]),{c(){P(e.$$.fragment),t=S(),n=w("div"),P(a.$$.fragment),i=S(),s=w("div"),o=w("span"),o.textContent="Transport",u=S(),P(r.$$.fragment),m(s,"class","transport svelte-12o0tb0"),m(n,"class","titles svelte-12o0tb0")},m(c,d){M(e,c,d),H(c,t,d),H(c,n,d),M(a,n,null),g(n,i),g(n,s),g(s,o),g(s,u),M(r,s,null),f=!0},p(c,d){const p={};d&1&&(p.value=c[0]),e.$set(p);const h={};d&2&&(h.value=c[1]),a.$set(h);const k={};d&2&&(k.checked=c[1].toLowerCase()==="transport"),r.$set(k)},i(c){f||(_(e.$$.fragment,c),_(a.$$.fragment,c),_(r.$$.fragment,c),f=!0)},o(c){v(e.$$.fragment,c),v(a.$$.fragment,c),v(r.$$.fragment,c),f=!1},d(c){c&&($(t),$(n)),A(e,c),A(a),A(r)}}}function vn(l){let e,t;function n(){return l[9](l[15])}function a(){return l[10](l[15])}return e=new Re({props:{title:l[15],value:l[2][l[15]],maxValue:18,hideMaxValue:!0,size:"small"}}),e.$on("decrease",n),e.$on("increase",a),{c(){P(e.$$.fragment)},m(i,s){M(e,i,s),t=!0},p(i,s){l=i;const o={};s&4&&(o.value=l[2][l[15]]),e.$set(o)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){v(e.$$.fragment,i),t=!1},d(i){A(e,i)}}}function hi(l){let e,t,n,a=Q(l[5]),i=[];for(let o=0;o<a.length;o+=1)i[o]=vn(kn(l,a,o));const s=o=>v(i[o],1,1,()=>{i[o]=null});return{c(){e=w("div");for(let o=0;o<i.length;o+=1)i[o].c();m(e,"class",t=ee(`stats${l[1].toLowerCase()==="transport"?" disabled":""}`)+" svelte-12o0tb0")},m(o,u){H(o,e,u);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null);n=!0},p(o,u){if(u&36){a=Q(o[5]);let r;for(r=0;r<a.length;r+=1){const f=kn(o,a,r);i[r]?(i[r].p(f,u),_(i[r],1)):(i[r]=vn(f),i[r].c(),_(i[r],1),i[r].m(e,null))}for(te(),r=a.length;r<i.length;r+=1)s(r);ne()}(!n||u&2&&t!==(t=ee(`stats${o[1].toLowerCase()==="transport"?" disabled":""}`)+" svelte-12o0tb0"))&&m(e,"class",t)},i(o){if(!n){for(let u=0;u<a.length;u+=1)_(i[u]);n=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)v(i[u]);n=!1},d(o){o&&$(e),ge(i,o)}}}function gi(l){let e,t;return e=new Re({props:{title:"slots",value:l[3],maxValue:8,hideMaxValue:!0,size:"small"}}),e.$on("decrease",l[11]),e.$on("increase",l[12]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&8&&(i.value=n[3]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function mi(l){let e,t,n,a,i,s,o;return t=new $e({props:{position:"first",$$slots:{default:[di]},$$scope:{ctx:l}}}),a=new $e({props:{$$slots:{default:[hi]},$$scope:{ctx:l}}}),s=new $e({props:{position:"last",$$slots:{default:[gi]},$$scope:{ctx:l}}}),{c(){e=w("div"),P(t.$$.fragment),n=S(),P(a.$$.fragment),i=S(),P(s.$$.fragment),m(e,"class","creation svelte-12o0tb0")},m(u,r){H(u,e,r),M(t,e,null),g(e,n),M(a,e,null),g(e,i),M(s,e,null),o=!0},p(u,[r]){const f={};r&262147&&(f.$$scope={dirty:r,ctx:u}),t.$set(f);const c={};r&262150&&(c.$$scope={dirty:r,ctx:u}),a.$set(c);const d={};r&262152&&(d.$$scope={dirty:r,ctx:u}),s.$set(d)},i(u){o||(_(t.$$.fragment,u),_(a.$$.fragment,u),_(s.$$.fragment,u),o=!0)},o(u){v(t.$$.fragment,u),v(a.$$.fragment,u),v(s.$$.fragment,u),o=!1},d(u){u&&$(e),A(t),A(a),A(s)}}}function pi(l,e,t){const n=me();let a="",i="",s={str:I(3,6),dex:I(3,6),wil:I(3,6),hp:I(3,6)},o=[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],u=6;const r=()=>{t(6,o=[]);for(let T=0;T<u;T++)o.push({title:""})},f=()=>{t(1,i=i.toLowerCase()==="transport"?"":"Transport")};let c=["str","dex","wil","hp"];const d=T=>t(0,a=T.detail),p=T=>t(1,i=T.detail),h=T=>s[T]>0?t(2,s[T]-=1,s):t(2,s),k=T=>s[T]<18?t(2,s[T]+=1,s):t(2,s),y=()=>u>0?t(3,u-=1):t(3,u),b=()=>u<8?t(3,u+=1):t(3,u);return l.$$.update=()=>{l.$$.dirty&79&&(r(),n("change",{name:a,type:i,stats:{str:s.str,dex:s.dex,wil:s.wil,hp:s.hp,strMax:s.str,dexMax:s.dex,wilMax:s.wil,hpMax:s.hp,armor:0},inventory:o}))},[a,i,s,u,f,c,o,d,p,h,k,y,b]}class yi extends Z{constructor(e){super(),X(this,e,pi,mi,J,{})}}function $n(l,e,t){const n=l.slice();return n[7]=e[t],n}function Hn(l){let e,t;return e=new ci({props:{companion:l[7]}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&4&&(i.companion=n[7]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function bi(l){let e;return{c(){e=Y("Add companion")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function _i(l){let e,t;return e=new yi({}),e.$on("change",l[6]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:G,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function wi(l){var d,p;let e,t,n,a,i,s,o,u,r=Q(l[2]),f=[];for(let h=0;h<r.length;h+=1)f[h]=Hn($n(l,r,h));const c=h=>v(f[h],1,1,()=>{f[h]=null});return i=new se({props:{$$slots:{default:[bi]},$$scope:{ctx:l}}}),i.$on("click",l[3]),o=new Se({props:{isShown:l[0],disableOk:!((d=l[1])!=null&&d.name)||!((p=l[1])!=null&&p.type),$$slots:{default:[_i]},$$scope:{ctx:l}}}),o.$on("cancel",l[4]),o.$on("ok",l[5]),{c(){e=w("div"),t=w("div"),n=w("div");for(let h=0;h<f.length;h+=1)f[h].c();a=S(),P(i.$$.fragment),s=S(),P(o.$$.fragment),m(n,"class","list svelte-1y90scx"),m(t,"class","wrap svelte-1y90scx"),m(e,"class","companions svelte-1y90scx")},m(h,k){H(h,e,k),g(e,t),g(t,n);for(let y=0;y<f.length;y+=1)f[y]&&f[y].m(n,null);g(n,a),M(i,n,null),H(h,s,k),M(o,h,k),u=!0},p(h,[k]){var T,z;if(k&4){r=Q(h[2]);let L;for(L=0;L<r.length;L+=1){const D=$n(h,r,L);f[L]?(f[L].p(D,k),_(f[L],1)):(f[L]=Hn(D),f[L].c(),_(f[L],1),f[L].m(n,a))}for(te(),L=r.length;L<f.length;L+=1)c(L);ne()}const y={};k&1024&&(y.$$scope={dirty:k,ctx:h}),i.$set(y);const b={};k&1&&(b.isShown=h[0]),k&2&&(b.disableOk=!((T=h[1])!=null&&T.name)||!((z=h[1])!=null&&z.type)),k&1026&&(b.$$scope={dirty:k,ctx:h}),o.$set(b)},i(h){if(!u){for(let k=0;k<r.length;k+=1)_(f[k]);_(i.$$.fragment,h),_(o.$$.fragment,h),u=!0}},o(h){f=f.filter(Boolean);for(let k=0;k<f.length;k+=1)v(f[k]);v(i.$$.fragment,h),v(o.$$.fragment,h),u=!1},d(h){h&&($(e),$(s)),ge(f,h),A(i),A(o,h)}}}function ki(l,e,t){let n;oe(l,we,f=>t(2,n=f));let a=!1,i=null;return[a,i,n,()=>{t(0,a=!0)},()=>{t(1,i=null),t(0,a=!1)},()=>{i&&(we.addCompanion(i),ie(),t(1,i=null),t(0,a=!1))},f=>t(1,i=f.detail)]}class vi extends Z{constructor(e){super(),X(this,e,ki,wi,J,{})}}function Sn(l,e,t){const n=l.slice();return n[9]=e[t],n}function $i(l){let e,t,n,a,i,s;return i=new cl({props:{value:l[3]}}),i.$on("input",l[8]),{c(){e=w("span"),e.textContent="Notes:",t=S(),n=w("div"),a=w("div"),P(i.$$.fragment),m(e,"class","title svelte-1kzatcv"),m(a,"class","wrap svelte-1kzatcv"),m(n,"class","content svelte-1kzatcv")},m(o,u){H(o,e,u),H(o,t,u),H(o,n,u),g(n,a),M(i,a,null),s=!0},p(o,u){const r={};u&8&&(r.value=o[3]),i.$set(r)},i(o){s||(_(i.$$.fragment,o),s=!0)},o(o){v(i.$$.fragment,o),s=!1},d(o){o&&($(e),$(t),$(n)),A(i)}}}function Hi(l){let e,t,n,a,i,s,o,u,r,f,c,d,p,h,k,y,b,T,z;const L=[Ci,Ti,Si],D=[];function K(O,x){return O[0]==="biography"?0:O[0]==="notes"?1:O[0]==="companions"?2:-1}return~(h=K(l))&&(k=D[h]=L[h](l)),{c(){e=w("div"),t=w("button"),n=Y("Bio"),i=S(),s=w("button"),o=Y("Notes"),r=S(),f=w("button"),c=Y("Companions"),p=S(),k&&k.c(),y=ht(),m(t,"ontouchstart",""),m(t,"class",a=ee(`title button ${l[0]==="biography"?" checked":""}`)+" svelte-1kzatcv"),m(s,"ontouchstart",""),m(s,"class",u=ee(`title button ${l[0]==="notes"?" checked":""}`)+" svelte-1kzatcv"),m(f,"ontouchstart",""),m(f,"class",d=ee(`title button ${l[0]==="companions"?" checked":""}`)+" svelte-1kzatcv"),m(e,"class","menu svelte-1kzatcv")},m(O,x){H(O,e,x),g(e,t),g(t,n),g(e,i),g(e,s),g(s,o),g(e,r),g(e,f),g(f,c),H(O,p,x),~h&&D[h].m(O,x),H(O,y,x),b=!0,T||(z=[re(t,"click",l[4]),re(s,"click",l[5]),re(f,"click",l[6])],T=!0)},p(O,x){(!b||x&1&&a!==(a=ee(`title button ${O[0]==="biography"?" checked":""}`)+" svelte-1kzatcv"))&&m(t,"class",a),(!b||x&1&&u!==(u=ee(`title button ${O[0]==="notes"?" checked":""}`)+" svelte-1kzatcv"))&&m(s,"class",u),(!b||x&1&&d!==(d=ee(`title button ${O[0]==="companions"?" checked":""}`)+" svelte-1kzatcv"))&&m(f,"class",d);let R=h;h=K(O),h===R?~h&&D[h].p(O,x):(k&&(te(),v(D[R],1,1,()=>{D[R]=null}),ne()),~h?(k=D[h],k?k.p(O,x):(k=D[h]=L[h](O),k.c()),_(k,1),k.m(y.parentNode,y)):k=null)},i(O){b||(_(k),b=!0)},o(O){v(k),b=!1},d(O){O&&($(e),$(p),$(y)),~h&&D[h].d(O),T=!1,ye(z)}}}function Si(l){let e,t;return e=new vi({}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:G,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Ti(l){let e,t,n,a;return n=new cl({props:{value:l[3]}}),n.$on("input",l[7]),{c(){e=w("div"),t=w("div"),P(n.$$.fragment),m(t,"class","wrap svelte-1kzatcv"),m(e,"class","content svelte-1kzatcv")},m(i,s){H(i,e,s),g(e,t),M(n,t,null),a=!0},p(i,s){const o={};s&8&&(o.value=i[3]),n.$set(o)},i(i){a||(_(n.$$.fragment,i),a=!0)},o(i){v(n.$$.fragment,i),a=!1},d(i){i&&$(e),A(n)}}}function Ci(l){let e,t,n,a,i=l[2].background+"",s,o,u,r=l[2].description+"",f,c,d,p=l[2].firstPerk.title+"",h,k,y,b=l[2].firstPerk.content+"",T,z,L,D=l[2].secondPerk.title+"",K,O,x,R,E=l[2].secondPerk.subtitle.length&&Tn(l);function j(W,q){if(W[2].bonds.length===1&&W[2].bonds[0].length)return Ai;if(W[2].bonds.length>1)return Mi}let V=j(l),F=V&&V(l),le=Q(l[2].bonds),B=[];for(let W=0;W<le.length;W+=1)B[W]=Cn(Sn(l,le,W));return{c(){e=w("div"),t=w("div"),n=w("div"),a=w("h3"),s=Y(i),o=S(),u=w("span"),f=Y(r),c=S(),d=w("b"),h=Y(p),k=S(),y=w("span"),T=Y(b),z=S(),L=w("b"),K=Y(D),O=S(),E&&E.c(),x=S(),F&&F.c(),R=S();for(let W=0;W<B.length;W+=1)B[W].c();m(a,"class","svelte-1kzatcv"),m(u,"class","svelte-1kzatcv"),m(d,"class","svelte-1kzatcv"),m(y,"class","svelte-1kzatcv"),m(L,"class","svelte-1kzatcv"),m(n,"class","text svelte-1kzatcv"),m(t,"class","wrap svelte-1kzatcv"),m(e,"class","content svelte-1kzatcv")},m(W,q){H(W,e,q),g(e,t),g(t,n),g(n,a),g(a,s),g(n,o),g(n,u),g(u,f),g(n,c),g(n,d),g(d,h),g(n,k),g(n,y),g(y,T),g(n,z),g(n,L),g(L,K),g(n,O),E&&E.m(n,null),g(n,x),F&&F.m(n,null),g(n,R);for(let C=0;C<B.length;C+=1)B[C]&&B[C].m(n,null)},p(W,q){if(q&4&&i!==(i=W[2].background+"")&&U(s,i),q&4&&r!==(r=W[2].description+"")&&U(f,r),q&4&&p!==(p=W[2].firstPerk.title+"")&&U(h,p),q&4&&b!==(b=W[2].firstPerk.content+"")&&U(T,b),q&4&&D!==(D=W[2].secondPerk.title+"")&&U(K,D),W[2].secondPerk.subtitle.length?E?E.p(W,q):(E=Tn(W),E.c(),E.m(n,x)):E&&(E.d(1),E=null),V!==(V=j(W))&&(F&&F.d(1),F=V&&V(W),F&&(F.c(),F.m(n,R))),q&4){le=Q(W[2].bonds);let C;for(C=0;C<le.length;C+=1){const ae=Sn(W,le,C);B[C]?B[C].p(ae,q):(B[C]=Cn(ae),B[C].c(),B[C].m(n,null))}for(;C<B.length;C+=1)B[C].d(1);B.length=le.length}},i:G,o:G,d(W){W&&$(e),E&&E.d(),F&&F.d(),ge(B,W)}}}function Tn(l){let e,t,n=l[2].secondPerk.subtitle+"",a,i,s=l[2].secondPerk.content+"",o;return{c(){e=w("span"),t=w("i"),a=Y(n),i=Y(" - "),o=Y(s),m(t,"class","svelte-1kzatcv"),m(e,"class","svelte-1kzatcv")},m(u,r){H(u,e,r),g(e,t),g(t,a),g(e,i),g(e,o)},p(u,r){r&4&&n!==(n=u[2].secondPerk.subtitle+"")&&U(a,n),r&4&&s!==(s=u[2].secondPerk.content+"")&&U(o,s)},d(u){u&&$(e)}}}function Mi(l){let e;return{c(){e=w("b"),e.textContent="Your bonds",m(e,"class","svelte-1kzatcv")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Ai(l){let e;return{c(){e=w("b"),e.textContent="Your bond",m(e,"class","svelte-1kzatcv")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Cn(l){let e,t=l[9]+"",n;return{c(){e=w("span"),n=Y(t),m(e,"class","svelte-1kzatcv")},m(a,i){H(a,e,i),g(e,n)},p(a,i){i&4&&t!==(t=a[9]+"")&&U(n,t)},d(a){a&&$(e)}}}function Pi(l){let e,t,n,a;const i=[Hi,$i],s=[];function o(u,r){return u[1]==="second"?0:1}return t=o(l),n=s[t]=i[t](l),{c(){e=w("div"),n.c(),m(e,"class","notes svelte-1kzatcv"),m(e,"id","notes")},m(u,r){H(u,e,r),s[t].m(e,null),a=!0},p(u,[r]){let f=t;t=o(u),t===f?s[t].p(u,r):(te(),v(s[f],1,1,()=>{s[f]=null}),ne(),n=s[t],n?n.p(u,r):(n=s[t]=i[t](u),n.c()),_(n,1),n.m(e,null))},i(u){a||(_(n),a=!0)},o(u){v(n),a=!1},d(u){u&&$(e),s[t].d()}}}function Ri(l,e,t){let n,a,i;oe(l,He,d=>t(1,n=d)),oe(l,Xe,d=>t(2,a=d)),oe(l,Me,d=>t(3,i=d));let s="biography";return[s,n,a,i,()=>{t(0,s="biography")},()=>{t(0,s="notes")},()=>{t(0,s="companions")},d=>Me.change(d.detail),d=>Me.change(d.detail)]}class Wi extends Z{constructor(e){super(),X(this,e,Ri,Pi,J,{})}}function Bi(l){let e,t,n,a,i,s,o,u,r,f,c,d,p,h,k,y,b,T,z,L,D,K,O,x;return n=new se({props:{borderless:!0,image:l[1]?et:gn,alt:"notes",disabled:l[0]}}),n.$on("click",l[4]),f=new se({props:{borderless:!0,image:l[0]?et:hn,alt:"settings",disabled:l[1]}}),f.$on("click",l[5]),p=new Wi({}),k=new ni({}),b=new Ta({}),D=new Ll({}),{c(){e=w("div"),t=w("div"),P(n.$$.fragment),a=S(),i=w("div"),s=w("div"),o=w("h2"),u=Y(l[3]),r=S(),P(f.$$.fragment),c=S(),d=w("div"),P(p.$$.fragment),h=S(),P(k.$$.fragment),y=S(),P(b.$$.fragment),z=S(),L=w("footer"),P(D.$$.fragment),m(o,"class","text svelte-pzbrdw"),m(s,"class","wrap svelte-pzbrdw"),m(i,"class","name svelte-pzbrdw"),m(t,"class","header svelte-pzbrdw"),m(d,"class","main svelte-pzbrdw"),m(d,"style",T=`left: ${l[2]()}`),m(L,"class","footer svelte-pzbrdw"),m(e,"class","character svelte-pzbrdw")},m(R,E){H(R,e,E),g(e,t),M(n,t,null),g(t,a),g(t,i),g(i,s),g(s,o),g(o,u),g(t,r),M(f,t,null),g(e,c),g(e,d),M(p,d,null),g(d,h),M(k,d,null),g(d,y),M(b,d,null),g(e,z),g(e,L),M(D,L,null),x=!0},p(R,[E]){const j={};E&2&&(j.image=R[1]?et:gn),E&1&&(j.disabled=R[0]),n.$set(j),(!x||E&8)&&U(u,R[3]);const V={};E&1&&(V.image=R[0]?et:hn),E&2&&(V.disabled=R[1]),f.$set(V),(!x||E&4&&T!==(T=`left: ${R[2]()}`))&&m(d,"style",T)},i(R){x||(_(n.$$.fragment,R),_(f.$$.fragment,R),_(p.$$.fragment,R),_(k.$$.fragment,R),_(b.$$.fragment,R),_(D.$$.fragment,R),R&&he(()=>{x&&(O&&O.end(1),K=gt(e,ze,{delay:200,duration:200}),K.start())}),x=!0)},o(R){v(n.$$.fragment,R),v(f.$$.fragment,R),v(p.$$.fragment,R),v(k.$$.fragment,R),v(b.$$.fragment,R),v(D.$$.fragment,R),K&&K.invalidate(),R&&(O=mt(e,ze,{duration:200})),x=!1},d(R){R&&$(e),A(n),A(f),A(p),A(k),A(b),A(D),R&&O&&O.end()}}}function Ii(l,e,t){let n,a;oe(l,Ae,r=>t(3,a=r));let i=!1,s=!1;const o=()=>t(1,s=!s),u=()=>t(0,i=!i);return l.$$.update=()=>{l.$$.dirty&3&&t(2,n=()=>i?"-200%":s?"0":"-100%")},[i,s,n,a,o,u]}class Yi extends Z{constructor(e){super(),X(this,e,Ii,Bi,J,{})}}const Lt=l=>{He.set(l.edition||"first"),l.edition||(l.edition="first"),l.companions||(l.companions=[]);const e=Yt();let t=!0;return Object.keys(e).forEach(n=>{Object.keys(l).includes(n)||(t=!1)}),t},Li=l=>{if(l.target){const e=new FileReader;e.onload=async()=>{try{const n=await JSON.parse(e.result);Lt(n)&&(He.set(n.edition),Ae.set(n.name),be.set(n.abilities),fe.set(n.stats),Ce.set(n.coins),ke.set(n.inventory),Pe.set(n.petty),pe.set(n.scars),Xe.set(n.biography),Me.set(n.notes),we.set(n.companions),ie())}catch(n){console.log(n)}};const t=l.target.files;t&&e.readAsText(t[0])}};function zi(l){let e,t,n,a,i,s,o,u;return he(l[4]),{c(){e=w("div"),t=w("input"),n=S(),a=w("label"),i=Y("Upload the character"),m(t,"id","upload"),m(t,"type","file"),m(t,"class","input svelte-7qg3fm"),m(t,"accept","application/JSON"),m(a,"ontouchstart",""),m(a,"for","upload"),m(a,"class","label svelte-7qg3fm"),m(a,"style",s=`
      border-radius: ${l[1]/2}px;
    `),m(e,"class","file svelte-7qg3fm")},m(r,f){H(r,e,f),g(e,t),g(e,n),g(e,a),g(a,i),o||(u=[re(window,"resize",l[4]),re(t,"change",l[5])],o=!0)},p(r,[f]){f&2&&s!==(s=`
      border-radius: ${r[1]/2}px;
    `)&&m(a,"style",s)},i:G,o:G,d(r){r&&$(e),o=!1,ye(u)}}}function Di(l,e,t){let n,{height:a=40}=e;const i=me();let s;function o(){t(0,s=window.innerWidth)}const u=r=>i("change",r);return l.$$set=r=>{"height"in r&&t(3,a=r.height)},l.$$.update=()=>{l.$$.dirty&9&&t(1,n=s>374?a:a*.75)},[s,n,i,a,o,u]}class dl extends Z{constructor(e){super(),X(this,e,Di,zi,J,{height:3})}}const Fi=l=>{if(l.target){const e=new FileReader;e.onload=async()=>{try{const n=await JSON.parse(e.result);if(n.edition==="second")return;Lt(n)&&(He.set("second"),Ae.set(n.name),be.set(n.abilities),fe.set(n.stats),Ce.set(n.coins),ke.set(n.inventory),Pe.set([{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]),pe.set(n.scars),Xe.set({background:"",description:"You are an experienced adventurer. There are legends here that you have even seen the First Age.",firstPerk:{title:"",content:""},secondPerk:{title:"",subtitle:"",content:""},bonds:[""]}),Me.set(n.notes),we.set([]),ie())}catch(n){console.log(n)}};const t=l.target.files;t&&e.readAsText(t[0])}};function Oi(l){let e;return{c(){e=Y("Roll a character")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function ji(l){let e;return{c(){e=Y("Convert 1e to 2e")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Ei(l){let e,t;return e=new se({props:{disabled:!0,$$slots:{default:[Ni]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&2048&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Gi(l){let e,t;return e=new dl({}),e.$on("change",l[6]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:G,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Ni(l){let e;return{c(){e=Y("Upload the character")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Vi(l){let e;return{c(){e=Y("Wrong json structure")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function qi(l){let e,t,n,a;return n=new dl({}),n.$on("change",l[8]),{c(){e=w("div"),e.innerHTML=`<span>You can turn your 1st Edition character into a 2nd Edition character,
      giving you new options.</span> <span>You cannot convert back a 2nd edition character.</span>`,t=S(),P(n.$$.fragment),m(e,"class","convert svelte-sh114e")},m(i,s){H(i,e,s),H(i,t,s),M(n,i,s),a=!0},p:G,i(i){a||(_(n.$$.fragment,i),a=!0)},o(i){v(n.$$.fragment,i),a=!1},d(i){i&&($(e),$(t)),A(n,i)}}}function xi(l){let e,t,n,a,i,s,o,u,r,f,c,d;t=new se({props:{$$slots:{default:[Oi]},$$scope:{ctx:l}}}),t.$on("click",l[2]),a=new se({props:{$$slots:{default:[ji]},$$scope:{ctx:l}}}),a.$on("click",l[3]);const p=[Gi,Ei],h=[];function k(y,b){return y[1]?1:0}return s=k(l),o=h[s]=p[s](l),r=new Se({props:{submission:!0,isShown:l[0],$$slots:{default:[Vi]},$$scope:{ctx:l}}}),r.$on("cancel",l[7]),c=new Se({props:{submission:!0,isShown:l[1],$$slots:{default:[qi]},$$scope:{ctx:l}}}),c.$on("cancel",l[3]),{c(){e=w("div"),P(t.$$.fragment),n=S(),P(a.$$.fragment),i=S(),o.c(),u=S(),P(r.$$.fragment),f=S(),P(c.$$.fragment),m(e,"class","menu svelte-sh114e")},m(y,b){H(y,e,b),M(t,e,null),g(e,n),M(a,e,null),g(e,i),h[s].m(e,null),H(y,u,b),M(r,y,b),H(y,f,b),M(c,y,b),d=!0},p(y,[b]){const T={};b&2048&&(T.$$scope={dirty:b,ctx:y}),t.$set(T);const z={};b&2048&&(z.$$scope={dirty:b,ctx:y}),a.$set(z);let L=s;s=k(y),s===L?h[s].p(y,b):(te(),v(h[L],1,1,()=>{h[L]=null}),ne(),o=h[s],o?o.p(y,b):(o=h[s]=p[s](y),o.c()),_(o,1),o.m(e,null));const D={};b&1&&(D.isShown=y[0]),b&2048&&(D.$$scope={dirty:b,ctx:y}),r.$set(D);const K={};b&2&&(K.isShown=y[1]),b&2048&&(K.$$scope={dirty:b,ctx:y}),c.$set(K)},i(y){d||(_(t.$$.fragment,y),_(a.$$.fragment,y),_(o),_(r.$$.fragment,y),_(c.$$.fragment,y),d=!0)},o(y){v(t.$$.fragment,y),v(a.$$.fragment,y),v(o),v(r.$$.fragment,y),v(c.$$.fragment,y),d=!1},d(y){y&&($(e),$(u),$(f)),A(t),A(a),h[s].d(),A(r,y),A(c,y)}}}function Ji(l,e,t){let n;oe(l,Ae,h=>t(9,n=h));const a=me();let i=!1,s=!1;const o=()=>{a("show-form")},u=()=>{t(1,s=!s)},r=h=>{Li(h.detail),n.length||t(0,i=!0)},f=h=>{Fi(h.detail),u(),n.length||t(0,i=!0)};return[i,s,o,u,r,f,h=>r(h),()=>t(0,i=!1),h=>f(h)]}class Ki extends Z{constructor(e){super(),X(this,e,Ji,xi,J,{})}}const Ui="/pocket-cairn/assets/Inventory-c55900a0.png";function Mn(l){let e,t,n,a,i,s;return{c(){e=w("div"),t=w("span"),n=Y(l[1]),a=S(),i=w("span"),s=Y(l[2]),m(t,"class","text svelte-jlh4rt"),m(i,"class","text svelte-jlh4rt"),m(e,"class","labels svelte-jlh4rt")},m(o,u){H(o,e,u),g(e,t),g(t,n),g(e,a),g(e,i),g(i,s)},p(o,u){u&2&&U(n,o[1]),u&4&&U(s,o[2])},d(o){o&&$(e)}}}function Qi(l){let e,t,n,a,i,s,o,u,r,f=l[1]&&l[2]&&Mn(l);return{c(){e=w("div"),t=w("button"),n=w("div"),a=S(),i=w("span"),o=S(),f&&f.c(),m(n,"class","dot svelte-jlh4rt"),m(i,"class","checkmark"),m(t,"class",s=ee(`input${l[0]?" checked":""}`)+" svelte-jlh4rt"),m(e,"class","tumbler svelte-jlh4rt")},m(c,d){H(c,e,d),g(e,t),g(t,n),g(t,a),g(t,i),g(e,o),f&&f.m(e,null),u||(r=re(t,"click",l[3]),u=!0)},p(c,[d]){d&1&&s!==(s=ee(`input${c[0]?" checked":""}`)+" svelte-jlh4rt")&&m(t,"class",s),c[1]&&c[2]?f?f.p(c,d):(f=Mn(c),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:G,o:G,d(c){c&&$(e),f&&f.d(),u=!1,r()}}}function Xi(l,e,t){let{checked:n=!1}=e,{firstLabel:a=null}=e,{secondLabel:i=null}=e;const s=me(),o=()=>s("change");return l.$$set=u=>{"checked"in u&&t(0,n=u.checked),"firstLabel"in u&&t(1,a=u.firstLabel),"secondLabel"in u&&t(2,i=u.secondLabel)},[n,a,i,o]}class Zi extends Z{constructor(e){super(),X(this,e,Xi,Qi,J,{checked:0,firstLabel:1,secondLabel:2})}}function es(l){let e,t;return{c(){e=w("a"),e.textContent="YouTube",t=S(),m(e,"href","https://youtu.be/I3Q_vfUOT0I"),m(e,"target","_blank"),m(e,"class","svelte-1nifx8i")},m(n,a){H(n,e,a),H(n,t,a)},d(n){n&&($(e),$(t))}}}function ts(l){let e,t;return{c(){e=w("a"),e.textContent="YouTube",t=S(),m(e,"href","https://youtu.be/I3Q_vfUOT0I"),m(e,"target","_blank"),m(e,"class","svelte-1nifx8i")},m(n,a){H(n,e,a),H(n,t,a)},d(n){n&&($(e),$(t))}}}function ns(l){let e,t,n,a,i,s,o,u,r,f,c,d,p,h,k,y,b,T,z,L,D,K,O,x,R,E,j,V,F,le;o=new Zi({props:{checked:l[0]==="second",firstLabel:"1 ed.",secondLabel:"2 ed."}}),o.$on("change",He.change);function B(C,ae){if(C[0]==="first")return ts;if(C[0]==="second")return es}let W=B(l),q=W&&W(l);return j=new Ki({}),j.$on("show-form",l[2]),{c(){e=w("div"),t=w("div"),n=w("h1"),a=Y(`Pocket Cairn
      `),i=w("span"),i.textContent="v.1.11",s=S(),P(o.$$.fragment),u=S(),r=w("img"),c=S(),d=w("span"),p=Y(`Cairn is a game created by
      `),h=w("a"),h.textContent="Yochai Gal",k=w("br"),y=Y(`
      Official game page:
      `),b=w("a"),b.textContent="cairnrpg.com",T=w("br"),z=Y(`
      Watch the video guide
      `),q&&q.c(),L=w("br"),D=Y(`
      Read the instructions on
      `),K=w("a"),K.textContent="GitHub",O=w("br"),x=Y(`
      Application by
      `),R=w("a"),R.textContent="brightsdays",E=S(),P(j.$$.fragment),m(i,"class","version svelte-1nifx8i"),m(n,"class","title svelte-1nifx8i"),m(r,"class","image svelte-1nifx8i"),kt(r.src,f=Ui)||m(r,"src",f),m(r,"alt","inventory"),m(h,"href","https://newschoolrevolution.com"),m(h,"target","_blank"),m(h,"class","svelte-1nifx8i"),m(b,"href","https://cairnrpg.com"),m(b,"target","_blank"),m(b,"class","svelte-1nifx8i"),m(K,"href","https://github.com/BrightsDays/pocket-cairn"),m(K,"target","_blank"),m(K,"class","svelte-1nifx8i"),m(R,"href","https://brightsdays.github.io"),m(R,"target","_blank"),m(R,"class","svelte-1nifx8i"),m(d,"class","info svelte-1nifx8i"),m(t,"class","header svelte-1nifx8i"),m(e,"class","creation svelte-1nifx8i")},m(C,ae){H(C,e,ae),g(e,t),g(t,n),g(n,a),g(n,i),g(n,s),M(o,n,null),g(t,u),g(t,r),g(t,c),g(t,d),g(d,p),g(d,h),g(d,k),g(d,y),g(d,b),g(d,T),g(d,z),q&&q.m(d,null),g(d,L),g(d,D),g(d,K),g(d,O),g(d,x),g(d,R),g(e,E),M(j,e,null),le=!0},p(C,[ae]){const _e={};ae&1&&(_e.checked=C[0]==="second"),o.$set(_e),W!==(W=B(C))&&(q&&q.d(1),q=W&&W(C),q&&(q.c(),q.m(d,L)))},i(C){le||(_(o.$$.fragment,C),_(j.$$.fragment,C),C&&he(()=>{le&&(F&&F.end(1),V=gt(e,ze,{delay:200,duration:200}),V.start())}),le=!0)},o(C){v(o.$$.fragment,C),v(j.$$.fragment,C),V&&V.invalidate(),C&&(F=mt(e,ze,{duration:200})),le=!1},d(C){C&&$(e),A(o),q&&q.d(),A(j),C&&F&&F.end()}}}function ls(l,e,t){let n;oe(l,He,s=>t(0,n=s));const a=me();return[n,a,()=>a("show-form")]}class as extends Z{constructor(e){super(),X(this,e,ls,ns,J,{})}}const Ht=["","Adhere","Earthquake","Masquerade","Smoke Form","Anchor","Elasticity","Miniaturize","Sniff","Animate Object","Elemental Wall","Mirror Image","Snuff","Anthropomorphize","Filch","Mirrorwalk","Sort","Arcane Eye","Flare","Multiarm","Spectacle","Astral Prison","Fog Cloud","Night Sphere","Spellsaw","Attract","Frenzy","Objectify","Spider Climb","Auditory Illusion","Gate","Ooze Form","Summon Cube","Babble","Gravity Shift","Pacify","Swarm","Bait Flower","Greed","Phobia","Telekinesis","Beast Form","Haste","Pit","Telepathy","Befuddle","Hatred","Primal Surge","Teleport","Body Swap","Hear Whispers","Push/Pull","Target Lure","Charm","Hover","Raise Dead","Thicket","Command","Hypnotize","Raise Spirit","Summon Idol","Comprehend","Icy Touch","Read Mind","Time Control","Cone of Foam","Identify Owner","Repel","True Sight","Control Plants","Illuminate","Scry","Upwell","Control Weather","Invisible Tether","Sculpt Elements","Vision","Cure Wounds","Knock","Sense","Visual Illusion","Deafen","Leap","Shield","Ward","Detect Magic","Liquid Air","Shroud","Web","Disassemble","Magic Dampener","Shuffle","Widget","Disguise","Manse","Sleep","Wizard Mark","Displace","Marble Craze","Slick	100	X-Ray Vision"],An=()=>{const l=[""];for(let e=1;e<=20;e++)e<=3?l.push(""):e<=14?l.push("Brigandine (1 Armor, bulky)"):e<=19?l.push("Chainmail (2 Armor, bulky)"):l.push("Plate (3 Armor, bulky)");return l},is=()=>{const l=[""];for(let e=1;e<=20;e++)e<=13?l.push(""):e<=16?l.push("Helmet (+1 Armor)"):e<=19?l.push("Shield (+1 Armor)"):l.push("both");return l},Pn=()=>{const l=[""];for(let e=1;e<=20;e++)e<=5?l.push("Dagger/Cudgel/Staff  (d6 damage)"):e<=14?l.push("Sword/Mace/Axe (d8 damage)"):e<=16?l.push("Sling (d4 damage)"):e<=18?l.push("Bow (d6 damage, bulky)"):e<=19?l.push("Crossbow (d8 damage, bulky)"):l.push("Halberd/War Hammer/Battleaxe  (d10 damage, bulky)");return l},Rn=["","Air Bladder","Fire Oil","Manacles","Rope (25ft)","Antitoxin","Grappling Hook","Pick","Spirit Ward","Cart (+4 slots, bulky)","Large Sack","Pole (10ft)","Spyglass","Chain (10ft)","Large Trap","Pulley","Tinderbox","Dowsing Rod","Lockpicks","Repellent","Wolfsbane"],Wn=["","Bellows","Cook Pots","Grease","Net","Bucket","Crowbar","Hammer","Saw","Caltrops","Drill (Manual)","Hour Glass","Sealant","Chalk","Fishing Rod","Metal File","Shovel","Chisel","Glue","Nails","Tongs"],Bn=["","Bottle","Horn","Mirror","Soap","Card Deck","Incense","Perfume","Sponge","Dice Set","Instrument","Quill & Ink","Tar Pot","Face Paint","Lens","Salt Pack","Twine","Fake Jewels","Marbles","Small Bell","Whistle"],ss=()=>{const l=is()[I(1,20)],e=n=>n<=3?Wn[I(1,20)]:n<=5?Bn[I(1,20)]:n<=13?Rn[I(1,20)]:n<=15?An()[I(1,20)]:n<=17?Pn()[I(1,20)]:`Spellbook (${Ht[I(1,100)]})`;return[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:An()[I(1,20)],inHand:!1,fatigue:!1},{title:Pn()[I(1,20)],inHand:!1,fatigue:!1},{title:l==="both"?"Helmet (+1 Armor)":l,inHand:!1,fatigue:!1},{title:l==="both"?"Shield (+1 Armor)":"",inHand:!1,fatigue:!1},{title:Rn[I(1,20)],inHand:!1,fatigue:!1},{title:Wn[I(1,20)],inHand:!1,fatigue:!1},{title:Bn[I(1,20)],inHand:!1,fatigue:!1},{title:e(I(1,20)),inHand:!1,fatigue:!1}].sort((n,a)=>n.title>a.title?-1:1)};function In(l,e,t){const n=l.slice();return n[8]=e[t],n}function Yn(l){let e,t,n,a,i,s,o=Q(l[0]),u=[];for(let r=0;r<o.length;r+=1)u[r]=Ln(In(l,o,r));return{c(){e=w("div");for(let r=0;r<u.length;r+=1)u[r].c();m(e,"class","list svelte-1lvg6px"),m(e,"style",t=`top: -${l[0].length/2*25}%`)},m(r,f){H(r,e,f);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(e,null);a=!0,i||(s=[vt(ul.call(null,e)),re(e,"click_outside",l[6])],i=!0)},p(r,f){if(f&9){o=Q(r[0]);let c;for(c=0;c<o.length;c+=1){const d=In(r,o,c);u[c]?u[c].p(d,f):(u[c]=Ln(d),u[c].c(),u[c].m(e,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=o.length}(!a||f&1&&t!==(t=`top: -${r[0].length/2*25}%`))&&m(e,"style",t)},i(r){a||(r&&he(()=>{a&&(n||(n=Je(e,Ue,{delay:100,duration:200,easing:Ke,axis:"y"},!0)),n.run(1))}),a=!0)},o(r){r&&(n||(n=Je(e,Ue,{delay:100,duration:200,easing:Ke,axis:"y"},!1)),n.run(0)),a=!1},d(r){r&&$(e),ge(u,r),r&&n&&n.end(),i=!1,ye(s)}}}function Ln(l){let e,t=l[8]+"",n,a,i,s;function o(){return l[5](l[8])}return{c(){e=w("button"),n=Y(t),a=S(),m(e,"class","item svelte-1lvg6px")},m(u,r){H(u,e,r),g(e,n),g(e,a),i||(s=re(e,"click",o),i=!0)},p(u,r){l=u,r&1&&t!==(t=l[8]+"")&&U(n,t)},d(u){u&&$(e),i=!1,s()}}}function os(l){let e,t,n,a,i,s,o=l[2]&&Yn(l);return{c(){e=w("div"),t=w("button"),n=Y(l[1]),a=S(),o&&o.c(),m(t,"ontouchstart",""),m(t,"class","select svelte-1lvg6px"),m(e,"class","input svelte-1lvg6px")},m(u,r){H(u,e,r),g(e,t),g(t,n),g(e,a),o&&o.m(e,null),i||(s=re(t,"click",l[4]),i=!0)},p(u,[r]){r&2&&U(n,u[1]),u[2]?o?(o.p(u,r),r&4&&_(o,1)):(o=Yn(u),o.c(),_(o,1),o.m(e,null)):o&&(te(),v(o,1,1,()=>{o=null}),ne())},i(u){_(o)},o(u){v(o)},d(u){u&&$(e),o&&o.d(),i=!1,s()}}}function rs(l,e,t){let{options:n=[""]}=e,{value:a}=e;const i=me();let s=!1;const o=c=>{t(2,s=!1),i("select",c)},u=()=>t(2,s=!0),r=c=>o(c),f=()=>t(2,s=!1);return l.$$set=c=>{"options"in c&&t(0,n=c.options),"value"in c&&t(1,a=c.value)},[n,a,s,o,u,r,f]}class us extends Z{constructor(e){super(),X(this,e,rs,os,J,{options:0,value:1})}}const ct=()=>[{title:"Cleric",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"War Hammer (d10, bulky)",inHand:!1,fatigue:!1},{title:"Chainmail (2 Armor, bulky)",inHand:!1,fatigue:!1},{title:"Gauntlets (+1 Armor)",inHand:!1,fatigue:!1},{title:"Cleansing Blade (d6)",inHand:!1,fatigue:!1},{title:"Holy Symbol (Ward once per day)",inHand:!1,fatigue:!1},{title:"Cloak of the Order",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Dowser",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Sickle (d6)",inHand:!1,fatigue:!1},{title:"Patchwork Doublet (+1 Armor)",inHand:!1,fatigue:!1},{title:"Dowsing Rod",inHand:!1,fatigue:!1},{title:"Eyestone (Sense if placed in fresh water)",inHand:!1,fatigue:!1},{title:"Worn Map",inHand:!1,fatigue:!1},{title:"Spyglass",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Dwarf",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Prickly Root (d6)",inHand:!1,fatigue:!1},{title:"Pinecone Lattice (1 Armor)",inHand:!1,fatigue:!1},{title:"Trowel",inHand:!1,fatigue:!1},{title:"Jar of Forest Ants",inHand:!1,fatigue:!1},{title:"Poisonous mushroom",inHand:!1,fatigue:!1},{title:"Hand Drill",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Elf",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Elegant Sword (d8)",inHand:!1,fatigue:!1},{title:"Recurve Bow (d8)",inHand:!1,fatigue:!1},{title:"Gilt Clothing (1 Armor)",inHand:!1,fatigue:!1},{title:"Spellbook (Detect Magic)",inHand:!1,fatigue:!1},{title:"Golden Flute",inHand:!1,fatigue:!1},{title:"Air Bladder",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Fighter",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Glaive (d10, bulky)",inHand:!1,fatigue:!1},{title:"Scimitar (d8)",inHand:!1,fatigue:!1},{title:"Shortsword (d6)",inHand:!1,fatigue:!1},{title:"Shortsword (d6)",inHand:!1,fatigue:!1},{title:"Tobacco Pouch & Pipe",inHand:!1,fatigue:!1},{title:"Dice Set",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Friar",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Scepter (d6)",inHand:!1,fatigue:!1},{title:"Deceptive Robes (+1 Armor)",inHand:!1,fatigue:!1},{title:"Censer & Holy Water",inHand:!1,fatigue:!1},{title:"Jug of Honey Wine",inHand:!1,fatigue:!1},{title:"Folk Songbook",inHand:!1,fatigue:!1},{title:"Cart (+4 slots, bulky)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Knight",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Longsword (d10, bulky)",inHand:!1,fatigue:!1},{title:"Chainmail (2 Armor, bulky)",inHand:!1,fatigue:!1},{title:"Helmet (+1 Armor)",inHand:!1,fatigue:!1},{title:"Heraldic Cape",inHand:!1,fatigue:!1},{title:"Manacles",inHand:!1,fatigue:!1},{title:"Fine Rope",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Magic User",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Fizzled Staff (d8, bulky)",inHand:!1,fatigue:!1},{title:"Dagger (d6)",inHand:!1,fatigue:!1},{title:`Spellbook (${Ht[I(1,100)]})`,inHand:!1,fatigue:!1},{title:`Spellbook (${Ht[I(1,100)]})`,inHand:!1,fatigue:!1},{title:"Ragged Clothing (hidden pockets)",inHand:!1,fatigue:!1},{title:"Leycap (x2, see Relics)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Thief",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Two daggers (d6+d6)",inHand:!1,fatigue:!1},{title:"Hooded Jerkin (1 Armor)",inHand:!1,fatigue:!1},{title:"Lockpicks",inHand:!1,fatigue:!1},{title:"Caltrops",inHand:!1,fatigue:!1},{title:"Grappling Hook",inHand:!1,fatigue:!1},{title:"Metal File",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]},{title:"Ranger",inventory:[{title:"Rations (3)",inHand:!1,fatigue:!1},{title:"Torch",inHand:!1,fatigue:!1},{title:"Longbow (d8, bulky)",inHand:!1,fatigue:!1},{title:"Hatchet (d6)",inHand:!1,fatigue:!1},{title:"Padded Leathers (1 Armor)",inHand:!1,fatigue:!1},{title:"Large Trap",inHand:!1,fatigue:!1},{title:"Bloodhound | 2 HP, 12 DEX, bite (d6)",inHand:!1,fatigue:!1},{title:"Thundering Horn",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}]}],fs=["","Arwel","Breglor","Grinwit","Melnax","Bevan","Canhoreal","Gruwid","Orthax","Boroth","Emrys","Gruwth","Triunein","Borrid","Ethex","Gwestin","Wenlan","Breagle","Gringle","Mannog","Yirmeor"],cs=["","Agune","Drelil","Lirann","Sybil","Beatrice","Elgile","Lirathil","Theune","Breagan","Esme","Lisabeth","Wenain","Bronwyn","Griya","Moralil","Ygwal","Cannora","Henaine","Morgwen","Yslen"],ds=["","Abernathy","Crumwaller","Harper","Swinney","Addercap","Dunswallow","Loomer","Thatcher","Burl","Getri","Malksmilk","Tolmen","Candlewick","Glass","Smythe","Weaver","Cormick","Harkness","Sunderman","Wolder"],hs=["","alchemist","cleric","magician","performer","blacksmith","gambler","mercenary","pickpocket","burglar","gravedigger","merchant","smuggler","butcher","herbalist","miner","servant","carpenter","hunter","outlaw","ranger"],zn=["","athletic","scrawny","brawny","short","flabby","statuesque","lanky","stout","rugged","towering"],Dn=["","birthmark","round","dark","soft","elongated","tanned","pockmarked","tattooed","rosy","weathered"],Fn=["","bald","long","braided","luxurious","curly","oily","filthy","wavy","frizzy","wispy"],On=["","bony","perfect","broken","rat-like","chiseled","sharp","elongated","square","pale","sunken"],jn=["","blunt","gravelly","booming","precise","cryptic","squeaky","droning","stuttering","formal","whispery"],En=["","antique","frayed","bloody","frumpy","elegant","livery","filthy","rancid","foreign","soiled"],Gn=["","ambitious","honorable","cautious","humble","courageous","merciful","disciplined","serene","gregarious","tolerant"],Nn=["","aggressive","lazy","bitter","nervous","craven","rude","deceitful","vain","greedy","vengeful"],gs=["","ambitious","loafer","boor","oddball","dangerous","repulsive","entertainer","respected","honest","wise"],ms=["","abandoned","defrauded","addicted","demoted","blackmailed","discredited","condemned","disowned","cursed","exiled"],ps="/pocket-cairn/assets/dice-9509d5d1.svg",ys={title:"Aurifex",description:"You are an artisan of the arcane, a smith of subtle forces. In the crucible of your workshop, the laws that govern this world are warped to suit your needs.",names:["Hestia","Basil","Rune","Prism","Ember","Quintess","Aludel","Mordant","Salaman","Jazia"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Lantern",inHand:!1,fatigue:!1},{title:"Oil Can (6 uses)",inHand:!1,fatigue:!1},{title:"Needle-Knife (d6)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Protective Gloves"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What experiment went horribly wrong?",list:[{content:"There was an explosion, and you lost your sense of smell. Well, almost: you can sniff out gold as a pig does truffles. Take a Tin of Snuff (6 uses) to dampen the impact. Use it every day or become deprived.",items:[{title:"Tin of Snuff (6 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"You dematerialized a beloved pet. Now it follows you around, invisible but always present. Although it cannot interact with the physical realm, you are able to share its senses (add a Fatigue each time). It follows basic commands.",items:null,petty:null},{content:"You were exposed to a long-acting truth serum whose effects have yet to wear off. The disorder has its advantages: you cannot repeat lies you`ve heard, either.",items:null,petty:null},{content:"You were adept at creating fake gold, which is almost as good. Eventually, your ruse was discovered and you had to make a hasty retreat. Take a heavy Metal Ingot and Gold Powder (3 uses).",items:[{title:"Metal Ingot",inHand:!1,fatigue:!1},{title:"Gold Powder (3 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"Your recipe worked, but a rival stole the blueprint before your claims could be proven. Take a prototype Blunderbuss (d12, blast, bulky) and a taste for revenge.",items:[{title:"Blunderbuss (d12, blast, bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"Ridiculed for discovering how to turn gold into lead, you were a laughing stock. Take a bottle of Universal Solvent (2 uses) that dissolves anything it touches into its constituent parts.",items:[{title:"Universal Solvent (2 uses)",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What alchemical marvel is the product of your latest ingenuity?",list:[{title:"Pyrophoric Gel",content:"A sticky green fluid that catches fire when exposed to air, then burns for 8 hours. Cannot be extinguished (1 use).",items:[{title:"Pyrophoric Gel (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Blast Sphere",content:"A head-sized iron ball filled with explosive powder that explodes on impact (d12, blast, bulky, 1 use).",items:[{title:"Blast Sphere (d12, blast, bulky, 1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Aqua Vita",content:"Purifies any liquid, converting it to pure water. Drinking it cures 1d6 STR (1 use).",items:[{title:"Aqua Vita (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Mimic Stone",content:"Records a short phrase that can later be played back.",items:[{title:"Mimic Stone",inHand:!1,fatigue:!1}],petty:null},{title:"Spark Dust",content:"Ignites easily and quickly. Useful for starting a fire or as an incendiary device (3 uses).",items:[{title:"Spark Dust (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Homunculus",content:"A miniature clay replica of yourself that follows your every command to the letter. It hates being enthralled to you and complains bitterly whenever possible. Any damage done to the homunculus is also done to you.",items:[{title:"Homunculus",inHand:!1,fatigue:!1}],petty:null}]}},bs={title:"Beast Handler",description:"You alone can walk among the creatures of the wild, fearless and in control. You share a connection with animals that others can only dream of...so long as you don`t become their snack.",names:["Amara","Wulf","Mireille","Soren","Freki","Aster","Gerrik","Boreas","Delphine","Matheus"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Leather Whip (d6)",inHand:!1,fatigue:!1},{title:"Soporific Darts (STR save or fall asleep, 6 uses)",inHand:!1,fatigue:!1},{title:"Lure",inHand:!1,fatigue:!1},{title:"Rope (25ft)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What do creatures of the wild understand that your kind do not?",list:[{content:"There is far more to the world than meets the eye. With quiet concentration, you can borrow the senses of a nearby creature of your specialty.",items:null,petty:null},{content:"The behavior of beasts is a language in itself. When observing beasts of your specialty, you gain insight into weather patterns and impending disasters.",items:null,petty:null},{content:"The pulse of the hunt is a powerful impulse. You have a sense for when predators, even those not of your specialty, are near.",items:null,petty:null},{content:"You know some lands intimately. Your chance of becoming lost in a terrain dominated by the beasts of your specialty is reduced by one step (e.g. 4-in-6 becomes 3-in-6).",items:null,petty:null},{content:"Nature`s symphony can be heard if you attune to its rhythm. When surrounded by creatures of your specialty they can alert you to approaching danger before it arrives.",items:null,petty:null},{content:"Survival is about adaptability. Once per day, you may take on a simple feature from a creature of your speciality (webbed fingers, night vision, etc.). Add a Fatigue each time.",items:null,petty:null}]},secondPerk:{title:"What creature is your specialty?",list:[{title:"Arachnids",content:"Take a Quick-Flame Rod and an Oil Can (6 uses). It can destroy a large spider nest in seconds.",items:[{title:"Quick-Flame Rod",inHand:!1,fatigue:!1},{title:"Oil Can (6 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Felines",content:"Take a sack of Whiskerwort. Its odor can calm and control even the largest of cats.",items:[{title:"Sack of Whiskerwort",inHand:!1,fatigue:!1}],petty:null},{title:"Canines",content:"Take a wreath of Wolfsbane and a Large Net. Also effective against werewolves!",items:[{title:"Wreath of Wolfsbane",inHand:!1,fatigue:!1},{title:"Large Net",inHand:!1,fatigue:!1}],petty:null},{title:"Birds",content:"Take a Warble-Whistle (3 charges). It can imitate any bird call, and can even be used to send simple messages. Recharge: Feed a baby bird as its mother would, then blow.",items:[{title:"Warble-Whistle (3 charges)",inHand:!1,fatigue:!1}],petty:null},{title:"Rodents",content:"Take a Windpipe that emits a high-pitched sound that only rodents can hear. So long as you play, they will follow. Even to their deaths.",items:[{title:"Windpipe",inHand:!1,fatigue:!1}],petty:null},{title:"Serpents",content:"Take a Warming Stone that generates an irresistible heat, and a vial of Antitoxin (2 uses).",items:[{title:"Warming Stone",inHand:!1,fatigue:!1},{title:"Vial of Antitoxin (2 uses)",inHand:!1,fatigue:!1}],petty:null}]}},de={str:I(3,6),dex:I(3,6),wil:I(3,6),hp:I(3,6)},_s={title:"Bonekeeper",description:"You are a shepherd to the departed. You listen to the final whispers of the dead as they descend into the cold, unyielding earth. You know that to fully celebrate the gift of life, we must honor its finale as well.",names:["Rook","Ebon","Moro","Yew","Pall","Leth","Nix","Barnaby","Vesper","Leder"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Lantern",inHand:!1,fatigue:!1},{title:"Oil Can (6 uses)",inHand:!1,fatigue:!1},{title:"Stake (d6)",inHand:!1,fatigue:!1},{title:"Chains (10ft)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What did you take from the dead?",list:[{content:"A Crow-Shaped Amulet. You can ask a question of the dead, but must add a Fatigue each time.",items:[{title:"Crow-Shaped Amulet",inHand:!1,fatigue:!1}],petty:null},{content:"A mortal wound from a freed revenant. You were healed, but the disfigurement has made you a pariah. You require neither air nor sustenance, but are still subject to pain and death. Trapped between, the dead see you as one of their own.",items:null,petty:null},{content:"A Blood Pail (bulky) from a local death-cult. Empty its contents to summon a creature built from items buried below (bones, rocks, pottery, etc). It obeys your command, but if destroyed you permanently lose 1d4 STR. It has 6 HP, 1 Armor, 13 STR, 11 DEX, 4 WIL, shard fists (d8). Recharge: Fill the bucket with the blood of a dying warrior.",items:[{title:"Blood Pail (bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"A Burial Wagon (+6 slots) from your last job. It came with a stubborn old Donkey (+4 slots, +2 slots if pulling wagon, slow).",items:null,petty:null,companions:[{id:0,name:"Stubborn Old Donkey",type:"Transport",stats:{str:de.str,dex:de.dex,wil:de.wil,hp:de.hp,strMax:de.str,dexMax:de.dex,wilMax:de.wil,hpMax:de.hp,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]},{id:0,name:"Burial Wagon",type:"Transport",stats:{str:de.str,dex:de.dex,wil:de.wil,hp:de.hp,strMax:de.str,dexMax:de.dex,wilMax:de.wil,hpMax:de.hp,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]}]},{content:"The Detect Magic Spellbook, stolen from an ancient library. Your family worked in service to an obscure underworld deity, but you lost your faith. Though exiled, you continue to serve, even as an apostate.",items:[{title:"Detect Magic Spellbook",inHand:!1,fatigue:!1}],petty:null},{content:"A Plague Doctor`s Mask, after its owner succumbed to the disease that wiped out everyone you once knew. They should have kept it on.",items:[{title:"Plague Doctor`s Mask",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What tool was invaluable in your work?",list:[{title:"Manacles",content:"Though old, it`s still effective even against the very strong. You don`t have the key.",items:[{title:"Manacles",inHand:!1,fatigue:!1}],petty:null},{title:"Sponge",content:"Supposedly made from the remains of a rare sea creature. It never seems to dry out.",items:[{title:"Sponge",inHand:!1,fatigue:!1}],petty:null},{title:"Pulley",content:"Great for moving gravestones, rocks, or even bodies.",items:[{title:"Pulley",inHand:!1,fatigue:!1}],petty:null},{title:"Incense",content:"Perfect for rituals, or to keep the flies at bay. Cools the blood.",items:[{title:"Incense",inHand:!1,fatigue:!1}],petty:null},{title:"Crowbar",content:"d6 damage. Sometimes you just need to get the damn thing open!",items:[{title:"Crowbar (d6 damage)",inHand:!1,fatigue:!1}],petty:null},{title:"Repellent",content:"Powerful stuff. Its faded label makes it unclear what it is actually meant to repel, though. Perhaps everything. 3 uses.",items:[{title:"Repellent (3 uses)",inHand:!1,fatigue:!1}],petty:null}]}},ws={title:"Cutpurse",description:"You live in the grey space between those who have power and those who don`t. You find opportunity where others see only chaos. With nimble fingers, you unburden both the richest merchant and the lowliest guard.",names:["Sable","Lyra","Eamon","Salina","Elara","Freya","Isolde","Sparrow","Ivy","Silas"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Twin Daggers (d6+d6, bulky)",inHand:!1,fatigue:!1},{title:"Padded Leather (1 Armor)",inHand:!1,fatigue:!1},{title:"Lockpicks",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Black Outfit"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What was your last big job?",list:[{content:"A noble`s summer home. The place was full of fancy wine (+20gp) but not much else. Take Fence Cutters.",items:[{title:"Fence Cutters",inHand:!1,fatigue:!1}],petty:null},{content:"A bank (you were caught). You bear a brand only visible by firelight, and anyone that sees the mark can ask you for a beer. Take Retractable Wires.",items:[{title:"Retractable Wires",inHand:!1,fatigue:!1}],petty:null},{content:"A guild warehouse. Take a Ladder (bulky, 10ft) and Blinding Powder (1 use).",items:[{title:"Ladder (bulky, 10ft)",inHand:!1,fatigue:!1},{title:"Blinding Powder (1 use)",inHand:!1,fatigue:!1}],petty:null},{content:"Moneylender. Someone beat you to the job, but left behind a Scroll of Arcane Eye (petty).",items:null,petty:[{title:"Scroll of Arcane Eye"}]},{content:"Constable`s quarters. You escaped, but left some friends behind. Take Strong Silk Rope and a queasy feeling.",items:[{title:"Strong Silk Rope",inHand:!1,fatigue:!1}],petty:null},{content:"A university. You were seen, but not pursued. You still don`t know why. Take Smoke Pellets (3 uses).",items:[{title:"Smoke Pellets (3 uses)",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What helps you steal?",list:[{title:"Catring",content:"2 charges. Climb up walls and fall safely. Recharge: Place the ring on a stray cat`s tail.",items:[{title:"Catring (2 charges)",inHand:!1,fatigue:!1}],petty:null},{title:"Gildfinger",content:"1 charge. A finger glove that mimics any mundane key. Recharge: Bundle it with at least 100gp for a night.",items:[{title:"Gildfinger (1 charge)",inHand:!1,fatigue:!1}],petty:null},{title:"Glimpse Glass",content:"3 charges. A monocle that lets you see through walls or other obstructions. It shatters after the last use.",items:[{title:"Glimpse Glass (3 charges)",inHand:!1,fatigue:!1}],petty:null},{title:"Sweetwhistle",content:"1 charge. Listeners hear a soft, familiar voice in the distance that they cannot resist following. Recharge: Lose a dear memory (describe it).",items:[{title:"Sweetwhistle (1 charge)",inHand:!1,fatigue:!1}],petty:null},{title:"Vagrant`s Veil",content:"1 charge. Wear it to blend seamlessly into crowds, appearing as a simple pauper. Recharge: Donate all the day`s winnings to the poor (Petty).",items:null,petty:[{title:"Vagrant`s Veil (1 charge)"}]},{title:"Smokestack Marble",content:"3 uses. Crush to release a dense cloud of smoke that follows you (Petty).",items:null,petty:[{title:"Smokestack Marble (3 uses)"}]}]}},ks={title:"Fieldwarden",description:"Protectors of the harvest, defense against pests, thieves, and beasts. A position of great honor, while it lasts: many guardians do not live out their natural lives.",names:["Seed","Thresh","Dibber","Sow","Stalk","Harrow","Cobb","Flax","Briar","Rye"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Brigandine (1 Armor, bulky)",inHand:!1,fatigue:!1},{title:"Sling (d6)",inHand:!1,fatigue:!1},{title:"Hand Axe (d6)",inHand:!1,fatigue:!1},{title:"Repellent (state the creature, 3 uses)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What got the better of you?",list:[{content:"A voracious swarm of pests that swallowed crops and animals alike. With nothing to defend, you left. Take Gale Seed Extract (3 uses). Ingesting one lets you sprint with a speed four times your regular rate. Afterward you add two Fatigue.",items:[{title:"Gale Seed Extract (3 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"A crop spirit, angered by a poor tithing. The fires consumed nearly everything, and afterwards you were able to gather a pouch of Fireseeds (d8, blast, 4 uses).",items:[{title:"Fireseeds (d8, blast, 4 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"An antlered, toothy demon that nearly ended you. Take a blood-stained bone knife (d6). On critical damage, its next attack becomes enhanced from contact with blood.",items:[{title:"blood-stained bone knife (d6)",inHand:!1,fatigue:!1}],petty:null},{content:"The Withering, a type of stem rot from The Roots. Take a Diseased Crop (6 uses) that decays any plant it touches.",items:[{title:"Diseased Crop (6 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"Wolves, or so you thought. You are now a Werewolf [8 HP, 15 STR, 14 DEX, claws (d6+d6) or bite (d8)]. Your WIL remains the same. You can turn at will (once per day) but must make a WIL save to revert. Anyone left alive from your attacks must make a WIL save to avoid infection.",items:null,petty:null},{content:"Crop thieves. Not all of them survived, but you were outnumbered. Take a +d4 HP and a Hilted Broadsword (d8, bulky).",items:[{title:"Smoke Pellets (3 uses)",inHand:!1,fatigue:!1}],petty:null,hp:!0}]},secondPerk:{title:"What tool saved your life?",list:[{title:"Bloodvine Whip",content:"d8 damage. On Critical Damage it drains the target`s blood, granting the weapon`s next attack the blast quality.",items:[{title:"Bloodvine Whip (d8)",inHand:!1,fatigue:!1}],petty:null},{title:"Clatter Keeper",content:"A hand-cranked device that emits a loud noise, frightening away most creatures.",items:[{title:"Clatter Keeper",inHand:!1,fatigue:!1}],petty:null},{title:"Sun Stick",content:"Provides ample warmth and light for up to one hour (1 use). Recharge: Leave in heavy sunlight for a full day.",items:[{title:"Sun Stick (1 charge)",inHand:!1,fatigue:!1}],petty:null},{title:"Root Tether",content:"When thrown, binds up to a wolf-sized creature to the soil for a short time.",items:[{title:"Root Tether",inHand:!1,fatigue:!1}],petty:null},{title:"Greenwhistle",content:"A small flute that calms plants, making passage through areas heavy with plant life a bit easier.",items:[{title:"Greenwhistle",inHand:!1,fatigue:!1}],petty:null},{title:"Everbloom Band",content:"A circlet adorned with flowers that never wilt. On taking Critical Damage the flowers dissolve into dust, but you act as if your save succeeded (STR loss still occurs).",items:[{title:"Everbloom Band",inHand:!1,fatigue:!1}],petty:null}]}},vs={title:"Fletchwind",description:"You strike from afar, but that does not make you a coward. You are a musician, the song of your bowstring nought but a warning, singing the silent promise of a quick death.",names:["Flint","Feather","Crier","Thunder","Falcon","Pluck","Needle","Warsong","Hawk","Cai"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"Serrated Knife (d6)",inHand:!1,fatigue:!1},{title:"Boiled Leather (1 Armor)",inHand:!1,fatigue:!1},{title:"Heartroot Salve (restores 1d4 STR, 1 use)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What kind of wood is your bow made from?",list:[{content:"Western Yew (d6, bulky). Can be wielded as a blunt weapon (d6). Noisy.",items:[{title:"Western Yew (d6, bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"Sessile Oak (d8, bulky). Slams into targets. On critical damage, something is torn off.",items:[{title:"Sessile Oak (d8, bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"Stone Pine (d6, bulky). Produces one use of Sticky Sap per day. It is highly explosive.",items:[{title:"Stone Pine (d6, bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"White Ash (d6, bulky). Can be used in place of a shield in melee combat (+1 Armor).",items:[{title:"White Ash (d6, bulky)",inHand:!1,fatigue:!1}],petty:[]},{content:"Striped Bamboo (d6). Collapsible, it only requires one slot (but still requires both hands).",items:[{title:"Striped Bamboo (d6)",inHand:!1,fatigue:!1}],petty:null},{content:"Wych Elm (d6, bulky). Protects the bearer from poisons and toxins, so long as they are holding it.",items:[{title:"Wych Elm (d6, bulky)",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"How did you earn your bow?",list:[{title:"War",content:"If you are first to attack, your bow gains the blast property for the first round.",items:null,petty:null},{title:"Falconry",content:"You keep a falcon [3 hp, 5 STR, 16 DEX, 4 WIL, claws (d6+d6), bite (d6)]. It only eats live game.",items:null,petty:null,companions:[{id:0,name:"Falcon",type:"Falcon",stats:{str:5,dex:16,wil:4,hp:3,strMax:5,dexMax:16,wilMax:4,hpMax:3,armor:0},inventory:[]}]},{title:"Hunting",content:"When taking the Supply (pg. 80) action your ability to secure Rations increases by one step (e.g. 1d4 becomes 1d6).",items:null,petty:null},{title:"Tournaments",content:"Attacks with your bow are enhanced if the target is immobile.",items:null,petty:null},{title:"Training",content:"If you are the first to attack, melee attacks against you are impaired until you take STR damage.",items:null,petty:null},{title:"Scouting",content:"When taking the Travel (pg. 80) action, your presence decreases the chance of getting lost by one step (e.g. 4-in-6 becomes 3-in-6).",items:null,petty:null}]}},$s={title:"Fungal Forager",description:"You follow the whisperings of the deep earth, the rhythmic pulse of the mycelium forest that grows beneath the surface. The dark holds no terror for you. Also, you really love mushrooms.",names:["Unther","Woozy","Hilda","Current","Leif","Ratan","Mourella","Lal","Per","Madrigal"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Sharpened Trowel (d6)",inHand:!1,fatigue:!1},{title:"Candle Helmet (+1 Armor, dim, 6 uses)",inHand:!1,fatigue:!1},{title:"Rope (25ft)",inHand:!1,fatigue:!1},{title:"Metal Pail",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What strange fungi did you discover?",list:[{content:"Shrieking Trumpet. When exposed to light it screams so loudly that all nearby attacks (including your own) are impaired (2 uses).",items:[{title:"Shrieking Trumpet (2 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"Torch Fungus. When crushed it creates a heatless light for ten minutes (3 uses).",items:[{title:"Torch Fungus (3 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"Murderous Truffle. Pungent, highly toxic, and very rare (worth 50gp to assassins). Illegal pretty much everywhere (1 use).",items:[{title:"Murderous Truffle (1 use)",inHand:!1,fatigue:!1}],petty:null},{content:"Hellcap. Exposure to its aroma causes intense nausea, even vomiting. Either way, it clears the room. Bottled (1 use).",items:[{title:"Hellcap (1 use)",inHand:!1,fatigue:!1}],petty:null},{content:"Sproutcup. Ingest to shrink down to the size of a mouse (your belongings stay the same size). You return to normal size within the hour, often in fits and starts (1 use).",items:[{title:"Sproutcup (1 use)",inHand:!1,fatigue:!1}],petty:null},{content:"Rootflower. A white fungus found only on corpses deep underground. Ingest to restore d6 WIL. You will dream of the dead, and their stories (1 use).",items:[{title:"Rootflower (1 use)",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What keeps you sane, even in utter darkness?",list:[{title:"Glowsnail",content:"Casts a soft, bioluminescent light. Feeds on one ration every two days.",items:[{title:"Glowsnail",inHand:!1,fatigue:!1}],petty:null},{title:"Silk Moth Shawl",content:"A weatherproof blanket, it can also douse a fire without being damaged.",items:[{title:"Silk Moth Shawl",inHand:!1,fatigue:!1}],petty:null},{title:"Milkflower",content:"A gentle stimulant. Chewing makes you immune to panic for the next hour (3 uses).",items:[{title:"Milkflower (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Luxcompass",content:"Hums softly as it moves closer to the Sun. Eventually, the noise becomes unbearably loud.",items:[{title:"Luxcompass",inHand:!1,fatigue:!1}],petty:null},{title:"Sloth-Tarp",content:"A tough and weatherproof fabric, useful for hanging off trees. When inside, take +1 Armor.",items:[{title:"Sloth-Tarp",inHand:!1,fatigue:!1}],petty:null},{title:"Miner`s Grease",content:"Great for dislodging a gem, tool, or limb from a tight crack. Highly explosive (3 uses).",items:[{title:"Miner`s Grease (3 uses)",inHand:!1,fatigue:!1}],petty:null}]}},Hs={title:"Foundling",description:"An odd birthmark, a strange smell: somehow, the touch of elsewhere still lingers. You`ll never fit in, at least not where you`re at. Roll on the Omens table, but keep the results private for now.",names:["Faunus","Snowdrop","Wisp","Silverdew","Brim","Solstice","Steeleye","Sileas","Gossamer","Hazel"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Salt Pouch",inHand:!1,fatigue:!1},{title:"Sling (d6)",inHand:!1,fatigue:!1},{title:"Dagger (d6)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Heirloom Amulet (glows in the presence of magic)"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"Who took you in?",list:[{content:"An old hunter. You were both quite happy, until it all ended. Take a Weathered Longbow (d8, bulky) and a Leather Jerkin (1 Armor).",items:[{title:"Weathered Longbow (d8, bulky)",inHand:!1,fatigue:!1},{title:"Leather Jerkin (1 Armor)",inHand:!1,fatigue:!1}],petty:null},{content:"A wizened apothecary, who taught you the healing arts but maintained a clinical detachment. Take a Healing Ungent (restores d4 STR).",items:[{title:"Healing Ungent (restores d4 STR)",inHand:!1,fatigue:!1}],petty:null},{content:"A druid, who taught you the language of trees. When it came time to leave you took with you only a Gnarled Staff (d8) and the promise that one day you would return.",items:[{title:"Gnarled Staff (d8)",inHand:!1,fatigue:!1}],petty:null},{content:"A gruff blacksmith from a sleepy river town. You were always kept at arm`s length. Now the forge is cold, and you`ve moved on. Take a Smith`s Apron (petty) and a set of oft-mended Chain Mail (2 Armor, bulky).",items:[{title:"Chain Mail (2 Armor, bulky)",inHand:!1,fatigue:!1}],petty:[{title:"Smith`s Apron"}]},{content:"A troupe of traveling entertainers. For a time, they were like family to you. One day you woke up and they were gone with no explanation. Take a Storybook, a Dagger (d6), and some burning questions.",items:[{title:"Storybook",inHand:!1,fatigue:!1},{title:"Dagger (d6)",inHand:!1,fatigue:!1}],petty:null},{content:"The monks of a secluded forest monastery. When their rules became too strict, you snuck away. Take a Monk`s Habit (warm, petty) and a Spellbook of Control Plants.",items:[{title:"Spellbook of Control Plants",inHand:!1,fatigue:!1}],petty:[{title:"Monk`s Habit (warm)"}]}]},secondPerk:{title:"What keeps away bad tidings?",list:[{title:"Pipeweed",content:"Your good luck charm. Conversations tend to flow more easily after a smoke (6 uses).",items:[{title:"Pipeweed",inHand:!1,fatigue:!1}],petty:null},{title:"Stink Jar",content:"Shattering this jar releases an odor so foul all nearby must make a STR save or immediately vomit (1 use).",items:[{title:"Stink Jar (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Ivy Worm",content:"A green worm often mistaken for a weed. Swallowed whole, it absorbs any toxins or rot in the body before exiting through the usual way.",items:[{title:"Ivy Worm",inHand:!1,fatigue:!1}],petty:null},{title:"Dream Stone",content:"A smooth blue stone that helps recall dreams more clearly. Overuse can cause dream-addiction.",items:[{title:"Dream Stone",inHand:!1,fatigue:!1}],petty:null},{title:"Drowning Rod",content:"A finger-sized wooden stick that doubles in size each time it is fully submerged in water. It doesn`t shrink back down.",items:[{title:"Drowning Rod",inHand:!1,fatigue:!1}],petty:null},{title:"Rabbit`s Foot",content:"You were wearing it when they found you. They say it is the foot of she who left you, and that it protects you from witch magic.",items:[{title:"Rabbit`s Foot",inHand:!1,fatigue:!1}],petty:null}]}},Ss={title:"Greenwise",description:"You delve deep into The Woods, prying its secrets from between rough boughs and whispering leaves. In this verdant kingdom, you are no mere scholar, but its confidant as well.",names:["Briar","Moss","Fern","Lichen","Root","Willow","Sage","Yarrow","Rowan","Ash"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Iron Pot",inHand:!1,fatigue:!1},{title:"Root Knife (d6)",inHand:!1,fatigue:!1},{title:"Healing Salve (restores 1d4 STR, 1 use)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Twine Bauble (petty, Ward once per day)"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"How have The Woods failed you?",list:[{content:"An ill-tempered forest spirit cursed you for stealing, marking you as an enemy of their kind. Take a Bezoar Stone. Ingesting it cures any poison (1 use, unless retrieved).",items:[{title:"Bezoar Stone",inHand:!1,fatigue:!1}],petty:null},{content:"A close friend, swallowed whole. Now you see their face in any tea you brew. Take a Soporific Concoction (3 uses).",items:[{title:"Soporific Concoction (3 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"You were poisoned, losing your sense of taste and smell. You can now withstand noxious fumes, and always carry Antitoxin (2 uses).",items:[{title:"Antitoxin (2 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"Your radical experiments turned your skin green, and you now gain nourishment as a plant. You don`t need rations, but a day without sufficient sunlight and water leaves you deprived.",items:null,petty:null},{content:"Your impressive corpseflower won a local contest then promptly killed a judge. You fled, but not without the Prize Money (100gp) and a warrant for your arrest.",items:[{title:"Prize Money (100gp)",inHand:!1,fatigue:!1}],petty:null},{content:"You created a restorative tincture that also caused accidental infertility. Take a Healing Potion that completely restores STR. Only you know of its unintended side-effects.",items:[{title:"Healing Potion",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What keeps you safe while in The Woods?",list:[{title:"Amadou",content:"A vermillion fungus that catches fire quite easily (3 uses).",items:[{title:"Amadou (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Delphinium",content:"Breathe water for up to one hour (1 use, but can be divided into fractional doses).",items:[{title:"Delphinium (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Tacky Stalk",content:"A woody reed that hardens into a permanent adhesive when chewed (2 uses).",items:[{title:"Tacky Stalk (2 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Wisp Lantern",content:"Caged in wrought iron, provides a dim light so long as the wisp is able to feed on nearby pain and fear.",items:[{title:"Wisp Lantern",inHand:!1,fatigue:!1}],petty:null},{title:"Seed Bomb",content:"A canvas sack filled with seeds that explodes on impact. d6 damage (blast, 3 uses).",items:[{title:"Seed Bomb (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Briarvine",content:"Entangles any creature up to horse size (STR to break free, reusable).",items:[{title:"Briarvine",inHand:!1,fatigue:!1}],petty:null}]}},Ts={title:"Hexenbane",description:"You are a mere digit on the unerring hand of justice. You go where others fear to tread, unyielding and unbroken.",names:["Percival","Felix","Isolde","Wolfram","Aldric","Eira","Oswin","Ivor","Brunhilda","Beatrix"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Blessed Tinctures",inHand:!1,fatigue:!1},{title:"Silver Knife (d6)",inHand:!1,fatigue:!1},{title:"Crossbow (d8, bulky)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Vestments of the Order"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"To which order do you belong?",list:[{content:"Order of the Crossroads. Take a Pocket Leyfinder. It points to nearby ley lines and other sources of arcane power. If you lose it, the punishment is death.",items:[{title:"Pocket Leyfinder",inHand:!1,fatigue:!1}],petty:null},{content:"Order of the Bleeding Star. Take a Star-Iron mace (d8). It shines faintly in darkness, and becomes very hot in the presence of witchcraft.",items:[{title:"Star-Iron mace (d8)",inHand:!1,fatigue:!1}],petty:null},{content:"Order of the Glass Sigil. Take a Short Sword (d8) and Chainmail (2 Armor, bulky). You have contacts in most towns (the more rural, the better) willing to provide aid, food, or even weapons.",items:[{title:"Short Sword (d8)",inHand:!1,fatigue:!1},{title:"Chainmail (2 Armor, bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"Order of the Blank Eye. Take a Voidglass Shard. Peer through it to see invisible marks, creatures, and other magical effects. Lose the use of your eye for an hour afterwards (you are deprived).",items:[{title:"Voidglass Shard",inHand:!1,fatigue:!1}],petty:null},{content:"Order of Canaas. Once per day you can change into a wolf. Take a Quicksilver Chain. Without it, you are unable to shift back.",items:[{title:"Quicksilver Chain",inHand:!1,fatigue:!1}],petty:null},{content:"Order of the Silent Veil. Take a Quell Stone (2 uses) wrapped in burlap. Extinguishes any nearby flames once exposed to air.",items:[{title:"Quell Stone (2 uses)",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What was your vow?",list:[{title:"Honesty",content:"Choose a weapon type (blunt, blade, etc). Attacks against you of this type are impaired. If your vow is broken, you lose d4 WIL.",items:null,petty:null},{title:"Poverty",content:"You carry the Disassemble Spellbook. Only you can use it. If your vow is broken, it explodes (d12 STR damage).",items:[{title:"Disassemble Spellbook",inHand:!1,fatigue:!1}],petty:null},{title:"Selflessness",content:"You are immune to magical effects such as charm, hatred, frenzy, and so on. If you break this vow, you lose d6 WIL.",items:null,petty:null},{title:"Mercy",content:"Choose a weapon type (blunt, blade, etc). Attacks with this weapon are enhanced. If your vow is broken, you can never use that weapon type again.",items:null,petty:null},{title:"Charity",content:"Once per day you can shrug off a Fatigue. If your vow is ever broken, you permanently lose one inventory slot.",items:[{title:"Nightdust Powder (2 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Valor",content:"The first time you inflict Critical Damage you receive d4 HP, returning to the previous limit at the end of combat. If your vow is broken, you die.",items:null,petty:null}]}},Cs={title:"Jongleur",description:"What inspires the soul more than song, words, and spectacle? Why practice for years to master the arcane when you`ve already got real magic inside?",names:["Jax","Selene","Baladria","Ada","Felix","Saylor","Tripp","Lantos","Echo","Jubilo"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Costume",inHand:!1,fatigue:!1},{title:"Makeup",inHand:!1,fatigue:!1},{title:"Lucky Jerkin (1 Armor)",inHand:!1,fatigue:!1},{title:"Prop Sword (looks real, no damage)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What happened at your final performance?",list:[{content:"Despite your training in the deadly arts, an actor died and you were blamed. Take a light-weight Rapier (d6) and a false identity.",items:[{title:"Rapier (d6)",inHand:!1,fatigue:!1}],petty:null},{content:"The crowd loved your catchy tune about a noble and his romantic failings. The noble in question, not so much. Take the Read Mind Spellbook and a warrant for your arrest.",items:[{title:"Read Mind Spellbook",inHand:!1,fatigue:!1}],petty:null},{content:"Your debut composition reduced the audience to a gibbering mess, murmuring of bright creatures descending from the night sky. Later, you noticed that the notes resembled stellar constellations. Take a Book on Astronomy, and a lot of questions.",items:[{title:"Book on Astronomy",inHand:!1,fatigue:!1}],petty:null},{content:"You mocked a forgotten trickster god, and were cursed for it. You speak only in perfect rhyme. Ironically, this has only made you more popular among your peers. Take a Thesaurus (20gp). Without it you are deprived.",items:[{title:"Thesaurus (20gp)",inHand:!1,fatigue:!1}],petty:null},{content:"You were scarred in an on-stage accident. The crowd cheered, thinking it was part of the act. Take well-worn Stage Mail (1 Armor), a memorable scar, and a fear of applause.",items:[{title:"Stage Mail (1 Armor)",inHand:!1,fatigue:!1}],petty:null},{content:"Your respectable puppeteering skills were matched only by your mimicry. You were so good you were branded a witch (literally) and banished. Take an Uncanny Hand-Puppet and a Rabbit Skull (sewn with grass) that protects against charms.",items:[{title:"Uncanny Hand-Puppet",inHand:!1,fatigue:!1},{title:"Rabbit Skull (sewn with grass)",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What trinket were you unable to leave behind?",list:[{title:"False Cuffs",content:"Comfortable, realistic-looking cuffs. Only you know the trick to get out of them.",items:[{title:"False Cuffs",inHand:!1,fatigue:!1}],petty:null},{title:"Pocket Theatre",content:"A set of small puppets and folding stage. Good for quick distractions.",items:[{title:"Pocket Theatre",inHand:!1,fatigue:!1}],petty:null},{title:"Ghost Violin",content:"A dark grey violin that plays a haunting tune, mirrored by an invisible, distant twin.",items:[{title:"Ghost Violin",inHand:!1,fatigue:!1}],petty:null},{title:"Tragic Tales",content:"Banned in proper company, it becomes less bawdy and more harrowing towards the end. Worth 100gp.",items:[{title:"Tragic Tales (100gp)",inHand:!1,fatigue:!1}],petty:null},{title:"Mythos Mask",content:"A plaster mask that allows one to take on a monster`s countenance. Once it comes off, add a Fatigue.",items:[{title:"Mythos Mask",inHand:!1,fatigue:!1}],petty:null},{title:"Rebreak Glass",content:"A wine flute that can be broken multiple times, reforming after 24 hours. Makes a really loud noise.",items:[{title:"Rebreak Glass",inHand:!1,fatigue:!1}],petty:null}]}},Be={str:I(3,6),dex:I(3,6),wil:I(3,6),hp:I(3,6)},Ms={title:"Kettlewright",description:"You are known by the smell of molten metal and the jingle of tin. You are not a mere merchant, but an artisan of fire and metal.",names:["Fergus","Eamon","Bram","Idris","Elara","Darragh","Seren","Rónán","Berek","Lorenz"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Pincers",inHand:!1,fatigue:!1},{title:"Roll of Tin",inHand:!1,fatigue:!1},{title:"Tent (fits 2)",inHand:!1,fatigue:!1},{title:"Hammer (d6)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What is your trade?",list:[{content:"You build small contraptions for local guilds (and don`t ask too many questions). Take an extra 40gp and a wanted poster with your face on it. Given time and materials, you can open almost any door or vault.",items:null,petty:[{title:"extra 40gp"}]},{content:"You deal in home goods and tools, hawking your wares to townspeople across the lands. Take 20gp of items from the gear table. You are fluent in the Traveller`s Cant.",items:null,petty:[{title:"extra 20gp"}]},{content:"You were a military smelter, before peace destroyed your livelihood. Take a Smelting Hammer (d10, bulky) and a Tin Helm (+1 Armor). Given time and adequate materials, you can repair armor.",items:[{title:"Smelting Hammer (d10, bulky)",inHand:!1,fatigue:!1},{title:"Tin Helm (+1 Armor).",inHand:!1,fatigue:!1}],petty:null},{content:"You sell rare and quality items to monasteries and nobles alike. Take a Spyglass, a Necklace (petty) worth 20gp, and a Scroll of Mirrorwalk (petty).",items:[{title:"Spyglass",inHand:!1,fatigue:!1}],petty:[{title:"Necklace "},{title:"Scroll of Mirrorwalk"}]},{content:"You offer protection as a service, quietly watching for threats as money exchanges hands. You start with +d4 HP, and carry a Long Sword (d10, bulky) and a Brigandine (1 Armor, bulky).",items:[{title:"Long Sword (d10, bulky)",inHand:!1,fatigue:!1},{title:"Brigandine (1 Armor, bulky)",inHand:!1,fatigue:!1}],petty:null,hp:!0},{content:"You scavenge raw tin and iron from battlefields, pulling teeth from still-twitching corpses. Start with a young Donkey (+4 slots, slow), a Crossbow (d8 damage, bulky), and a Saw (d6).",items:[{title:"Crossbow (d8 damage, bulky)",inHand:!1,fatigue:!1},{title:"Saw (d6)",inHand:!1,fatigue:!1}],petty:null,companions:[{id:0,name:"Donkey",type:"Transport",stats:{str:Be.str,dex:Be.dex,wil:Be.wil,hp:Be.hp,strMax:Be.str,dexMax:Be.dex,wilMax:Be.wil,hpMax:Be.hp,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]}]}]},secondPerk:{title:"What never fails to get you out of trouble?",list:[{title:"Fire Eggs",content:"Six small pellets made of sea salt, wood, and crockery-dust. They explode at low heat (d8, blast) but dissipate quickly.",items:[{title:"Fire Eggs (6 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Black Tar",content:"Versatile: both sticky and highly flammable (3 uses).",items:[{title:"Black Tar (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Spiked Boots",content:"Cracks heads (d8) as easily as it does ice and muck. Travel is also a bit slower, but easier.",items:[{title:"Spiked Boots (d8)",inHand:!1,fatigue:!1}],petty:null},{title:"Tinker`s Paste",content:"Seals shut any fist-sized opening (3 uses).",items:[{title:"Tinker`s Paste (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Fireworks",content:"A dazzling, albeit dangerous display. Enough explosive material to blow off a finger or three (2 uses remain).",items:[{title:"Fireworks (2 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Carrion Cat",content:"A clever pet, small enough to hide in your pack (bulky) strong enough to scare off smaller predators. Requires one Ration a day, and it must be meat.",items:[{title:"Carrion Cat (bulky)",inHand:!1,fatigue:!1}],petty:null}]}},As={title:"Marchguard",description:"Bound by blood Oath to patrol the border and protect the realm. Once sworn, the Oath cannot be broken. The Guard always finds their own.",names:["Gann","Light","Gale","Frost","Thorn","Reed","Flint","Brook","Brie","Aasim"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Lantern",inHand:!1,fatigue:!1},{title:"Oil Can (6 uses)",inHand:!1,fatigue:!1},{title:"Long Sword (d10, bulky)",inHand:!1,fatigue:!1},{title:"Boiled Leather (1 Armor)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"Why did you take the Oath?",list:[{content:"Your family has a long tradition of serving, and you were trained from an early age on how to survive in the wild. When taking the Supply (pg. 80) action your yield increases by one step (e.g. 1d4 > 1d6).",items:null,petty:null},{content:"As a convict, the Oath was simply a means of avoiding punishment. Take Lockpicks, and the Key to a safehouse (petty).",items:[{title:"Lockpicks",inHand:!1,fatigue:!1}],petty:[{title:"Key to a safehouse"}]},{content:"Noble-born, you joined to escape family trouble. Take a Goosefelt Tarp (fits two) that you stole before leaving home.",items:[{title:"Goosefelt Tarp (fits two)",inHand:!1,fatigue:!1}],petty:null},{content:"When your family lost everything, you took the Oath to avoid becoming a burden. Take extra Rations (3 uses) and Throwing Knives (d6).",items:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Throwing Knives (d6)",inHand:!1,fatigue:!1}],petty:null},{content:"Your life was saved by a member of the Marchguard, and you were inspired to join their ranks. Take a Snare Trap and a Sketchbook filled with detailed drawings.",items:[{title:"Snare Trap",inHand:!1,fatigue:!1},{title:"Sketchbook",inHand:!1,fatigue:!1}],petty:null},{content:"You were in a dark place, and decided that your life needed a little direction. You`re still not so sure it was the right choice. Take an Oilskin Coat and Mapping Paper.",items:[{title:"Oilskin Coat",inHand:!1,fatigue:!1},{title:"Mapping Paper",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What do you carry as proof of your Oath?",list:[{title:"Impressive Pin",content:"A metal badge of honor from the Guard. It can open doors, but leaves a trail (petty).",items:null,petty:[{title:"Impressive Pin"}]},{title:"Oath Compass",content:"Points not towards North, but instead to the nearest member of the Guard. It also lets you know when they`re getting close.",items:[{title:"Oath Compass",inHand:!1,fatigue:!1}],petty:null},{title:"Pullstones",content:"Two jet-black stones. When separated, the stones will always roll in the direction of the other.",items:[{title:"Pullstones",inHand:!1,fatigue:!1}],petty:null},{title:"Fireflask",content:"Highly alcoholic, yet strangely delicious. When thrown creates a wall of flames 10ft high that burns out after a few minutes (1 use).",items:[{title:"Fireflask (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Pain Band",content:"Touch an injured creature to transfer their wounds to you (exchange their lost STR with your own). Recharge: Wear the ring while in perfect health. It will take 1 STR, permanently (petty).",items:null,petty:[{title:"Pain Band"}]},{title:"Poacher`s Woe",content:"Strongly-scented arrows (3 uses). The scent is powerful enough to track with ease.",items:[{title:"Poacher`s Woe",inHand:!1,fatigue:!1}],petty:null}]}},Ps={title:"Mountebank",description:"Wits are your sharpest weapon, a facade your strongest shield. But when you do lose, you lose badly.",names:["Ambrose","Lucius","Beauregard","Cornelius","Aria","Seren","Indigo","Delphine","Solene","Noa"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Cane Sword (d6)",inHand:!1,fatigue:!1},{title:"Playing Cards (tricked)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Fancy Hat"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"How was your fraud exposed?",list:[{content:"Your “patients” kept reporting miraculous recoveries, despite your lack of training. Start with Bandages (3 uses) and a knack for healing.",items:[{title:"Bandages (3 uses)",inHand:!1,fatigue:!1}],petty:null,companions:[{id:0,name:"Cart",type:"Transport",stats:{str:1,dex:1,wil:1,hp:2,strMax:1,dexMax:1,wilMax:1,hpMax:2,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]}]},{content:"After seducing a wealthy patron, their family hired a criminal gang to retrieve you. You got away and need to lay low. Start with Beauty Cream (2 uses). Apply to appear irresistibly beautiful for the next 12 hours.",items:[{title:"Beauty Cream (2 uses)",inHand:!1,fatigue:!1}],petty:null,companions:[{id:0,name:"Cart",type:"Transport",stats:{str:1,dex:1,wil:1,hp:2,strMax:1,dexMax:1,wilMax:1,hpMax:2,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]}]},{content:"You were a peddler of fake prophesies, but when one turned out to be true, it drew unwanted attention. Roll on the Omens (pg. 15) table, but keep the result to yourself. Start with a concealable Knife (d6, petty).",items:null,petty:[{title:"Knife (d6, petty)"}],companions:[{id:0,name:"Cart",type:"Transport",stats:{str:1,dex:1,wil:1,hp:2,strMax:1,dexMax:1,wilMax:1,hpMax:2,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]}]},{content:"Your latest stunt destroyed a priceless artifact and injured a dozen bystanders. Start with a Captain`s Uniform (petty), a Ceremonial Sword (harmless, 60gp), and a Bouquet of Flowers.",items:[{title:"Ceremonial Sword (harmless, 60gp)",inHand:!1,fatigue:!1},{title:"Bouquet of Flowers",inHand:!1,fatigue:!1}],petty:[{title:"Captain`s Uniform"}],companions:[{id:0,name:"Cart",type:"Transport",stats:{str:1,dex:1,wil:1,hp:2,strMax:1,dexMax:1,wilMax:1,hpMax:2,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]}]},{content:"You were cursed by a hedgewitch for fooling some innocent village folk. Magic acts unpredictably in your hands (WIL save to avoid disaster). If you are the target of magic, the same applies to its wielder.",items:null,petty:null,companions:[{id:0,name:"Cart",type:"Transport",stats:{str:1,dex:1,wil:1,hp:2,strMax:1,dexMax:1,wilMax:1,hpMax:2,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]}]},{content:"Your “seances” with the dead were in actuality a ruse involving a cleverly hidden Spellbook of Auditory Illusion. Inevitably, a patron discovered your secret. Start with the spellbook and a Bundle of Scarves.",items:[{title:"Spellbook of Auditory Illusion",inHand:!1,fatigue:!1},{title:"Bundle of Scarves",inHand:!1,fatigue:!1}],petty:null,companions:[{id:0,name:"Cart",type:"Transport",stats:{str:1,dex:1,wil:1,hp:2,strMax:1,dexMax:1,wilMax:1,hpMax:2,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""}]}]}]},secondPerk:{title:"What keepsake could always identify you?",list:[{title:"Royal Crest",content:"Born into royalty, you chose a different life. The crest grants you access, but also alerts your family of your whereabouts.",items:null,petty:[{title:"Royal Crest"}]},{title:"Miracle Oil",content:"A smelly concoction that is also very, very, slippery (2 uses).",items:[{title:"Miracle Oil (2 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Surgeon`s Soap",content:"A lye and ash block that makes skin temporarily transparent, revealing the anatomy within (4 uses).",items:[{title:"Surgeon`s Soap (4 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Goat Powder",content:"Derived from the placenta of a baby goat. Temporarily cures any affliction, but symptoms return within hours.",items:[{title:"Goat Powder",inHand:!1,fatigue:!1}],petty:null},{title:"Cursed Sapphire",content:"Touch an injured creature to transfer their wounds to you (exchange their lost STR with your own). Recharge: Wear the ring while in perfect health. It will take 1 STR, permanently (petty).",items:null,petty:[{title:"Cursed Sapphire"}]},{title:"Alchemical Tattoo",content:"A dog, cat, or bird that can leave your body on demand. It follows your commands to the best of its abilities, and can pass its injuries (as STR loss) back onto you.",items:null,petty:null}]}},N={str:I(3,6),dex:I(3,6),wil:I(3,6),hp:I(3,6)},Rs={title:"Outrider",description:"Your coin comes from escorting caravans, tracking fugitives, or lending your blade to a cause. You`ve been a savior, an executioner, a hero, and even a villain. Yours is not a solitary path, however: you`ll always have your horse.",names:["Drake","Cyra","Keir","Darius","Valen","Rorik","Yara","Rui","Talon","Jory"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Long Sword (d10, bulky)",inHand:!1,fatigue:!1},{title:"Leather Jerkin (1 Armor)",inHand:!1,fatigue:!1},{title:"Crossbow (d8, bulky)",inHand:!1,fatigue:!1},{title:"Spyglass",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What personal code or principle do you uphold?",list:[{content:"No innocent blood: No bystanders will come to harm on your watch. Take a Steadymade Buckler (+1 Armor). While holding this shield you cannot be moved so long as both feet are planted on firm ground.",items:[{title:"Steadymade Buckler (+1 Armor)",inHand:!1,fatigue:!1}],petty:null},{content:"Revere the tools of death: Weapons are to be respected and maintained. Take a Wyrmbone Whetstone. Following a half hour ritual sharpening, attacks with the weapon are enhanced until STR damage is dealt.",items:[{title:"Wyrmbone Whetstone",inHand:!1,fatigue:!1}],petty:null},{content:"To the death, always: You never back down from a fight, no matter the odds. Take a Death-Whistle, 1 charge. Its scream frightens away all who hear it (save WIL or flee). Recharge: Capture the final breath of a dying warrior.",items:[{title:"Death-Whistle, 1 charge",inHand:!1,fatigue:!1}],petty:null},{content:"Revere the Dead: Death is a journey we all take, and it deserves respect. Take an extra 30gp. You always place two gold pieces on the eyelids of a slain foe. Somehow, you always find the coin.",items:null,petty:[{title:"extra 30gp"}]},{content:"Loyalty to the work: Your word is your bond. Once you`ve accepted a job, you see it through to the end. Take a weathered Tally Stick. Once a vow is marked unto its face, the stick hardens (d8) until it is complete. The stick will snap in half if the vow is ever broken.",items:null,petty:[{title:"Tally Stick"}]},{content:"Always pay your debts: You always repay what you owe, whether in coin or in kind. You expect nothing less from all others. Take a blacked-out ledger, then roll a second time on the Bonds (pg. 15) table.",items:[{title:"Blacked-out Ledger",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"What breed is your horse?",list:[{title:"Heavy Destrier",content:"A beast built for war; an imposing creature. 8 HP, 1 Armor, hooves (d10+d10), +2 slots.",items:null,petty:null,companions:[{id:0,name:"Heavy Destrier",type:"Horse",stats:{str:N.str,dex:N.dex,wil:N.wil,hp:8,strMax:N.str,dexMax:N.dex,wilMax:N.wil,hpMax:8,armor:1},inventory:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]}]},{title:"Blacklegged Dandy",content:"Hardy and adaptable, Tough or Perilous terrain (pg. 76) are one step easier. 6 HP. +4 slots.",items:null,petty:null,companions:[{id:0,name:"Blacklegged Dandy",type:"Horse",stats:{str:N.str,dex:N.dex,wil:N.wil,hp:6,strMax:N.str,dexMax:N.dex,wilMax:N.wil,hpMax:6,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]}]},{title:"Rivertooth",content:"Impressively strong, capable of carrying heavy loads. 4 HP. +6 slots (+2 if carrying two people).",items:null,petty:null,companions:[{id:0,name:"Rivertooth",type:"Horse",stats:{str:N.str,dex:N.dex,wil:N.wil,hp:4,strMax:N.str,dexMax:N.dex,wilMax:N.wil,hpMax:4,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]}]},{title:"Piebald Cob",content:"Intelligent, it can understand simple commands, and even has an instinct for danger. 6 HP. +4 slots.",items:null,petty:null,companions:[{id:0,name:"Piebald Cob",type:"Horse",stats:{str:N.str,dex:N.dex,wil:N.wil,hp:6,strMax:N.str,dexMax:N.dex,wilMax:N.wil,hpMax:6,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]}]},{title:"Linden White",content:"Highly trained and agile, it can perform intricate maneuvers in a time of need (no DEX save to flee). +3 slots.",items:null,petty:null,companions:[{id:0,name:"Linden White",type:"Horse",stats:{str:N.str,dex:N.dex,wil:N.wil,hp:N.hp,strMax:N.str,dexMax:N.dex,wilMax:N.wil,hpMax:N.hp,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]}]},{title:"Stray Fogger",content:"Wild, but very fast, even in Tough terrain (pg. 76). Rides light. 4 HP. +2 slots.",items:null,petty:null,companions:[{id:0,name:"Stray Fogger",type:"Horse",stats:{str:N.str,dex:N.dex,wil:N.wil,hp:4,strMax:N.str,dexMax:N.dex,wilMax:N.wil,hpMax:4,armor:0},inventory:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}]}]}]}},Ws={title:"Prowler",description:"You are a specter in the night, a fleeting shadow that slips by its prey, unseen. Each kill a test of cunning and animal determination, a contest between life and death. You know that one day you will lose. You look forward to it.",names:["Winda","Brielle","Theron","Chayse","Nuja","Dev","Raven","Lyra","Sable"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Tarp (shelters 1)",inHand:!1,fatigue:!1},{title:"Boiled Leather (1 Armor)",inHand:!1,fatigue:!1},{title:"Short Sword (d6)",inHand:!1,fatigue:!1},{title:"Spring-Loaded Trap (4 STR damage)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What did you last hunt?",list:[{content:"A mock firefly, baiting water carriers with its glowing lure. Take an Alchemical Limb (d8) to replace the one it tore off. It works as well as the real thing, and is immune to poison, fire, and heat. Sometimes it jams.",items:[{title:"Alchemical Limb (d8)",inHand:!1,fatigue:!1}],petty:null},{content:"An ice nettle, trapping and draining sheep. You lost your commission when the fungus you introduced killed half the flock. Take a Rime Seed (1 use). It freezes any body of water, no matter the size. Don`t eat it.",items:[{title:"Rime Seed (1 use)",inHand:!1,fatigue:!1}],petty:null},{content:"A silver marsh crawler that killed someone close to you. You now carry its Tooth (petty) on a chain around your neck as a warning to others of its kind. The tooth hums softly when something is stalking you.",items:null,petty:[{title:"Tooth"}]},{content:"A malicious forest spirit that poisoned a homestead. You saved a Heartseed from the roots of a dying tree (plant to create a a new forest). Also, take Iron Bracers (+1 Armor, bulky).",items:[{title:"Iron Bracers (+1 Armor, bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"A hollow wolf that had been frightening travellers. You took pity on the half-starved creature, and nursed it back to health. Now it is loyal to you unto death. It is also a great tunneler. 5 HP, 11 STR, 13 DEX, 8 WIL, teeth (d6).",items:null,petty:null,companions:[{id:0,name:"Hollow Wolf",type:"Wolf",stats:{str:11,dex:13,wil:8,hp:5,strMax:11,dexMax:13,wilMax:8,hpMax:5,armor:0},inventory:[]}]},{content:"An azure warbler. The gametes attract a sizeable profit, if properly extracted. You succeeded, but left its nest to the wolves. Take a Paring Knife (d6), an extra 20gp, and a pang of regret.",items:[{title:"Paring Knife (d6)",inHand:!1,fatigue:!1}],petty:[{title:"extra 20gp"}]}]},secondPerk:{title:"What tool is always in your pack?",list:[{title:"Fermented Spirits",content:"Keeps you warm at the best of times, and can be used as an explosive at the worst (3 Uses).",items:[{title:"Fermented Spirits (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Trail Shaker",content:"A noisy instrument that reveals nearby trails, even when deeply hidden.",items:[{title:"Trail Shaker",inHand:!1,fatigue:!1}],petty:null},{title:"Drowse Balm",content:"A wax bar. If boiled in water, the steam acts as a soporific agent.",items:[{title:"Drowse Balm",inHand:!1,fatigue:!1}],petty:null},{title:"Spike and Cord",content:"For traversing or securing difficult terrains, or for creating makeshift traps and structures.",items:[{title:"Spike and Cord",inHand:!1,fatigue:!1}],petty:null},{title:"Iron Rattle",content:"Touch an injured creature to transfer their wounds to you (exchange their lost STR with your own). Recharge: Wear the ring while in perfect health. It will take 1 STR, permanently (petty).",items:[{title:"Iron Rattle",inHand:!1,fatigue:!1}],petty:null},{title:"Hardening Glue",content:"Makes any flat material (cloth, leather, sand) as hard as stone. Expensive (20gp a bottle, 3 uses).",items:[{title:"Hardening Glue (20gp a bottle, 3 uses)",inHand:!1,fatigue:!1}],petty:null}]}},Bs={title:"Rill Runner",description:"You sing the stories of rivers and lakes, your talents soothing friends and the elements alike. You`ve seen more than most, but somehow it never seems to be enough.",names:["Gale","Piper","Brook","Adair","Stone","Dale","Wren","Cliff","Rain","Robin"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Water Shoes",inHand:!1,fatigue:!1},{title:"Brigandine (1 Armor, bulky)",inHand:!1,fatigue:!1},{title:"Compass",inHand:!1,fatigue:!1},{title:"Dagger (d6)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What songs are you best known for?",list:[{content:"The Tinker`s Two-Step. A humorous fairy tale about a gift-giving traveler. Start with a Reed Whistle. Anyone in earshot must pass a WIL save to perform an act of violence.",items:[{title:"Reed Whistle.",inHand:!1,fatigue:!1}],petty:null},{content:"The Sylph and Her Lover. A bawdy tale of lost love. Start with a Breeze Knot (3 charges). Creates a strong breeze. Recharge: Tie it to a mast during a storm.",items:[{title:"Breeze Knot (3 charges)",inHand:!1,fatigue:!1}],petty:null},{content:"Harper`s Devotion. A sad, short tale about a musician that falls in love with a star. Start with a Celestial Lute. Reveals the constellations above, no matter the weather.",items:[{title:"Celestial Lute",inHand:!1,fatigue:!1}],petty:null},{content:"The Reed Fisher. A celebrated song about a massive carp that always seems to get away. Begin with a spool of River Twine (5 uses). Each dip into the river guarantees a catch, though it might not be pleasant.",items:[{title:"Spool of River Twine (5 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"Song of the Silver Stream. A wordless lullaby that mimics flowing water. Take a Stone Flute that can calm almost any river.",items:[{title:"Stone Flute",inHand:!1,fatigue:!1}],petty:null},{content:"The Thrush and the Meadow. A moody tale told in alternating chorus. Start with a Feather Quill (1 use, petty). A map drawn with this quill reveals the most expedient course between any two points.",items:null,petty:[{title:"Feather Quill (1 use)"}]}]},secondPerk:{title:"What pays your way across the land?",list:[{title:"Performance",content:"Performing at taverns always yields both room and board. Sometimes you even get tips! Start with an extra d6 gold.",items:null,petty:[{title:"extra d6 gp"}]},{title:"Bodyguard",content:"You are a protector for those afraid to travel alone. Start with a rapier (d8).",items:[{title:"Rapier (d8)",inHand:!1,fatigue:!1}],petty:null},{title:"Wares",content:"You buy low and sell high, always making just enough to get by. Take a Single Item worth 20gp or less from the equipment table.",items:null,petty:[{title:"take any item for 20 or less gp"}]},{title:"Transport",content:"You deliver “delicate” packages throughout the lands. You have at least one contact in any major town.",items:null,petty:null},{title:"Sailor`s Friend",content:"Whether water, wind, or sail, your aid brings ships to their destination. For you, passage is always free.",items:null,petty:null},{title:"Guide",content:"You shepherd caravans and travelers across water-soaked lands. Start with a Map relevant to your next journey.",items:null,petty:[{title:"Map relevant to your next journey"}]}]}},Is={title:"Scrivener",description:"You copy ancient texts and illuminate manuscripts, recording the voices of the clever, the great, and the powerful. You will prove that the pen truly is mightier than the sword.",names:["Per","Stilo","Akshara","Pisa","Ji-Yun","Kalamos","Hugo","Shui","Kalam","Julius"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Quill & Ink",inHand:!1,fatigue:!1},{title:"Blank Book",inHand:!1,fatigue:!1},{title:"Awl (d6)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Badge"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What work did you keep for yourself?",list:[{content:"The Wild Tongue. A bundle of leather-bound scrolls. A seminal work, cataloging the hidden languages of beasts, and how to understand them.",items:[{title:"The Wild Tongue",inHand:!1,fatigue:!1}],petty:null},{content:"The Silent Symphony. Bound in fluorescent wrap. Very rare, it chronicles the subtle signs used by those employing invisibility magic.",items:[{title:"The Silent Symphony",inHand:!1,fatigue:!1}],petty:null},{content:"A Treatise on the Abyss. A non-descript black book. An in-depth, largely theoretical text describing The Roots, as well as information around the location of a nearby Gate.",items:[{title:"A Treatise on the Abyss",inHand:!1,fatigue:!1}],petty:null},{content:"The Star Waltz. A comet-shaped clasp embracing a fine leather cover. Detailed astronomical charts, celestial movements, and stellar festivals. Highly valued (100gp) for its usefulness to travelers.",items:[{title:"The Star Waltz (100gp)",inHand:!1,fatigue:!1}],petty:null},{content:"The Cathedral and the Canopy. Large-leaf binding over vellum. Nominally a children`s storybook, the margins detail information about traveling, eating, and sleeping in the cloud forests.",items:[{title:"The Cathedral and the Canopy",inHand:!1,fatigue:!1}],petty:null},{content:"Garden of Glass. Bound in the cover of another book. A heretical work, it describes the materials, procedures, and optimal locations required to open a Gate.",items:[{title:"Garden of Glass",inHand:!1,fatigue:!1}],petty:null}]},secondPerk:{title:"How do you transcribe sensitive information?",list:[{title:"Fib Ink",content:"Glows when used to write true statements, but fades if used to write false ones.",items:[{title:"Fib Ink",inHand:!1,fatigue:!1}],petty:null},{title:"Cipher Stone",content:"A pair of sharp black stones. Decrypts any message written by the other.",items:[{title:"Cipher Stone",inHand:!1,fatigue:!1}],petty:null},{title:"Everquill",content:"A quill that writes on any surface. You still need ink (petty).",items:null,petty:[{title:"Everquill"}]},{title:"Whisper Vial",content:"Whisper a message into the vial and it will play back to whomever opens it next.",items:[{title:"Whisper Vial",inHand:!1,fatigue:!1}],petty:null},{title:"Voyeur`s Suringa",content:"Extracts blood from a target without their knowledge. A stolen drop placed on the eye reveals memories from the past day.",items:[{title:"Voyeur`s Suringa",inHand:!1,fatigue:!1}],petty:null},{title:"Echo Leaf",content:"A blank parchment. Whomever unfurls it sees their actions of the day slowly revealed in a tight scrawl.",items:[{title:"Echo Leaf",inHand:!1,fatigue:!1}],petty:null}]}},Ys={title:"Barber-Surgeon",description:"You walk the line between healer and harrower, knowing the frailty of the flesh but also the secrets that lay within. With the right tools, life and death are merely words.",names:["Wilmot","Patch","Lancet","Sawbones","Theo","Cutwell","Humor","Landsford","Goodeye","Johanna"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Amputation Knife (d6)",inHand:!1,fatigue:!1},{title:"Bandages (3 uses)",inHand:!1,fatigue:!1},{title:"Leech (restores 1 STR, 3 uses)",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:"Stained Medical Finery"},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"How have you “improved” yourself?",list:[{content:"You have a replacement eye that can magnify objects, acts as a telescope, and provides minimal night vision. You cannot wear anything metal on your head, and strong magnets make you deprived.",items:null,petty:null},{content:"One foot is mostly metal (kick, d6), and you treat some Tough Terrain as Easy. Carry an Oil Can (6 uses). Without a daily application you are deprived and noisy.",items:[{title:"Oil Can (6 uses)",inHand:!1,fatigue:!1}],petty:null},{content:"One of your fingers has been swapped, the bone replaced by gold and iron. Take a Hook and a Screwdriver that can attach to the fingertip.",items:null,petty:[{title:"Hook and Screwdriver"}]},{content:"Both ears have been surgically enhanced, tripling your hearing. You can focus on a specific sound at a great distance, such as a conversation. You wear an ear flap to protect against sudden loud noises (WIL save to avoid temporary paralysis).",items:null,petty:null},{content:"Your chest is lined with alchemical sigils, toughening the skin (1 Armor). Wearing other metallic armor nullifies the effect.",items:null,petty:null},{content:"One arm is fully metal, and comes off at the shoulder. It can be used as a weapon (d8, bulky when not attached) and can move independently if you are within sight of it.",items:null,petty:null}]},secondPerk:{title:"What rare tool is essential to your work?",list:[{title:"Regrowth Salve",content:"Regrows a body part over the course of a day (1 use).",items:[{title:"Regrowth Salve (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Graftgrub",content:"A small worm that can fuse inanimate objects with parts of the body (1 use).",items:[{title:"Graftgrub (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Woundwax",content:"Heals wounds from fire or chemicals (restoring full STR), but nothing else (2 uses).",items:[{title:"Woundwax (2 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Quicksilver",content:"A stimulant. Go first in combat, and automatically pass any WIL saves for one hour. Addictive: Save STR or become deprived after 24 hours without it (4 uses).",items:[{title:"Quicksilver (4 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Pneuma Pump",content:"Portable iron lungs (bulky). Enables life-saving surgery, or underwater breathing.",items:[{title:"Pneuma Pump (bulky)",inHand:!1,fatigue:!1}],petty:null},{title:"Lodestone",content:"Draws out dangerous elements from the body, and acts as a powerful magnetic force.",items:[{title:"Lodestone",inHand:!1,fatigue:!1}],petty:null}]}},Ls={title:"Half Witch",description:"Born of both the mortal world and the unseen, a crossing of veils that makes you an enigma to many. You are both a conduit and a caution of what happens when two worlds collide.",names:["Solena","Veles","Bryn","Sabine","Razvan","Rowena","Galen","Nyx","Vex","Iwan"],inventory:[{title:"Rations (3 uses)",inHand:!1,fatigue:!1},{title:"Torch (3 uses)",inHand:!1,fatigue:!1},{title:"Spellbook (Thicket)",inHand:!1,fatigue:!1},{title:"Iron Dagger (d6)",inHand:!1,fatigue:!1},{title:"Herbs Pouch (restore 1 STR, 3 uses)",inHand:!1,fatigue:!1},{title:"Ghillie Suit",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1},{title:"",inHand:!1,fatigue:!1}],petty:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],goldDices:3,firstPerk:{title:"What did you bring back from the unseelie court?",list:[{content:"A Black Rose Fiddle (bulky). Its music causes intense sadness and immobility in nearby mortals (others are merely fascinated). You don`t know how to play.",items:[{title:"Black Rose Fiddle (bulky)",inHand:!1,fatigue:!1}],petty:null},{content:"Paper Legs. You are extremely light, and can fall a few stories without getting hurt. Try to avoid tearing them or getting them wet.",items:[{title:"Paper Legs",inHand:!1,fatigue:!1}],petty:null},{content:"A Living Nightmare that dwells within you, but manifests whenever youare in danger. It has your same Attributes and HP, and attacks with claws(d8+d8). It disappears on Critical Damage (take 1d4 WIL damage), re-appearing again on the next full moon.",items:null,petty:null},{content:"A Raven Familiar [8 HP, 3 STR, 11 DEX, 13 WIL, beak (d6)]. It speaks as an intelligent being and is entirely devoted to you.",items:null,petty:null,companions:[{id:0,name:"Raven Familiar",type:"Raven",stats:{str:3,dex:11,wil:13,hp:8,strMax:3,dexMax:11,wilMax:13,hpMax:8,armor:0},inventory:[]}]},{content:"A Briar Thorn. It can pierce any organic material (quite painfully) but when removed leaves no trace of the intrusion.",items:[{title:"Briar Thorn",inHand:!1,fatigue:!1}],petty:null},{content:"A Fae creature`s True Name. Use it to summon its owner for an act of great service, but only once. It could also fetch a hefty price, to the right buyer.",items:null,petty:null}]},secondPerk:{title:"What concoction do you carry, and what rare ingredients did you gather to make it?",list:[{title:"Rebirth Ash",content:"Remnants of a bark spirit. Sprinkle to reignite a fire that has died, or return to life a creature that has died only moments before (3 uses).",items:[{title:"Rebirth Ash (3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Glamour Feather",content:"Plume of a firebird. Can make any creature appear convincingly as someone (or something) else (1 use).",items:[{title:"Glamour Feather (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Hawthorn Seed",content:"An acorn from the other side, gathered on the spring equinox. When planted it sprouts a luxurious shelter, collapsing at moonrise the next day (1 use).",items:[{title:"Hawthorn Seed (1 use)",inHand:!1,fatigue:!1}],petty:null},{title:"Stonetree Sap",content:"Sap obtained in exchange for blood. Hardens when rubbed on any surface (+1 Armor, 3 uses).",items:[{title:"Stonetree Sap (+1 Armor, 3 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Nightdust Powder",content:"Made from the ritual burning of six owls. When tossed in the air, day turns to night for a short while (2 uses).",items:[{title:"Nightdust Powder (2 uses)",inHand:!1,fatigue:!1}],petty:null},{title:"Hex Stone",content:"Gathered from a river that flows from the other side. Removed from its iron tin, it can absorb the effects of an active magical effect. If destroyed, the magic is released (1 use).",items:[{title:"Hex Stone (1 use)",inHand:!1,fatigue:!1}],petty:null}]}},St=[ys,Ys,bs,_s,ws,ks,vs,Hs,$s,Ss,Ls,Ts,Cs,Ms,As,Ps,Rs,Ws,Bs,Is],Ge=[{content:"You inherited a Single Gem (500gp, cold and brittle) from a long-dead relative. It arrived with a warning: squander your newfound riches and a debt long thought forgotten would be called.",items:[{title:"Single Gem (500gp, cold and brittle)",inHand:!1,fatigue:!1}],petty:null,gold:0},{content:"A distant cousin left you a small inheritance. Take 20Gp and a Strange Compass (petty) that always points towards something deep in The Woods.",items:null,petty:[{title:"Small Compass"}],gold:20},{content:"You carry a hand-drawn Portrait (petty) of a past love who disappeared into The Woods long ago. Somehow, you know that they are still alive.",items:null,petty:[{title:"Portrait"}],gold:0},{content:"You found a Tiny Crystal Prism (petty) buried in the dirt. When held up to the light, it shows visions of an unknown location deep within The Woods. Sometimes, you feel a presence looking back at you.",items:null,petty:[{title:"Tiny Crystal Prism"}],gold:0},{content:"You once freed a Naiad from a choked stream. In return, it gave you some Silver Moss (petty). Swallow it near water and the creature will come, once, to repay its debt.",items:null,petty:[{title:"Silver Moss"}],gold:0},{content:"You inherited an old Journal, bound in bark. Each evening, its pages are filled with the events of the day, crassly written from the journal`s perspective. The writing is crude, but accurate.",items:[{title:"Old Journal",inHand:!1,fatigue:!1}],petty:null,gold:0},{content:"You protect a long-dormant family secret. Take one half of an Ancient Key (petty). They say that if joined with its twin, it opens a Gate through any door.",items:null,petty:[{title:"Ancient Key"}],gold:0},{content:"You received a Letter (petty) detailing incontrovertible proof that your true parentage is that of Fae nobility. The note also indicates a date and location where you are to meet them, deep in The Woods.",items:null,petty:[{title:"Letter"}],gold:0},{content:"You owe a great debt to a member of the nobility and carry their Signet Ring (petty), which serves as proof of their protection as well as your obligation.",items:null,petty:[{title:"Signet Ring"}],gold:0},{content:"You consumed a mischievous spirit that periodically wreaks havoc on your insides, demanding to be taken home. It wants to keep you alive, at least until it is free. It can detect magic and knows quite a bit about The Woods.",items:null,petty:null,gold:0},{content:"A roaming storyteller once spun you tales of great treasure hidden deep in The Woods. You thought it naught but fancy, till they gave you a Rolled-up Map (petty) marked with an X.",items:null,petty:[{title:"Rolled-up Map"}],gold:0},{content:"During your travels, you met a dying hunter who asked you to deliver a message to their loved ones. Take a Letter (petty), sealed with tree sap. It is addressed only to the Lord of Winter.",items:null,petty:[{title:"Letter"}],gold:0},{content:"You found a wounded beast in the forest, but chose to ignore it. You see it everywhere now, but only when you`re alone. It looks sad, but not angry.",items:null,petty:null,gold:0},{content:"You promised a childhood friend that you`d bring them back a rare gift, something unique in all the world. Take a Bracelet (petty) woven from twine and wildflowers.",items:null,petty:[{title:"Bracelet"}],gold:0},{content:"You crossed a creature of The Woods, and it cursed you with a Stone Heart. With each passing month, the stone grows heavier by one slot. Until your debt is lifted, you cannot truly die.",items:null,petty:null,gold:0},{content:"You carved a Whistle (petty) from an Oak Lord’s branch. Your act did not go unnoticed. You cannot seem to rid yourself of the whistle either.",items:null,petty:[{title:"Whistle"}],gold:0},{content:"The Dawn Brigade did your family a service, giving you a dried Blood-Red Flower (petty) as proof. When the flower turns white, it means the favor is owed.",items:null,petty:[{title:"Blood-Red Flower"}],gold:0},{content:"An entertainer once visited your home, filling it with story and song. He left one day without a word, leaving behind only a Miniature Lute. Something rattles inside.",items:[{title:"Miniature Lute",inHand:!1,fatigue:!1}],petty:null,gold:0},{content:"A white crow appeared to you in a dream, holding a twig in its mouth. You awoke the next morning with The Twig (petty) in your hand. You believe it brings you luck. It smells faintly of sulfur.",items:null,petty:[{title:"The Twig"}],gold:0},{content:"One of your ancestors wronged a Moss Witch, who cursed their bloodline. Your visage causes mirrors to shatter. You’ve noticed that the shards can sometimes reveal illusions.",items:null,petty:null,gold:0}];function zs(l){return l.fatigue!==void 0}const Ne=l=>{let e;ke.subscribe(n=>e=n);let t;Pe.subscribe(n=>t=n),l.forEach(n=>{if(zs(n)){const a=[...e],i=a.findIndex(s=>!s.title.length);a[i]=n,ke.set(a)}else{const a=[...t],i=a.findIndex(s=>!s.title.length);a[i]=n,Pe.set(a)}})};function Vn(l,e,t){const n=l.slice();return n[9]=e[t],n}function qn(l){let e,t,n,a,i,s=(l[9].description||l[9].content)+"",o,u,r;return n=new Qe({props:{size:20,label:l[9].title||"Choose this one",checked:l[0]===l[9],disabled:l[0]===l[9]}}),n.$on("change",function(){Ie(l[6](l[9]))&&l[6](l[9]).apply(this,arguments)}),{c(){e=w("div"),t=w("div"),P(n.$$.fragment),a=S(),i=w("span"),o=Y(s),u=S(),m(t,"class","select svelte-xrkmhx"),m(i,"class","description svelte-xrkmhx"),m(e,"class","item svelte-xrkmhx")},m(f,c){H(f,e,c),g(e,t),M(n,t,null),g(e,a),g(e,i),g(i,o),g(e,u),r=!0},p(f,c){l=f;const d={};c&4&&(d.label=l[9].title||"Choose this one"),c&5&&(d.checked=l[0]===l[9]),c&5&&(d.disabled=l[0]===l[9]),n.$set(d),(!r||c&4)&&s!==(s=(l[9].description||l[9].content)+"")&&U(o,s)},i(f){r||(_(n.$$.fragment,f),r=!0)},o(f){v(n.$$.fragment,f),r=!1},d(f){f&&$(e),A(n)}}}function Ds(l){let e;return{c(){e=Y(l[3])},m(t,n){H(t,e,n)},p(t,n){n&8&&U(e,t[3])},d(t){t&&$(e)}}}function Fs(l){let e;return{c(){e=Y(l[4])},m(t,n){H(t,e,n)},p(t,n){n&16&&U(e,t[4])},d(t){t&&$(e)}}}function Os(l){let e,t,n,a,i,s,o,u,r,f,c,d,p=Q(l[2]),h=[];for(let y=0;y<p.length;y+=1)h[y]=qn(Vn(l,p,y));const k=y=>v(h[y],1,1,()=>{h[y]=null});return r=new se({props:{$$slots:{default:[Ds]},$$scope:{ctx:l}}}),r.$on("click",l[7]),c=new se({props:{$$slots:{default:[Fs]},$$scope:{ctx:l}}}),c.$on("click",l[8]),{c(){e=w("div"),t=w("span"),n=Y(l[1]),a=S(),i=w("div"),s=w("div");for(let y=0;y<h.length;y+=1)h[y].c();o=S(),u=w("div"),P(r.$$.fragment),f=S(),P(c.$$.fragment),m(t,"class","heading svelte-xrkmhx"),m(s,"class","list svelte-xrkmhx"),m(i,"class","wrap svelte-xrkmhx"),m(u,"class","controls svelte-xrkmhx"),m(e,"class","list svelte-xrkmhx")},m(y,b){H(y,e,b),g(e,t),g(t,n),g(e,a),g(e,i),g(i,s);for(let T=0;T<h.length;T+=1)h[T]&&h[T].m(s,null);g(e,o),g(e,u),M(r,u,null),g(u,f),M(c,u,null),d=!0},p(y,[b]){if((!d||b&2)&&U(n,y[1]),b&69){p=Q(y[2]);let L;for(L=0;L<p.length;L+=1){const D=Vn(y,p,L);h[L]?(h[L].p(D,b),_(h[L],1)):(h[L]=qn(D),h[L].c(),_(h[L],1),h[L].m(s,null))}for(te(),L=p.length;L<h.length;L+=1)k(L);ne()}const T={};b&4104&&(T.$$scope={dirty:b,ctx:y}),r.$set(T);const z={};b&4112&&(z.$$scope={dirty:b,ctx:y}),c.$set(z)},i(y){if(!d){for(let b=0;b<p.length;b+=1)_(h[b]);_(r.$$.fragment,y),_(c.$$.fragment,y),d=!0}},o(y){h=h.filter(Boolean);for(let b=0;b<h.length;b+=1)v(h[b]);v(r.$$.fragment,y),v(c.$$.fragment,y),d=!1},d(y){y&&$(e),ge(h,y),A(r),A(c)}}}function js(l,e,t){const n=me();let{title:a=""}=e,{list:i}=e,{selectedItem:s}=e,{backButton:o="Back"}=e,{nextButton:u="Next"}=e;const r=d=>()=>{t(0,s=d)},f=()=>n("back"),c=()=>n("next",s);return l.$$set=d=>{"title"in d&&t(1,a=d.title),"list"in d&&t(2,i=d.list),"selectedItem"in d&&t(0,s=d.selectedItem),"backButton"in d&&t(3,o=d.backButton),"nextButton"in d&&t(4,u=d.nextButton)},[s,a,i,o,u,n,r,f,c]}class zt extends Z{constructor(e){super(),X(this,e,js,Os,J,{title:1,list:2,selectedItem:0,backButton:3,nextButton:4})}}function xn(l){let e,t,n,a,i;const s=[Ns,Gs,Es],o=[];function u(r,f){return r[3]==="back"?0:r[3]==="first-perk"?1:r[3]==="second-perk"?2:-1}return~(t=u(l))&&(n=o[t]=s[t](l)),{c(){e=w("div"),n&&n.c(),m(e,"class","background svelte-187qhud")},m(r,f){H(r,e,f),~t&&o[t].m(e,null),i=!0},p(r,f){let c=t;t=u(r),t===c?~t&&o[t].p(r,f):(n&&(te(),v(o[c],1,1,()=>{o[c]=null}),ne()),~t?(n=o[t],n?n.p(r,f):(n=o[t]=s[t](r),n.c()),_(n,1),n.m(e,null)):n=null)},i(r){i||(_(n),r&&he(()=>{i&&(a||(a=Je(e,Ue,{delay:100,duration:200,easing:Ke,axis:"y"},!0)),a.run(1))}),i=!0)},o(r){v(n),r&&(a||(a=Je(e,Ue,{delay:100,duration:200,easing:Ke,axis:"y"},!1)),a.run(0)),i=!1},d(r){r&&$(e),~t&&o[t].d(),r&&a&&a.end()}}}function Es(l){let e,t;return e=new zt({props:{title:"Choose perk",list:l[2].secondPerk.list,selectedItem:l[4],nextButton:"Submit"}}),e.$on("back",l[7]),e.$on("next",l[6]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&4&&(i.list=n[2].secondPerk.list),a&16&&(i.selectedItem=n[4]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Gs(l){let e,t;return e=new zt({props:{title:"Choose perk",list:l[2].firstPerk.list,selectedItem:l[5]}}),e.$on("back",l[7]),e.$on("next",l[6]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&4&&(i.list=n[2].firstPerk.list),a&32&&(i.selectedItem=n[5]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Ns(l){let e,t;return e=new zt({props:{title:"Choose background",list:l[1],selectedItem:l[2],backButton:"Cancel"}}),e.$on("back",l[7]),e.$on("next",l[6]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p(n,a){const i={};a&2&&(i.list=n[1]),a&4&&(i.selectedItem=n[2]),e.$set(i)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Vs(l){let e,t,n=l[0]&&xn(l);return{c(){n&&n.c(),e=ht()},m(a,i){n&&n.m(a,i),H(a,e,i),t=!0},p(a,[i]){a[0]?n?(n.p(a,i),i&1&&_(n,1)):(n=xn(a),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(te(),v(n,1,1,()=>{n=null}),ne())},i(a){t||(_(n),t=!0)},o(a){v(n),t=!1},d(a){a&&$(e),n&&n.d(a)}}}function qs(l,e,t){let n,a;const i=me();let{isShown:s}=e,{list:o=[]}=e,u="back",r=o[0];const f=d=>{u==="back"?(t(2,r=d.detail),t(3,u="first-perk")):u==="first-perk"?(t(5,n=d.detail),t(3,u="second-perk")):u==="second-perk"&&(t(4,a=d.detail),i("submit",{background:r,firstPerk:n,secondPerk:a}),t(3,u="back"))},c=()=>{u==="back"?i("cancel"):u==="first-perk"?t(3,u="back"):u==="second-perk"&&t(3,u="first-perk")};return l.$$set=d=>{"isShown"in d&&t(0,s=d.isShown),"list"in d&&t(1,o=d.list)},l.$$.update=()=>{l.$$.dirty&4&&t(5,n=r.firstPerk.list[0]),l.$$.dirty&4&&t(4,a=r.secondPerk.list[0])},[s,o,r,u,a,n,f,c]}class xs extends Z{constructor(e){super(),X(this,e,qs,Vs,J,{isShown:0,list:1})}}function Jn(l,e,t){const n=l.slice();return n[22]=e[t],n}function Kn(l,e,t){const n=l.slice();return n[25]=e[t],n}function Un(l){let e,t,n,a=l[2][l[25]]+"",i,s,o,u,r;function f(){return l[14](l[25])}return{c(){e=w("button"),t=Y(l[25]),n=Y(": "),i=Y(a),m(e,"ontouchstart",""),e.disabled=s=!l[4].includes(l[25])&&l[4].length>=2,m(e,"class",o=ee(`item${l[4].includes(l[25])?" selected":""}`)+" svelte-chwjuy")},m(c,d){H(c,e,d),g(e,t),g(e,n),g(e,i),u||(r=re(e,"click",f),u=!0)},p(c,d){l=c,d&4&&a!==(a=l[2][l[25]]+"")&&U(i,a),d&16&&s!==(s=!l[4].includes(l[25])&&l[4].length>=2)&&(e.disabled=s),d&16&&o!==(o=ee(`item${l[4].includes(l[25])?" selected":""}`)+" svelte-chwjuy")&&m(e,"class",o)},d(c){c&&$(e),u=!1,r()}}}function Js(l){let e,t,n,a,i,s,o,u,r;i=new us({props:{options:l[7],value:l[3]}}),i.$on("select",l[15]);let f=l[3]!=="random"&&Qn(l);return{c(){e=w("section"),t=w("div"),t.innerHTML='<span class="text svelte-chwjuy">Starting gear</span>',n=S(),a=w("div"),P(i.$$.fragment),s=S(),o=w("span"),o.textContent=`You can use randomly generated starting gear or choose one of the
          starting packages.`,u=S(),f&&f.c(),m(t,"class","heading svelte-chwjuy"),m(o,"class","info svelte-chwjuy"),m(a,"class","inventory svelte-chwjuy"),m(e,"class","wrap svelte-chwjuy")},m(c,d){H(c,e,d),g(e,t),g(e,n),g(e,a),M(i,a,null),g(a,s),g(a,o),g(a,u),f&&f.m(a,null),r=!0},p(c,d){const p={};d&8&&(p.value=c[3]),i.$set(p),c[3]!=="random"?f?f.p(c,d):(f=Qn(c),f.c(),f.m(a,null)):f&&(f.d(1),f=null)},i(c){r||(_(i.$$.fragment,c),r=!0)},o(c){v(i.$$.fragment,c),r=!1},d(c){c&&$(e),A(i),f&&f.d()}}}function Ks(l){let e,t,n,a,i,s=l[1].title+"",o,u,r,f=l[1].description+"",c,d,p,h;return p=new se({props:{$$slots:{default:[Us]},$$scope:{ctx:l}}}),p.$on("click",l[11]),{c(){e=w("section"),t=w("div"),t.innerHTML='<span class="text svelte-chwjuy">Background</span>',n=S(),a=w("div"),i=w("span"),o=Y(s),u=S(),r=w("span"),c=Y(f),d=S(),P(p.$$.fragment),m(t,"class","heading svelte-chwjuy"),m(i,"class","background svelte-chwjuy"),m(r,"class","info svelte-chwjuy"),m(a,"class","inventory svelte-chwjuy"),m(e,"class","wrap svelte-chwjuy")},m(k,y){H(k,e,y),g(e,t),g(e,n),g(e,a),g(a,i),g(i,o),g(a,u),g(a,r),g(r,c),g(a,d),M(p,a,null),h=!0},p(k,y){(!h||y&2)&&s!==(s=k[1].title+"")&&U(o,s),(!h||y&2)&&f!==(f=k[1].description+"")&&U(c,f);const b={};y&268435456&&(b.$$scope={dirty:y,ctx:k}),p.$set(b)},i(k){h||(_(p.$$.fragment,k),h=!0)},o(k){v(p.$$.fragment,k),h=!1},d(k){k&&$(e),A(p)}}}function Qn(l){let e,t=Q(ct().find(l[16]).inventory),n=[];for(let a=0;a<t.length;a+=1)n[a]=Zn(Jn(l,t,a));return{c(){e=w("div");for(let a=0;a<n.length;a+=1)n[a].c();m(e,"class","items-list")},m(a,i){H(a,e,i);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(a,i){if(i&8){t=Q(ct().find(a[16]).inventory);let s;for(s=0;s<t.length;s+=1){const o=Jn(a,t,s);n[s]?n[s].p(o,i):(n[s]=Zn(o),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(a){a&&$(e),ge(n,a)}}}function Xn(l){let e,t=l[22].title+"",n;return{c(){e=w("span"),n=Y(t),m(e,"class","item svelte-chwjuy")},m(a,i){H(a,e,i),g(e,n)},p(a,i){i&8&&t!==(t=a[22].title+"")&&U(n,t)},d(a){a&&$(e)}}}function Zn(l){let e,t=l[22].title&&Xn(l);return{c(){t&&t.c(),e=ht()},m(n,a){t&&t.m(n,a),H(n,e,a)},p(n,a){n[22].title?t?t.p(n,a):(t=Xn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&$(e),t&&t.d(n)}}}function Us(l){let e;return{c(){e=Y("Choose background")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Qs(l){let e;return{c(){e=Y("Back")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Xs(l){let e;return{c(){e=Y("Save")},m(t,n){H(t,e,n)},d(t){t&&$(e)}}}function Zs(l){let e,t,n,a,i,s,o,u,r,f,c,d,p,h,k,y,b,T,z,L,D,K,O,x,R,E,j,V;i=new De({props:{value:l[2].name,placeholder:"Name",paddingRight:"45px"}}),i.$on("input",l[13]),u=new se({props:{borderless:!0,image:ps,height:25}}),u.$on("click",l[8]);let F=Q(["str","dex","wil"]),le=[];for(let C=0;C<3;C+=1)le[C]=Un(Kn(l,F,C));const B=[Ks,Js],W=[];function q(C,ae){return C[5]==="second"?0:1}return b=q(l),T=W[b]=B[b](l),D=new se({props:{$$slots:{default:[Qs]},$$scope:{ctx:l}}}),D.$on("click",l[17]),O=new se({props:{disabled:!l[2].name,$$slots:{default:[Xs]},$$scope:{ctx:l}}}),O.$on("click",l[18]),j=new xs({props:{list:St,isShown:l[0]}}),j.$on("cancel",l[11]),j.$on("submit",l[12]),{c(){e=w("div"),t=w("h2"),t.textContent="Create a character",n=S(),a=w("div"),P(i.$$.fragment),s=S(),o=w("div"),P(u.$$.fragment),r=S(),f=w("section"),c=w("div"),c.innerHTML='<span class="text svelte-chwjuy">Stats</span>',d=S(),p=w("div");for(let C=0;C<3;C+=1)le[C].c();h=S(),k=w("span"),k.textContent=`You can swap two of your stats by selecting or deselecting them with a
        click, and the change will take effect after character creation.`,y=S(),T.c(),z=S(),L=w("div"),P(D.$$.fragment),K=S(),P(O.$$.fragment),E=S(),P(j.$$.fragment),m(t,"class","title svelte-chwjuy"),m(o,"class","dice svelte-chwjuy"),m(a,"class","name svelte-chwjuy"),m(c,"class","heading svelte-chwjuy"),m(k,"class","info svelte-chwjuy"),m(p,"class","stats svelte-chwjuy"),m(f,"class","wrap svelte-chwjuy"),m(L,"class","controls svelte-chwjuy"),m(e,"class","form svelte-chwjuy")},m(C,ae){H(C,e,ae),g(e,t),g(e,n),g(e,a),M(i,a,null),g(a,s),g(a,o),M(u,o,null),g(e,r),g(e,f),g(f,c),g(f,d),g(f,p);for(let _e=0;_e<3;_e+=1)le[_e]&&le[_e].m(p,null);g(p,h),g(p,k),g(e,y),W[b].m(e,null),g(e,z),g(e,L),M(D,L,null),g(L,K),M(O,L,null),H(C,E,ae),M(j,C,ae),V=!0},p(C,[ae]){const _e={};if(ae&4&&(_e.value=C[2].name),i.$set(_e),ae&532){F=Q(["str","dex","wil"]);let ce;for(ce=0;ce<3;ce+=1){const ue=Kn(C,F,ce);le[ce]?le[ce].p(ue,ae):(le[ce]=Un(ue),le[ce].c(),le[ce].m(p,h))}for(;ce<3;ce+=1)le[ce].d(1)}let Ye=b;b=q(C),b===Ye?W[b].p(C,ae):(te(),v(W[Ye],1,1,()=>{W[Ye]=null}),ne(),T=W[b],T?T.p(C,ae):(T=W[b]=B[b](C),T.c()),_(T,1),T.m(e,z));const Fe={};ae&268435456&&(Fe.$$scope={dirty:ae,ctx:C}),D.$set(Fe);const We={};ae&4&&(We.disabled=!C[2].name),ae&268435456&&(We.$$scope={dirty:ae,ctx:C}),O.$set(We);const Oe={};ae&1&&(Oe.isShown=C[0]),j.$set(Oe)},i(C){V||(_(i.$$.fragment,C),_(u.$$.fragment,C),_(T),_(D.$$.fragment,C),_(O.$$.fragment,C),C&&he(()=>{V&&(R&&R.end(1),x=gt(e,ze,{delay:200,duration:200}),x.start())}),_(j.$$.fragment,C),V=!0)},o(C){v(i.$$.fragment,C),v(u.$$.fragment,C),v(T),v(D.$$.fragment,C),v(O.$$.fragment,C),x&&x.invalidate(),C&&(R=mt(e,ze,{duration:200})),v(j.$$.fragment,C),V=!1},d(C){C&&($(e),$(E)),A(i),A(u),ge(le,C),W[b].d(),A(D),A(O),C&&R&&R.end(),A(j,C)}}}function eo(l,e,t){let n,a;oe(l,He,R=>t(5,n=R)),oe(l,Ce,R=>t(21,a=R));const i=me();let s=!1,o=n==="second"?St[I(1,St.length)-1]:null,u=o==null?void 0:o.firstPerk.list[I(1,1)-1],r=o==null?void 0:o.secondPerk.list[I(1,6)-1],f={name:o?o.names[I(1,o.names.length-1)]:"",str:I(3,6),dex:I(3,6),wil:I(3,6),hp:u!=null&&u.hp?I(1,6)+I(1,4):I(1,6),gp:I(o?o.goldDices:3,6)},c=["random",...ct().map(R=>R.title)],d=c[0],p=[];const h=()=>{const R=I(1,2)===1?cs[I(1,20)]:fs[I(1,20)];t(2,f.name=`${R} ${ds[I(1,20)]}`,f)},k=R=>{if(p.includes(R)){const E=p.indexOf(R,0);E!==-1&&(p.splice(E,1),t(4,p=[...p]))}else{if(p.length>=2)return;t(4,p=[...p,R])}},y=()=>{var R,E;if(p.length===2){const j=f[p[0]],V=f[p[1]];t(2,f[p[0]]=V,f),t(2,f[p[1]]=j,f)}if(Ae.set(f.name),be.set({str:f.str,dex:f.dex,wil:f.wil,strMax:f.str,dexMax:f.dex,wilMax:f.wil}),fe.set({hp:f.hp,hpMax:f.hp,armor:0,deprived:!1}),Ce.set({gp:f.gp.toString(),sp:"0",cp:"0"}),n==="second"){const j=o.title==="Fieldwarden"||o.title==="Outrider"&&u.items.length&&u.items[0].title==="Blacked-out Ledger",V=j?[Ge[I(1,Ge.length)-1],Ge[I(1,Ge.length)-1]]:[Ge[I(1,Ge.length)-1]];ke.set(o.inventory),u.items&&Ne(u.items),r.items&&Ne(r.items),Pe.set(o.petty),u.petty&&Ne(u.petty),r.petty&&Ne(r.petty),V.forEach(F=>{F.gold&&Ce.change("gp",(+a.gp+20).toString()),F.items&&Ne(F.items),F.petty&&Ne(F.petty)}),Xe.set({background:o.title,description:o.description,firstPerk:{title:o.firstPerk.title,content:u.content},secondPerk:{title:o.secondPerk.title,subtitle:r.title,content:r.content},bonds:j?[V[0].content,V[1].content]:[V[0].content]}),Me.set(`Age: ${I(2,20)+10}. 
You have an ${zn[I(1,10)]} physique, ${Dn[I(1,10)]} skin, ${Fn[I(1,10)]} hair, and a ${On[I(1,10)]} face.
You speak in a ${jn[I(1,10)]} manner and wear ${En[I(1,10)]} clothing.
You are ${Nn[I(1,10)]} yet ${Gn[I(1,10)]}.`),we.set([]),(R=u.companions)!=null&&R.length&&u.companions.forEach(F=>we.addCompanion(F)),(E=r.companions)!=null&&E.length&&r.companions.forEach(F=>we.addCompanion(F))}n==="first"&&(ke.set(d==="random"?ss():ct().find(j=>j.title===d).inventory),Me.set(`Age: ${I(2,20)+10}, formerly a ${hs[I(1,20)]}.
You have an ${zn[I(1,10)]} physique, ${Dn[I(1,10)]} skin, ${Fn[I(1,10)]} hair, and a ${On[I(1,10)]} face.
You speak in a ${jn[I(1,10)]} manner and wear ${En[I(1,10)]} clothing.
You are ${Nn[I(1,10)]} yet ${Gn[I(1,10)]}, and are generally regarded as ${gs[I(1,10)]}.
You have had the misfortune of being ${ms[I(1,10)]}.`)),ie(),i("hide-form")},b=()=>{t(0,s=!s)};return[s,o,f,d,p,n,i,c,h,k,y,b,R=>{t(1,o=R.detail.background),u=R.detail.firstPerk,r=R.detail.secondPerk,b()},R=>t(2,f.name=R.detail,f),R=>k(R),R=>t(3,d=R.detail),R=>R.title===d,()=>i("hide-form"),()=>y()]}class to extends Z{constructor(e){super(),X(this,e,eo,Zs,J,{})}}function no(l){let e,t,n;return{c(){e=w("div"),m(e,"class","loading svelte-tz0e0i")},m(a,i){H(a,e,i),n=!0},p:G,i(a){n||(t&&t.end(1),n=!0)},o(a){a&&(t=mt(e,ze,{duration:200})),n=!1},d(a){a&&$(e),a&&t&&t.end()}}}class lo extends Z{constructor(e){super(),X(this,e,null,no,J,{})}}function ao(l){let e,t;return e=new to({}),e.$on("hide-form",l[4]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:G,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function io(l){let e,t;return e=new as({}),e.$on("show-form",l[4]),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:G,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function so(l){let e,t;return e=new Yi({}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:G,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function oo(l){let e,t;return e=new lo({}),{c(){P(e.$$.fragment)},m(n,a){M(e,n,a),t=!0},p:G,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ro(l){let e,t,n,a;return{c(){e=w("span"),e.textContent=`This is a new version of the app and you can now create characters for
      Cairn 2ed!
    `,t=w("br"),n=S(),a=w("span"),a.innerHTML='If you find any bug, please<br/> <a href="https://brightsdays.github.io/contacts/" target="_blank">let me know</a> :)'},m(i,s){H(i,e,s),H(i,t,s),H(i,n,s),H(i,a,s)},p:G,d(i){i&&($(e),$(t),$(n),$(a))}}}function uo(l){let e,t,n,a,i,s;const o=[oo,so,io,ao],u=[];function r(f,c){return f[2]?0:f[3]?1:f[1]?3:2}return t=r(l),n=u[t]=o[t](l),i=new Se({props:{isShown:l[0],submission:!0,$$slots:{default:[ro]},$$scope:{ctx:l}}}),i.$on("cancel",l[5]),{c(){e=w("main"),n.c(),a=S(),P(i.$$.fragment),m(e,"class","svelte-ncbruq")},m(f,c){H(f,e,c),u[t].m(e,null),g(e,a),M(i,e,null),s=!0},p(f,[c]){let d=t;t=r(f),t===d?u[t].p(f,c):(te(),v(u[d],1,1,()=>{u[d]=null}),ne(),n=u[t],n?n.p(f,c):(n=u[t]=o[t](f),n.c()),_(n,1),n.m(e,a));const p={};c&1&&(p.isShown=f[0]),c&128&&(p.$$scope={dirty:c,ctx:f}),i.$set(p)},i(f){s||(_(n),_(i.$$.fragment,f),s=!0)},o(f){v(n),v(i.$$.fragment,f),s=!1},d(f){f&&$(e),u[t].d(),A(i)}}}function fo(l,e,t){let n;oe(l,Ae,f=>t(3,n=f));let a=!1,i=!1,s=!0;const o=()=>{t(1,i=!i)},u=()=>{t(0,a=!1),localStorage.setItem("pc_modal_1.11","shown")},r=()=>{const f=localStorage.getItem("pc__character");return f&&Lt(JSON.parse(f))&&(He.set(JSON.parse(f).edition),Ae.set(JSON.parse(f).name),be.set(JSON.parse(f).abilities),fe.set(JSON.parse(f).stats),Ce.set(JSON.parse(f).coins),ke.set(JSON.parse(f).inventory),Pe.set(JSON.parse(f).petty),pe.set(JSON.parse(f).scars),Me.set(JSON.parse(f).notes),Xe.set(JSON.parse(f).biography),we.set(JSON.parse(f).companions||[])),!0};return Hl(()=>{localStorage.removeItem("pc_modal_1.12"),localStorage.getItem("pc_modal_1.11")||t(0,a=!0),r(),setTimeout(()=>t(2,s=!1),200)}),[a,i,s,n,o,u]}class co extends Z{constructor(e){super(),X(this,e,fo,uo,J,{})}}new co({target:document.getElementById("app")});
